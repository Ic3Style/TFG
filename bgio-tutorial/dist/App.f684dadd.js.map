{"version":3,"sources":["node_modules/nanoid/url-alphabet/index.js","node_modules/nanoid/index.browser.js","../src/utils/errors.ts","../src/utils/common.ts","../src/types/types-internal.ts","../src/utils/plugins.ts","../src/core/scope.ts","../src/core/finalize.ts","../src/core/proxy.ts","../src/core/immerClass.ts","../src/core/current.ts","../src/plugins/es5.ts","../src/plugins/patches.ts","../src/plugins/mapset.ts","../src/plugins/all.ts","../src/immer.ts","../src/utils/env.ts","node_modules/lodash.isplainobject/index.js","node_modules/boardgame.io/dist/esm/turn-order-5f1427df.js","node_modules/boardgame.io/dist/esm/reducer-e68c7d84.js","node_modules/flatted/esm/index.js","node_modules/boardgame.io/dist/esm/ai-242cdcaf.js","node_modules/boardgame.io/dist/esm/Debug-cf878fdc.js","node_modules/symbol-observable/es/ponyfill.js","node_modules/symbol-observable/es/index.js","node_modules/redux/es/redux.js","node_modules/boardgame.io/dist/esm/initialize-07bed2c0.js","node_modules/boardgame.io/dist/esm/transport-0079de87.js","node_modules/boardgame.io/dist/esm/client-deed9200.js","node_modules/boardgame.io/dist/esm/client-99609c4d.js","node_modules/boardgame.io/dist/esm/client.js","node_modules/boardgame.io/dist/esm/core.js","src/Game.js","src/App.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["urlAlphabet","navigator","product","crypto","Error","msCrypto","random","bytes","getRandomValues","Uint8Array","customRandom","alphabet","size","getRandom","mask","Math","log","length","LN2","step","id","j","customAlphabet","nanoid","byte","toString","toUpperCase","die","error","args","e","errors","msg","apply","map","s","join","isDraft","value","DRAFT_STATE","isDraftable","proto","Object","getPrototypeOf","prototype","isPlainObject","Array","isArray","DRAFTABLE","constructor","isMap","isSet","original","base_","each","obj","iter","enumerableOnly","getArchtype","keys","ownKeys","forEach","key","entry","index","thing","state","type_","has","prop","hasOwnProperty","call","get","set","propOrOldValue","t","delete","add","is","x","y","target","hasMap","Map","hasSet","Set","latest","copy_","shallowCopy","base","slice","descriptors","getOwnPropertyDescriptors","i","desc","writable","configurable","enumerable","create","freeze","deep","isFrozen","clear","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","loadPlugin","implementation","getCurrentScope","currentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","result","baseDraft","isReplaced","undefined","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","path","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","res","assigned_","concat","autoFreeze_","peek","getDescriptorFromProto","source","getOwnPropertyDescriptor","markChanged","prepareCopy","createProxy","parent","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createProxyProxy","createES5Proxy_","push","current","currentImpl","copy","archType","hasChanges_","copyHelper","from","enableES5","proxyProperty","this","assertUnrevoked","markChangesSweep","drafts","hasArrayChanges","hasObjectChanges","baseValue","baseIsDraft","descriptor","JSON","stringify","defineProperty","createES5Draft","markChangesRecursively","object","min","enablePatches","deepClonePatchValue","entries","cloned","clonePatchValueIfNeeded","ADD","applyPatches_","patches","patch","op","parentType","p","type","splice","basePath","inversePatches","assignedValue","origValue","generatePatchesFromAssigned","generateArrayPatches","unshift","generateSetPatches","rootState","replacement","enableMapSet","__extends","d","b","__","extendStatics","prepareMapCopy","prepareSetCopy","setPrototypeOf","__proto__","DraftMap","cb","thisArg","_value","_this","values","iterator","iteratorSymbol","_this2","next","r","done","_this3","DraftSet","enableAllPlugins","castDraft","castImmutable","hasSymbol","Symbol","hasProxies","Reflect","for","data","getOwnPropertySymbols","getOwnPropertyNames","_desc$get","readPropFromProto","currentState","deleteProperty","owner","fn","arguments","isNaN","parseInt","Immer","config","useProxies","setUseProxies","autoFreeze","setAutoFreeze","produce","bind","produceWithPatches","recipe","defaultBase","self","hasError","Promise","then","arg1","arg2","ip","createDraft","finishDraft","applyPatches","applyPatchesImpl","MAKE_MOVE","GAME_EVENT","REDO","RESET","SYNC","UNDO","UPDATE","PLUGIN","makeMove","playerID","credentials","payload","gameEvent","automaticGameEvent","automatic","sync","info","initialState","clientOnly","update","deltalog","reset","undo","redo","ActionCreators","INVALID_MOVE","ImmerPlugin","name","fnWrap","move","G","ctx","isInvalid","newG","Alea","seed","mash","Mash","c","s0","s1","s2","trunc","n","str","charCodeAt","h","f","alea","xg","prng","Random","used","Date","now","isUsed","getState","_random","R","prngstate","rand","number","api","SpotValue","D4","D6","D8","D10","D12","D20","predefined","spotvalue","diceCount","floor","Die","Number","Shuffle","deck","clone","srcIndex","dstIndex","shuffled","randIndex","_obj","RandomPlugin","noClient","flush","setup","game","playerView","Events","flow","dispatch","events","phase","turn","eventNames","item","action","processEvent","EventsPlugin","dangerouslyFlushRawState","LogPlugin","setMetadata","metadata","isSerializable","SerializablePlugin","DEFAULT_PLUGINS","ProcessAction","opts","filter","pluginState","EnhanceCtx","FnWrap","reducer","acc","reduce","Setup","Enhance","Flush","reverse","newData","NoClient","some","PlayerView","production","logfn","console","errorfn","SetActivePlayersEvent","_playerID","arg","SetActivePlayers","_prevActivePlayers","activePlayers","_nextActivePlayers","_activePlayersMoveLimit","v","Stage","NULL","revert","_activePlayersNumMoves","currentPlayer","ApplyActivePlayerArgument","others","playOrder","all","moveLimit","UpdateActivePlayersOnceEmpty","lastIndex","stage","getCurrentPlayer","playOrderPos","InitTurnOrderState","ctxWithAPI","order","numPlayers","_","first","posType","UpdateTurnOrderState","endTurnArg","endPhase","indexOf","TurnOrder","DEFAULT","CONTINUE","ONCE","CUSTOM","CUSTOM_FROM","playOrderField","ActivePlayers","ALL","ALL_ONCE","OTHERS","OTHERS_ONCE","Flow","moves","phases","endIf","onEnd","phaseMap","moveMap","moveNames","startingPhase","HookWrapper","withPlugins","TriggerWrapper","wrapped","conf","start","onBegin","onMove","stages","stageConfig","GetPhase","OnMove","Process","phasesEnded","turnsEnded","rest","EndPhase","EndGame","shouldEndGame","ShouldEndGame","shouldEndPhase","ShouldEndPhase","shouldEndTurn","ShouldEndTurn","EndTurn","StartGame","StartPhase","StartTurn","numMoves","_undo","_redo","UpdatePhase","UpdateTurn","newCtx","UpdateStage","currentPlayerMoves","gameover","force","logEntry","_stateID","remove","EndStage","playerInStage","GetMove","ProcessMove","shouldCount","noLimit","SetStageEvent","EndStageEvent","SetPhaseEvent","newPhase","EndPhaseEvent","EndTurnEvent","PassEvent","EndGameEvent","eventHandlers","endStage","setStage","endTurn","pass","setPhase","endGame","setActivePlayers","enabledEventNames","ProcessEvent","eventArgs","IsPlayerActive","_G","_d","init","isPlayerActive","processMove","getMove","IsProcessed","ProcessGameConfig","disableUndo","includes","pluginNames","moveFn","IsLongFormMove","Function","actionHasPlayerID","CanUndoMove","HasUndoable","undoable","IsFunction","updateUndoRedoState","undoEntry","moveType","initializeDeltalog","pluginLogMetadata","redact","CreateGameReducer","isClient","newState","client","last","restore","lastMove","Flatted","Primitive","primitive","parse","text","input","Primitives","primitives","revive","firstRun","known","output","replace","parsed","tmp","String","Bot","enumerate","enumerateFn","iterationCounter","_opts","addOpt","range","initial","getOpt","setOpt","actions","a","event","CHUNK_SIZE","MCTSBot","objectives","iterations","playoutDepth","iterationCallback","max","createNode","parentAction","children","visits","select","node","selectedChild","best","child","childVisits","EPSILON","uct","sqrt","expand","childState","childNode","playout","score","objective","checker","weight","backpropagate","draw","winner","play","root","numIterations","getResult","resolve","iteration","leaf","asyncIteration","setTimeout","RandomBot","Step","bot","store","Simulate","bots","depth","noop","identity","assign","tar","src","k","run","blank_object","run_all","fns","is_function","safe_not_equal","subscribe","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","create_slot","definition","$$scope","slot_ctx","get_slot_context","get_slot_changes","dirty","lets","merged","len","update_slot","slot","slot_definition","get_slot_changes_fn","get_slot_context_fn","slot_changes","slot_context","exclude_internal_props","props","null_to_empty","is_client","window","performance","raf","requestAnimationFrame","tasks","run_tasks","task","loop","promise","fulfill","abort","append","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","detaching","element","document","createElement","svg_element","createElementNS","createTextNode","space","empty","listen","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","childNodes","set_data","wholeText","set_input_value","select_option","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","detail","createEvent","initCustomEvent","active_docs","active","hash","create_rule","duration","delay","ease","uid","keyframes","rule","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","style","delete_rule","previous","split","anim","deleted","clear_rules","deleteRule","current_component","set_current_component","get_current_component","afterUpdate","after_update","onDestroy","createEventDispatcher","setContext","context","getContext","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","add_render_callback","flushing","seen_callbacks","pop","fragment","before_update","wait","direction","kind","dispatchEvent","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","o","null_transition","create_bidirectional_transition","params","intro","running_program","pending_program","animation_name","clear_animation","program","abs","end","group","go","easing","tick","css","globals","globalThis","global","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","create_component","mount_component","on_mount","m","new_on_destroy","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","prop_values","bound","ready","ret","hydrate","nodes","l","SvelteComponent","$destroy","$on","$set","subscriber_queue","stop","subscribers","new_value","run_queue","invalidate","subscriber","cubicOut","fly","opacity","getComputedStyle","target_opacity","transform","od","u","add_css","textContent","get_each_context","list","child_ctx","label","create_each_block","button","t0_value","t0","t1","mounted","dispose","click_handler","new_ctx","nav","each_value","each_blocks","$$self","$$props","$$invalidate","pane","panes","Menu","getElementById","contextKey","add_css$1","create_fragment$1","div1","div0","instance$1","expanded","JSONArrow","add_css$2","create_if_block","span","create_fragment$2","if_block_anchor","if_block","instance$2","isParentExpanded","isParentArray","colon","showKey","$","JSONKey","add_css$3","get_each_context$1","create_if_block_3","jsonarrow","jsonarrow_changes","create_else_block","create_if_block$1","ul","create_each_block$1","out","create_if_block_1","Boolean","create_if_block_2","jsonnode","JSONNode","jsonnode_changes","create_fragment$3","li","label_1","jsonkey","span1","span0","t2","t3","t4","current_block_type_index","if_block1","t5","span2","t6","if_block0","if_block_creators","if_blocks","select_block_type","jsonkey_changes","previous_block_index","instance$3","bracketOpen","bracketClose","previewKeys","getKey","getValue","getPreviewValue","expandable","toggleExpand","slicedKeys","JSONNested","create_fragment$4","jsonnested","jsonnested_changes","instance$4","nodeType","JSONObjectNode","create_fragment$5","instance$5","filteredKey","JSONArrayNode","create_fragment$6","instance$6","JSONIterableArrayNode","MapEntry","create_fragment$7","getKey$1","getValue$1","instance$7","JSONIterableMapNode","create_fragment$8","instance$8","JSONMapEntryNode","add_css$4","create_fragment$9","t1_value","span_class_value","instance$9","valueGetter","JSONValueNode","add_css$5","get_each_context$2","create_if_block_2$1","create_if_block$2","create_if_block_1$1","message","create_each_block$2","t_value","br","create_fragment$a","t3_value","instance$a","stack","ErrorNode","objType","create_fragment$b","switch_instance","switch_instance_anchor","switch_value","switch_props","switch_instance_changes","old_component","instance$b","getComponent","getValueGetter","raw","toISOString","componentType","add_css$6","create_fragment$c","instance$c","Root","document_1","add_css$7","get_each_context$3","create_if_block$3","section","create_each_block$3","selectId","t2_value","t4_value","matchID","t6_value","t7","option_value_value","create_fragment$d","instance$d","$clientManager","$$unsubscribe_clientManager","$$subscribe_clientManager","clientManager","$$value","handleSelection","selectedClient","debuggableClients","switchToClient","focus","select_change_handler","ClientSwitcher","add_css$8","create_if_block$4","create_fragment$e","div","disabled","instance$e","$disableHotkeys","onPress","disable","disableHotkeys","Deactivate","Activate","Keypress","ctrlKey","metaKey","preventDefault","Hotkey","add_css$9","create_fragment$f","span3","keypress_handler","instance$f","Submit","innerText","argArray","OnKeyDown","blur","span2_binding","InteractiveFunction","add_css$a","create_if_block$5","create_fragment$g","hotkey","interactivefunction","hotkey_changes","interactivefunction_changes","instance$g","shortcut","error$1","Move","add_css$b","create_fragment$h","li0","hotkey0","li1","hotkey1","li2","hotkey2","li3","hotkey3","hotkey0_changes","instance$h","Save","json","localStorage","setItem","Restore","gamestateJSON","getItem","initialStateJSON","gamestate","Controls","add_css$c","get_each_context$4","create_each_block$4","button_aria_label_value","create_fragment$i","instance$i","OnClick","player","playerLabel","properties","players","PlayerInfo","_classCallCheck","Constructor","TypeError","_defineProperties","_createClass","protoProps","staticProps","_defineProperty","symbols","sym","_objectSpread2","defineProperties","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","_isNativeReflectConstruct","construct","sham","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","NewTarget","_unsupportedIterableToArray","minLen","_arrayLikeToArray","test","arr","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","err","return","AssignShortcuts","blacklist","shortcuts","taken","_iterator","_step","canUseFirstChar","_name","_shortcut","fromCharCode","add_css$d","get_each_context$5","create_each_block$5","move_changes","create_if_block_2$2","create_if_block_1$2","create_if_block$6","create_fragment$j","section0","h30","controls","section1","h31","playerinfo","section2","h32","ul0","t8","section3","h33","t10","ul1","t11","t12","t13","section4","h34","t15","jsontree0","t16","section5","h35","t18","jsontree1","t19","clientswitcher","if_block2","SanitizeCtx","controls_changes","playerinfo_changes","jsontree0_changes","jsontree1_changes","clientswitcher_changes","startsWith","instance$j","change_handler","switchPlayerID","Main","add_css$e","create_fragment$k","strong","instance$k","Item","add_css$f","create_if_block$7","isConnected","item_changes","create_fragment$l","item0","item1","item2","isActive","multiplayer","item0_changes","item1_changes","item2_changes","instance$l","$client","$$unsubscribe_client","$$subscribe_client","Info","add_css$g","create_fragment$m","instance$m","numEvents","TurnMarker","add_css$h","create_fragment$n","instance$n","PhaseMarker","create_fragment$o","instance$o","renderedMetadata","LogMetadata","add_css$i","create_else_block$1","logmetadata","logmetadata_changes","create_if_block$8","create_fragment$p","button_class_value","instance$p","logIndex","pinned","metadataComponent","renderedArgs","actionType","mouseenter_handler","focus_handler","mouseleave_handler","blur_handler","LogEvent","add_css$j","create_if_block$9","title_1","create_fragment$q","svg","default_slot_template","default","default_slot","instance$q","title","viewBox","$$slots","IconBase","create_default_slot","create_fragment$r","iconbase","iconbase_spread_levels","iconbase_props","iconbase_changes","instance$r","$$new_props","FaArrowAltCircleDown","add_css$k","create_fragment$s","instance$s","argsFormatted","Action","add_css$l","get_each_context$6","create_each_block$6","tr","td0","td1","td2","mouseout_handler","mouseover_handler","action_changes","create_fragment$t","table","thead","tbody","innerHTML","instance$t","selectedIndex","parents","Select","Preview","arrowText","sort","Table","add_css$m","get_each_context$7","create_if_block_2$3","arrow","create_else_block$2","select_handler_1","table_changes","create_if_block_1$3","select_handler","preview_handler","create_each_block$7","create_if_block$a","create_fragment$u","instance$u","preview","SelectNode","PreviewNode","MCTS","add_css$n","get_each_context$8","get_each_context_1","get_each_context_2","create_if_block_1$4","turnmarker","turnmarker_changes","create_each_block_2","create_each_block_1","logevent","logevent_changes","create_if_block$b","phasemarker","phasemarker_changes","create_each_block$8","create_fragment$v","each_value_2","each_blocks_2","each_value_1","each_blocks_1","out_1","out_2","instance$v","secondaryPane","getInitialState","rewind","OnLogClick","renderedLogEntries","overrideGameState","OnMouseEnter","OnMouseLeave","Reset","keyCode","turnBoundaries","phaseBoundaries","eventsInCurrentPhase","eventsInCurrentTurn","Log","add_css$o","get_each_context$9","create_if_block_1$5","input_min_value","input_max_value","input_change_input_handler","create_if_block$c","input_change_handler","checked","create_each_block$9","create_fragment$w","each_1_anchor","instance$w","OnChange","Options","add_css$p","get_each_context$a","create_else_block$3","p0","p1","create_if_block_5","create_if_block$d","show_if","if_block1_anchor","create_each_block$a","create_if_block_4","create_if_block_1$6","h3","options_changes","create_if_block_3$1","create_if_block_2$4","progress_1","create_fragment$x","ai","instance$x","debug","progress","OnDebug","selectedBot","botAction","botActionArgs","ChangeBot","botConstructor","Step$1","sleepTimeout","Exit","AI","add_css$q","create_if_block$e","menu","section_transition","create_if_block_1$7","menu_changes","create_fragment$y","instance$y","$secondaryPane","main","paneDiv","MenuChange","visible","div_binding","Debug","symbolObservablePonyfill","observable","module","randomString","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","preloadedState","enhancer","_ref2","currentReducer","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","$$observable","warning","getUndefinedStateErrorMessage","actionDescription","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","argumentName","match","unexpectedKeys","assertReducerShape","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","compose","_len","funcs","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","isCrushed","InitializeGame","setupData","enhancedCtx","Transport","gameName","DummyImpl","connect","disconnect","onAction","onChatMessage","subscribeChatMessage","subscribeMatchData","updateCredentials","updateMatchID","updatePlayerID","DummyTransport","ClientManager","debugPanel","currentClient","clients","register","mountDebug","notifySubscribers","unregister","unmountDebug","debugOpt","getDebuggableClients","DebugImpl","body","impl","GlobalClientManager","assumedPlayerID","createDispatchers","storeActionType","innerActionNames","dispatchers","createMoveDispatchers","createEventDispatchers","createPluginDispatchers","_ClientImpl","manager","gameStateOverride","_running","undo$1","redo$1","LogMiddleware","TransportMiddleware","baseState","transport","SubscriptionMiddleware","gameKey","matchData","chatMessages","sendChatMessage","sender","Client","assertString","assertGameName","assertMatchID","validateBody","schema","received","LobbyClientError","details","LobbyClient","server","request","route","response","fetch","ok","status","post","method","headers","listGames","listMatches","where","query","queries","isGameover","updatedBefore","updatedAfter","getMatch","createMatch","joinMatch","playerName","leaveMatch","updatePlayer","playAgain","STRIP_SECRETS","secret","TicTacToe","cells","clickCell","IsVictory","IsDraw","positions","isRowComplete","row","every","TicTacToeClient","rootElement","createBoard","attachListeners","rows","handleCellClick","dataset","querySelectorAll","cell","onclick","cellId","cellValue","messageEl","appElement","app","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","getParents","modules","dep","deps","cached","cache"],"mappings":"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EAAvBA,CP4IsC;AAAA,IOlIpDuK,EAAAA,GAAcvK,EAAAA,CAAMuK,WAANvK,CAAkB2J,IAAlB3J,CAAuBA,EAAvBA,CPkIsC;;;;;;;;;;eOlIfA;;;AE1FlD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3IA;;AACA;;;;;;;;;;AAEA;;;;;;;AAOA,MAAM0K,SAAS,GAAG,WAAlB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,IAAI,GAAG,MAAb;;AACA,MAAMC,KAAK,GAAG,OAAd;;AACA,MAAMC,IAAI,GAAG,MAAb;;AACA,MAAMC,IAAI,GAAG,MAAb;;AACA,MAAMC,MAAM,GAAG,QAAf;;AACA,MAAMC,MAAM,GAAG,QAAf;AAEA;;;;;;;;AAOA;;;;;;;;;;;AAQA,MAAMC,QAAQ,GAAG,CAACtF,IAAD,EAAO3L,IAAP,EAAakR,QAAb,EAAuBC,WAAvB,MAAwC;AACrDxF,EAAAA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","file":"App.f684dadd.js","sourceRoot":"..","sourcesContent":["// This alphabet uses `A-Za-z0-9_-` symbols. The genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nlet urlAlphabet =\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\n\nexport { urlAlphabet }\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtypeObject,\n\tArchtypeArray,\n\tArchtypeMap,\n\tArchtypeSet,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\treturn !proto || proto === Object.prototype\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === ArchtypeObject) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): 0 | 1 | 2 | 3 {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? ArchtypeArray\n\t\t: isMap(thing)\n\t\t? ArchtypeMap\n\t\t: isSet(thing)\n\t\t? ArchtypeSet\n\t\t: ArchtypeObject\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchtypeMap\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchtypeMap ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchtypeMap) thing.set(propOrOldValue, value)\n\telse if (t === ArchtypeSet) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tSetState,\n\tImmerScope,\n\tProxyObjectState,\n\tProxyArrayState,\n\tES5ObjectState,\n\tES5ArrayState,\n\tMapState,\n\tDRAFT_STATE\n} from \"../internal\"\n\nexport type Objectish = AnyObject | AnyArray | AnyMap | AnySet\nexport type ObjectishNoSet = AnyObject | AnyArray | AnyMap\n\nexport type AnyObject = {[key: string]: any}\nexport type AnyArray = Array<any>\nexport type AnySet = Set<any>\nexport type AnyMap = Map<any, any>\n\nexport const ArchtypeObject = 0\nexport const ArchtypeArray = 1\nexport const ArchtypeMap = 2\nexport const ArchtypeSet = 3\n\nexport const ProxyTypeProxyObject = 0\nexport const ProxyTypeProxyArray = 1\nexport const ProxyTypeES5Object = 4\nexport const ProxyTypeES5Array = 5\nexport const ProxyTypeMap = 2\nexport const ProxyTypeSet = 3\n\nexport interface ImmerBaseState {\n\tparent_?: ImmerState\n\tscope_: ImmerScope\n\tmodified_: boolean\n\tfinalized_: boolean\n\tisManual_: boolean\n}\n\nexport type ImmerState =\n\t| ProxyObjectState\n\t| ProxyArrayState\n\t| ES5ObjectState\n\t| ES5ArrayState\n\t| MapState\n\t| SetState\n\n// The _internal_ type used for drafts (not to be confused with Draft, which is public facing)\nexport type Drafted<Base = any, T extends ImmerState = ImmerState> = {\n\t[DRAFT_STATE]: T\n} & Base\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeMap\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeSet\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyTypeProxyObject ||\n\t\tstate.type_ === ProxyTypeProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyTypeES5Object,\n\tProxyTypeES5Array,\n\tProxyTypeSet,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyTypeES5Object || state.type_ === ProxyTypeES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyTypeSet ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyTypeSet && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyTypeProxyArray : (ProxyTypeProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existig to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyTypeProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tthis.produce = this.produce.bind(this)\n\t\tthis.produceWithPatches = this.produceWithPatches.bind(this)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce(base: any, recipe?: any, patchListener?: any) {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches(arg1: any, arg2?: any, arg3?: any): any {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches(base: Objectish, patches: Patch[]) {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtypeMap,\n\tArchtypeSet,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === ArchtypeSet ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase ArchtypeMap:\n\t\t\treturn new Map(value)\n\t\tcase ArchtypeSet:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyTypeES5Array : (ProxyTypeES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyTypeES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyTypeES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyTypeES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyTypeES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyTypeES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n","import {\n\tImmerState,\n\tPatch,\n\tSetState,\n\tES5ArrayState,\n\tProxyArrayState,\n\tMapState,\n\tES5ObjectState,\n\tProxyObjectState,\n\tPatchPath,\n\tget,\n\teach,\n\thas,\n\tgetArchtype,\n\tisSet,\n\tisMap,\n\tloadPlugin,\n\tProxyTypeProxyObject,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeES5Array,\n\tProxyTypeProxyArray,\n\tProxyTypeSet,\n\tArchtypeMap,\n\tArchtypeSet,\n\tArchtypeArray,\n\tdie,\n\tisDraft,\n\tisDraftable,\n\tArchtypeObject\n} from \"../internal\"\n\nexport function enablePatches() {\n\tconst REPLACE = \"replace\"\n\tconst ADD = \"add\"\n\tconst REMOVE = \"remove\"\n\n\tfunction generatePatches_(\n\t\tstate: ImmerState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tswitch (state.type_) {\n\t\t\tcase ProxyTypeProxyObject:\n\t\t\tcase ProxyTypeES5Object:\n\t\t\tcase ProxyTypeMap:\n\t\t\t\treturn generatePatchesFromAssigned(\n\t\t\t\t\tstate,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t\tcase ProxyTypeES5Array:\n\t\t\tcase ProxyTypeProxyArray:\n\t\t\t\treturn generateArrayPatches(state, basePath, patches, inversePatches)\n\t\t\tcase ProxyTypeSet:\n\t\t\t\treturn generateSetPatches(\n\t\t\t\t\t(state as any) as SetState,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t}\n\t}\n\n\tfunction generateArrayPatches(\n\t\tstate: ES5ArrayState | ProxyArrayState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, assigned_} = state\n\t\tlet copy_ = state.copy_!\n\n\t\t// Reduce complexity by ensuring `base` is never longer.\n\t\tif (copy_.length < base_.length) {\n\t\t\t// @ts-ignore\n\t\t\t;[base_, copy_] = [copy_, base_]\n\t\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t\t}\n\n\t\t// Process replaced indices.\n\t\tfor (let i = 0; i < base_.length; i++) {\n\t\t\tif (assigned_[i] && copy_[i] !== base_[i]) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t\t})\n\t\t\t\tinversePatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(base_[i])\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// Process added indices.\n\t\tfor (let i = base_.length; i < copy_.length; i++) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: ADD,\n\t\t\t\tpath,\n\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t})\n\t\t}\n\t\tif (base_.length < copy_.length) {\n\t\t\tinversePatches.push({\n\t\t\t\top: REPLACE,\n\t\t\t\tpath: basePath.concat([\"length\"]),\n\t\t\t\tvalue: base_.length\n\t\t\t})\n\t\t}\n\t}\n\n\t// This is used for both Map objects and normal objects.\n\tfunction generatePatchesFromAssigned(\n\t\tstate: MapState | ES5ObjectState | ProxyObjectState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tconst {base_, copy_} = state\n\t\teach(state.assigned_!, (key, assignedValue) => {\n\t\t\tconst origValue = get(base_, key)\n\t\t\tconst value = get(copy_!, key)\n\t\t\tconst op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD\n\t\t\tif (origValue === value && op === REPLACE) return\n\t\t\tconst path = basePath.concat(key as any)\n\t\t\tpatches.push(op === REMOVE ? {op, path} : {op, path, value})\n\t\t\tinversePatches.push(\n\t\t\t\top === ADD\n\t\t\t\t\t? {op: REMOVE, path}\n\t\t\t\t\t: op === REMOVE\n\t\t\t\t\t? {op: ADD, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t\t\t: {op: REPLACE, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t)\n\t\t})\n\t}\n\n\tfunction generateSetPatches(\n\t\tstate: SetState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, copy_} = state\n\n\t\tlet i = 0\n\t\tbase_.forEach((value: any) => {\n\t\t\tif (!copy_!.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t\ti = 0\n\t\tcopy_!.forEach((value: any) => {\n\t\t\tif (!base_.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t}\n\n\tfunction generateReplacementPatches_(\n\t\trootState: ImmerState,\n\t\treplacement: any,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tpatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: replacement\n\t\t})\n\t\tinversePatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: rootState.base_\n\t\t})\n\t}\n\n\tfunction applyPatches_<T>(draft: T, patches: Patch[]): T {\n\t\tpatches.forEach(patch => {\n\t\t\tconst {path, op} = patch\n\n\t\t\tlet base: any = draft\n\t\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\t\tconst parentType = getArchtype(base)\n\t\t\t\tconst p = path[i]\n\t\t\t\t// See #738, avoid prototype pollution\n\t\t\t\tif (\n\t\t\t\t\t(parentType === ArchtypeObject || parentType === ArchtypeArray) &&\n\t\t\t\t\t(p === \"__proto__\" || p === \"constructor\")\n\t\t\t\t)\n\t\t\t\t\tdie(24)\n\t\t\t\tif (typeof base === \"function\" && p === \"prototype\") die(24)\n\t\t\t\tbase = get(base, p)\n\t\t\t\tif (typeof base !== \"object\") die(15, path.join(\"/\"))\n\t\t\t}\n\n\t\t\tconst type = getArchtype(base)\n\t\t\tconst value = deepClonePatchValue(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\t\t\tconst key = path[path.length - 1]\n\t\t\tswitch (op) {\n\t\t\t\tcase REPLACE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\tdie(16)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t\t\t\t// so we use value from the cloned patch\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase ADD:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeArray:\n\t\t\t\t\t\t\treturn base.splice(key as any, 0, value)\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\treturn base.add(value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase REMOVE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeArray:\n\t\t\t\t\t\t\treturn base.splice(key as any, 1)\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.delete(key)\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\treturn base.delete(patch.value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn delete base[key]\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tdie(17, op)\n\t\t\t}\n\t\t})\n\n\t\treturn draft\n\t}\n\n\t// optimize: this is quite a performance hit, can we detect intelligently when it is needed?\n\t// E.g. auto-draft when new objects from outside are assigned and modified?\n\t// (See failing test when deepClone just returns obj)\n\tfunction deepClonePatchValue<T>(obj: T): T\n\tfunction deepClonePatchValue(obj: any) {\n\t\tif (!isDraftable(obj)) return obj\n\t\tif (Array.isArray(obj)) return obj.map(deepClonePatchValue)\n\t\tif (isMap(obj))\n\t\t\treturn new Map(\n\t\t\t\tArray.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n\t\t\t)\n\t\tif (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue))\n\t\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\t\tfor (const key in obj) cloned[key] = deepClonePatchValue(obj[key])\n\t\treturn cloned\n\t}\n\n\tfunction clonePatchValueIfNeeded<T>(obj: T): T {\n\t\tif (isDraft(obj)) {\n\t\t\treturn deepClonePatchValue(obj)\n\t\t} else return obj\n\t}\n\n\tloadPlugin(\"Patches\", {\n\t\tapplyPatches_,\n\t\tgeneratePatches_,\n\t\tgenerateReplacementPatches_\n\t})\n}\n","// types only!\nimport {\n\tImmerState,\n\tAnyMap,\n\tAnySet,\n\tMapState,\n\tSetState,\n\tDRAFT_STATE,\n\tgetCurrentScope,\n\tlatest,\n\titeratorSymbol,\n\tisDraftable,\n\tcreateProxy,\n\tloadPlugin,\n\tmarkChanged,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie,\n\teach\n} from \"../internal\"\n\nexport function enableMapSet() {\n\t/* istanbul ignore next */\n\tvar extendStatics = function(d: any, b: any): any {\n\t\textendStatics =\n\t\t\tObject.setPrototypeOf ||\n\t\t\t({__proto__: []} instanceof Array &&\n\t\t\t\tfunction(d, b) {\n\t\t\t\t\td.__proto__ = b\n\t\t\t\t}) ||\n\t\t\tfunction(d, b) {\n\t\t\t\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]\n\t\t\t}\n\t\treturn extendStatics(d, b)\n\t}\n\n\t// Ugly hack to resolve #502 and inherit built in Map / Set\n\tfunction __extends(d: any, b: any): any {\n\t\textendStatics(d, b)\n\t\tfunction __(this: any): any {\n\t\t\tthis.constructor = d\n\t\t}\n\t\td.prototype =\n\t\t\t// @ts-ignore\n\t\t\t((__.prototype = b.prototype), new __())\n\t}\n\n\tconst DraftMap = (function(_super) {\n\t\t__extends(DraftMap, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftMap(this: any, target: AnyMap, parent?: ImmerState): any {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyTypeMap,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tassigned_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this as any,\n\t\t\t\tisManual_: false,\n\t\t\t\trevoked_: false\n\t\t\t} as MapState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftMap.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: false,\n\t\t\t// configurable: true\n\t\t})\n\n\t\tp.has = function(key: any): boolean {\n\t\t\treturn latest(this[DRAFT_STATE]).has(key)\n\t\t}\n\n\t\tp.set = function(key: any, value: any) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!latest(state).has(key) || latest(state).get(key) !== value) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t\tstate.copy_!.set(key, value)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(key: any): boolean {\n\t\t\tif (!this.has(key)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareMapCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned_!.set(key, false)\n\t\t\tstate.copy_!.delete(key)\n\t\t\treturn true\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_ = new Map()\n\t\t\t\teach(state.base_, key => {\n\t\t\t\t\tstate.assigned_!.set(key, false)\n\t\t\t\t})\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.forEach = function(\n\t\t\tcb: (value: any, key: any, self: any) => void,\n\t\t\tthisArg?: any\n\t\t) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tlatest(state).forEach((_value: any, key: any, _map: any) => {\n\t\t\t\tcb.call(thisArg, this.get(key), key, this)\n\t\t\t})\n\t\t}\n\n\t\tp.get = function(key: any): any {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tconst value = latest(state).get(key)\n\t\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tif (value !== state.base_.get(key)) {\n\t\t\t\treturn value // either already drafted or reassigned\n\t\t\t}\n\t\t\t// despite what it looks, this creates a draft only once, see above condition\n\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\tprepareMapCopy(state)\n\t\t\tstate.copy_!.set(key, draft)\n\t\t\treturn draft\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn latest(this[DRAFT_STATE]).keys()\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.values(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp.entries = function(): IterableIterator<[any, any]> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.entries(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue: [r.value, value]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.entries()\n\t\t}\n\n\t\treturn DraftMap\n\t})(Map)\n\n\tfunction proxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftMap(target, parent)\n\t}\n\n\tfunction prepareMapCopy(state: MapState) {\n\t\tif (!state.copy_) {\n\t\t\tstate.assigned_ = new Map()\n\t\t\tstate.copy_ = new Map(state.base_)\n\t\t}\n\t}\n\n\tconst DraftSet = (function(_super) {\n\t\t__extends(DraftSet, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftSet(this: any, target: AnySet, parent?: ImmerState) {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyTypeSet,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this,\n\t\t\t\tdrafts_: new Map(),\n\t\t\t\trevoked_: false,\n\t\t\t\tisManual_: false\n\t\t\t} as SetState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftSet.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: true,\n\t\t})\n\n\t\tp.has = function(value: any): boolean {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\t// bit of trickery here, to be able to recognize both the value, and the draft of its value\n\t\t\tif (!state.copy_) {\n\t\t\t\treturn state.base_.has(value)\n\t\t\t}\n\t\t\tif (state.copy_.has(value)) return true\n\t\t\tif (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n\t\t\t\treturn true\n\t\t\treturn false\n\t\t}\n\n\t\tp.add = function(value: any): any {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!this.has(value)) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.add(value)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(value: any): any {\n\t\t\tif (!this.has(value)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\treturn (\n\t\t\t\tstate.copy_!.delete(value) ||\n\t\t\t\t(state.drafts_.has(value)\n\t\t\t\t\t? state.copy_!.delete(state.drafts_.get(value))\n\t\t\t\t\t: /* istanbul ignore next */ false)\n\t\t\t)\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.values()\n\t\t}\n\n\t\tp.entries = function entries(): IterableIterator<[any, any]> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.entries()\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp.forEach = function forEach(cb: any, thisArg?: any) {\n\t\t\tconst iterator = this.values()\n\t\t\tlet result = iterator.next()\n\t\t\twhile (!result.done) {\n\t\t\t\tcb.call(thisArg, result.value, result.value, this)\n\t\t\t\tresult = iterator.next()\n\t\t\t}\n\t\t}\n\n\t\treturn DraftSet\n\t})(Set)\n\n\tfunction proxySet_<T extends AnySet>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftSet(target, parent)\n\t}\n\n\tfunction prepareSetCopy(state: SetState) {\n\t\tif (!state.copy_) {\n\t\t\t// create drafts for all entries to preserve insertion order\n\t\t\tstate.copy_ = new Set()\n\t\t\tstate.base_.forEach(value => {\n\t\t\t\tif (isDraftable(value)) {\n\t\t\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\t\t\tstate.drafts_.set(value, draft)\n\t\t\t\t\tstate.copy_!.add(draft)\n\t\t\t\t} else {\n\t\t\t\t\tstate.copy_!.add(value)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"MapSet\", {proxyMap_, proxySet_})\n}\n","import {enableES5} from \"./es5\"\nimport {enableMapSet} from \"./mapset\"\nimport {enablePatches} from \"./patches\"\n\nexport function enableAllPlugins() {\n\tenableES5()\n\tenableMapSet()\n\tenablePatches()\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","import produce from 'immer';\nimport isPlainObject from 'lodash.isplainobject';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst MAKE_MOVE = 'MAKE_MOVE';\r\nconst GAME_EVENT = 'GAME_EVENT';\r\nconst REDO = 'REDO';\r\nconst RESET = 'RESET';\r\nconst SYNC = 'SYNC';\r\nconst UNDO = 'UNDO';\r\nconst UPDATE = 'UPDATE';\r\nconst PLUGIN = 'PLUGIN';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Generate a move to be dispatched to the game move reducer.\r\n *\r\n * @param {string} type - The move type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst makeMove = (type, args, playerID, credentials) => ({\r\n    type: MAKE_MOVE,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate a game event to be dispatched to the flow reducer.\r\n *\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst gameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate an automatic game event that is a side-effect of a move.\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst automaticGameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n    automatic: true,\r\n});\r\nconst sync = (info) => ({\r\n    type: SYNC,\r\n    state: info.state,\r\n    log: info.log,\r\n    initialState: info.initialState,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state in response to\r\n * an action coming from another player.\r\n * @param {object} state - The state to restore.\r\n * @param {Array} deltalog - A log delta.\r\n */\r\nconst update = (state, deltalog) => ({\r\n    type: UPDATE,\r\n    state,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to reset the game state.\r\n * @param {object} state - The initial state.\r\n */\r\nconst reset = (state) => ({\r\n    type: RESET,\r\n    state,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to undo the last move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst undo = (playerID, credentials) => ({\r\n    type: UNDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Used to redo the last undone move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst redo = (playerID, credentials) => ({\r\n    type: REDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Allows plugins to define their own actions and intercept them.\r\n */\r\nconst plugin = (type, args, playerID, credentials) => ({\r\n    type: PLUGIN,\r\n    payload: { type, args, playerID, credentials },\r\n});\n\nvar ActionCreators = /*#__PURE__*/Object.freeze({\n  makeMove: makeMove,\n  gameEvent: gameEvent,\n  automaticGameEvent: automaticGameEvent,\n  sync: sync,\n  update: update,\n  reset: reset,\n  undo: undo,\n  redo: redo,\n  plugin: plugin\n});\n\n/**\r\n * Moves can return this when they want to indicate\r\n * that the combination of arguments is illegal and\r\n * the move ought to be discarded.\r\n */\r\nconst INVALID_MOVE = 'INVALID_MOVE';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that allows using Immer to make immutable changes\r\n * to G by just mutating it.\r\n */\r\nconst ImmerPlugin = {\r\n    name: 'plugin-immer',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        let isInvalid = false;\r\n        const newG = produce(G, (G) => {\r\n            const result = move(G, ctx, ...args);\r\n            if (result === INVALID_MOVE) {\r\n                isInvalid = true;\r\n                return;\r\n            }\r\n            return result;\r\n        });\r\n        if (isInvalid)\r\n            return INVALID_MOVE;\r\n        return newG;\r\n    },\r\n};\n\n// Inlined version of Alea from https://github.com/davidbau/seedrandom.\r\n// Converted to Typescript October 2020.\r\nclass Alea {\r\n    constructor(seed) {\r\n        const mash = Mash();\r\n        // Apply the seeding algorithm from Baagoe.\r\n        this.c = 1;\r\n        this.s0 = mash(' ');\r\n        this.s1 = mash(' ');\r\n        this.s2 = mash(' ');\r\n        this.s0 -= mash(seed);\r\n        if (this.s0 < 0) {\r\n            this.s0 += 1;\r\n        }\r\n        this.s1 -= mash(seed);\r\n        if (this.s1 < 0) {\r\n            this.s1 += 1;\r\n        }\r\n        this.s2 -= mash(seed);\r\n        if (this.s2 < 0) {\r\n            this.s2 += 1;\r\n        }\r\n    }\r\n    next() {\r\n        const t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = Math.trunc(t)));\r\n    }\r\n}\r\nfunction Mash() {\r\n    let n = 0xefc8249d;\r\n    const mash = function (data) {\r\n        const str = data.toString();\r\n        for (let i = 0; i < str.length; i++) {\r\n            n += str.charCodeAt(i);\r\n            let h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nfunction copy(f, t) {\r\n    t.c = f.c;\r\n    t.s0 = f.s0;\r\n    t.s1 = f.s1;\r\n    t.s2 = f.s2;\r\n    return t;\r\n}\r\nfunction alea(seed, state) {\r\n    const xg = new Alea(seed);\r\n    const prng = xg.next.bind(xg);\r\n    if (state)\r\n        copy(state, xg);\r\n    prng.state = () => copy(xg, {});\r\n    return prng;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Random\r\n *\r\n * Calls that require a pseudorandom number generator.\r\n * Uses a seed from ctx, and also persists the PRNG\r\n * state in ctx so that moves can stay pure.\r\n */\r\nclass Random {\r\n    /**\r\n     * constructor\r\n     * @param {object} ctx - The ctx object to initialize from.\r\n     */\r\n    constructor(state) {\r\n        // If we are on the client, the seed is not present.\r\n        // Just use a temporary seed to execute the move without\r\n        // crashing it. The move state itself is discarded,\r\n        // so the actual value doesn't matter.\r\n        this.state = state || { seed: '0' };\r\n        this.used = false;\r\n    }\r\n    /**\r\n     * Generates a new seed from the current date / time.\r\n     */\r\n    static seed() {\r\n        return Date.now().toString(36).slice(-10);\r\n    }\r\n    isUsed() {\r\n        return this.used;\r\n    }\r\n    getState() {\r\n        return this.state;\r\n    }\r\n    /**\r\n     * Generate a random number.\r\n     */\r\n    _random() {\r\n        this.used = true;\r\n        const R = this.state;\r\n        const seed = R.prngstate ? '' : R.seed;\r\n        const rand = alea(seed, R.prngstate);\r\n        const number = rand();\r\n        this.state = {\r\n            ...R,\r\n            prngstate: rand.state(),\r\n        };\r\n        return number;\r\n    }\r\n    api() {\r\n        const random = this._random.bind(this);\r\n        const SpotValue = {\r\n            D4: 4,\r\n            D6: 6,\r\n            D8: 8,\r\n            D10: 10,\r\n            D12: 12,\r\n            D20: 20,\r\n        };\r\n        // Generate functions for predefined dice values D4 - D20.\r\n        const predefined = {};\r\n        for (const key in SpotValue) {\r\n            const spotvalue = SpotValue[key];\r\n            predefined[key] = (diceCount) => {\r\n                return diceCount === undefined\r\n                    ? Math.floor(random() * spotvalue) + 1\r\n                    : [...new Array(diceCount).keys()].map(() => Math.floor(random() * spotvalue) + 1);\r\n            };\r\n        }\r\n        function Die(spotvalue = 6, diceCount) {\r\n            return diceCount === undefined\r\n                ? Math.floor(random() * spotvalue) + 1\r\n                : [...new Array(diceCount).keys()].map(() => Math.floor(random() * spotvalue) + 1);\r\n        }\r\n        return {\r\n            /**\r\n             * Similar to Die below, but with fixed spot values.\r\n             * Supports passing a diceCount\r\n             *    if not defined, defaults to 1 and returns the value directly.\r\n             *    if defined, returns an array containing the random dice values.\r\n             *\r\n             * D4: (diceCount) => value\r\n             * D6: (diceCount) => value\r\n             * D8: (diceCount) => value\r\n             * D10: (diceCount) => value\r\n             * D12: (diceCount) => value\r\n             * D20: (diceCount) => value\r\n             */\r\n            ...predefined,\r\n            /**\r\n             * Roll a die of specified spot value.\r\n             *\r\n             * @param {number} spotvalue - The die dimension (default: 6).\r\n             * @param {number} diceCount - number of dice to throw.\r\n             *                             if not defined, defaults to 1 and returns the value directly.\r\n             *                             if defined, returns an array containing the random dice values.\r\n             */\r\n            Die,\r\n            /**\r\n             * Generate a random number between 0 and 1.\r\n             */\r\n            Number: () => {\r\n                return random();\r\n            },\r\n            /**\r\n             * Shuffle an array.\r\n             *\r\n             * @param {Array} deck - The array to shuffle. Does not mutate\r\n             *                       the input, but returns the shuffled array.\r\n             */\r\n            Shuffle: (deck) => {\r\n                const clone = deck.slice(0);\r\n                let srcIndex = deck.length;\r\n                let dstIndex = 0;\r\n                const shuffled = new Array(srcIndex);\r\n                while (srcIndex) {\r\n                    const randIndex = Math.trunc(srcIndex * random());\r\n                    shuffled[dstIndex++] = clone[randIndex];\r\n                    clone[randIndex] = clone[--srcIndex];\r\n                }\r\n                return shuffled;\r\n            },\r\n            _obj: this,\r\n        };\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst RandomPlugin = {\r\n    name: 'random',\r\n    noClient: ({ api }) => {\r\n        return api._obj.isUsed();\r\n    },\r\n    flush: ({ api }) => {\r\n        return api._obj.getState();\r\n    },\r\n    api: ({ data }) => {\r\n        const random = new Random(data);\r\n        return random.api();\r\n    },\r\n    setup: ({ game }) => {\r\n        let { seed } = game;\r\n        if (seed === undefined) {\r\n            seed = Random.seed();\r\n        }\r\n        return { seed };\r\n    },\r\n    playerView: () => undefined,\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Events\r\n */\r\nclass Events {\r\n    constructor(flow, playerID) {\r\n        this.flow = flow;\r\n        this.playerID = playerID;\r\n        this.dispatch = [];\r\n    }\r\n    /**\r\n     * Attaches the Events API to ctx.\r\n     * @param {object} ctx - The ctx object to attach to.\r\n     */\r\n    api(ctx) {\r\n        const events = {\r\n            _obj: this,\r\n        };\r\n        const { phase, turn } = ctx;\r\n        for (const key of this.flow.eventNames) {\r\n            events[key] = (...args) => {\r\n                this.dispatch.push({ key, args, phase, turn });\r\n            };\r\n        }\r\n        return events;\r\n    }\r\n    isUsed() {\r\n        return this.dispatch.length > 0;\r\n    }\r\n    /**\r\n     * Updates ctx with the triggered events.\r\n     * @param {object} state - The state object { G, ctx }.\r\n     */\r\n    update(state) {\r\n        for (let i = 0; i < this.dispatch.length; i++) {\r\n            const item = this.dispatch[i];\r\n            // If the turn already ended some other way,\r\n            // don't try to end the turn again.\r\n            if (item.key === 'endTurn' && item.turn !== state.ctx.turn) {\r\n                continue;\r\n            }\r\n            // If the phase already ended some other way,\r\n            // don't try to end the phase again.\r\n            if ((item.key === 'endPhase' || item.key === 'setPhase') &&\r\n                item.phase !== state.ctx.phase) {\r\n                continue;\r\n            }\r\n            const action = automaticGameEvent(item.key, item.args, this.playerID);\r\n            state = {\r\n                ...state,\r\n                ...this.flow.processEvent(state, action),\r\n            };\r\n        }\r\n        return state;\r\n    }\r\n}\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst EventsPlugin = {\r\n    name: 'events',\r\n    noClient: ({ api }) => {\r\n        return api._obj.isUsed();\r\n    },\r\n    dangerouslyFlushRawState: ({ state, api }) => {\r\n        return api._obj.update(state);\r\n    },\r\n    api: ({ game, playerID, ctx }) => {\r\n        return new Events(game.flow, playerID).api(ctx);\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that makes it possible to add metadata to log entries.\r\n * During a move, you can set metadata using ctx.log.setMetadata and it will be\r\n * available on the log entry for that move.\r\n */\r\nconst LogPlugin = {\r\n    name: 'log',\r\n    flush: () => ({}),\r\n    api: ({ data }) => {\r\n        return {\r\n            setMetadata: (metadata) => {\r\n                data.metadata = metadata;\r\n            },\r\n        };\r\n    },\r\n    setup: () => ({}),\r\n};\n\n/**\r\n * Check if a value can be serialized (e.g. using `JSON.stringify`).\r\n * Adapted from: https://stackoverflow.com/a/30712764/3829557\r\n */\r\nfunction isSerializable(value) {\r\n    // Primitives are OK.\r\n    if (value === undefined ||\r\n        value === null ||\r\n        typeof value === 'boolean' ||\r\n        typeof value === 'number' ||\r\n        typeof value === 'string') {\r\n        return true;\r\n    }\r\n    // A non-primitive value that is neither a POJO or an array cannot be serialized.\r\n    if (!isPlainObject(value) && !Array.isArray(value)) {\r\n        return false;\r\n    }\r\n    // Recurse entries if the value is an object or array.\r\n    for (const key in value) {\r\n        if (!isSerializable(value[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Plugin that checks whether state is serializable, in order to avoid\r\n * network serialization bugs.\r\n */\r\nconst SerializablePlugin = {\r\n    name: 'plugin-serializable',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        const result = move(G, ctx, ...args);\r\n        // Check state in non-production environments.\r\n        if (process.env.NODE_ENV !== 'production' && !isSerializable(result)) {\r\n            throw new Error('Move state is not JSON-serialiazable.\\n' +\r\n                'See https://boardgame.io/documentation/#/?id=state for more information.');\r\n        }\r\n        return result;\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * List of plugins that are always added.\r\n */\r\nconst DEFAULT_PLUGINS = [\r\n    ImmerPlugin,\r\n    RandomPlugin,\r\n    EventsPlugin,\r\n    LogPlugin,\r\n    SerializablePlugin,\r\n];\r\n/**\r\n * Allow plugins to intercept actions and process them.\r\n */\r\nconst ProcessAction = (state, action, opts) => {\r\n    opts.game.plugins\r\n        .filter((plugin) => plugin.action !== undefined)\r\n        .filter((plugin) => plugin.name === action.payload.type)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const data = plugin.action(pluginState.data, action.payload);\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * The API's created by various plugins are stored in the plugins\r\n * section of the state object:\r\n *\r\n * {\r\n *   G: {},\r\n *   ctx: {},\r\n *   plugins: {\r\n *     plugin-a: {\r\n *       data: {},  // this is generated by the plugin at Setup / Flush.\r\n *       api: {},   // this is ephemeral and generated by Enhance.\r\n *     }\r\n *   }\r\n * }\r\n *\r\n * This function takes these API's and stuffs them back into\r\n * ctx for consumption inside a move function or hook.\r\n */\r\nconst EnhanceCtx = (state) => {\r\n    const ctx = { ...state.ctx };\r\n    const plugins = state.plugins || {};\r\n    Object.entries(plugins).forEach(([name, { api }]) => {\r\n        ctx[name] = api;\r\n    });\r\n    return ctx;\r\n};\r\n/**\r\n * Applies the provided plugins to the given move / flow function.\r\n *\r\n * @param {function} fn - The move function or trigger to apply the plugins to.\r\n * @param {object} plugins - The list of plugins.\r\n */\r\nconst FnWrap = (fn, plugins) => {\r\n    const reducer = (acc, { fnWrap }) => fnWrap(acc);\r\n    return [...DEFAULT_PLUGINS, ...plugins]\r\n        .filter((plugin) => plugin.fnWrap !== undefined)\r\n        .reduce(reducer, fn);\r\n};\r\n/**\r\n * Allows the plugin to generate its initial state.\r\n */\r\nconst Setup = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.setup !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const data = plugin.setup({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Invokes the plugin before a move or event.\r\n * The API that the plugin generates is stored inside\r\n * the `plugins` section of the state (which is subsequently\r\n * merged into ctx).\r\n */\r\nconst Enhance = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.api !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const api = plugin.api({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            data: pluginState.data,\r\n            game: opts.game,\r\n            playerID: opts.playerID,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, api },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to update their state after a move / event.\r\n */\r\nconst Flush = (state, opts) => {\r\n    // Note that we flush plugins in reverse order, to make sure that plugins\r\n    // that come before in the chain are still available.\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins].reverse().forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        if (plugin.flush) {\r\n            const newData = plugin.flush({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data: newData },\r\n                },\r\n            };\r\n        }\r\n        else if (plugin.dangerouslyFlushRawState) {\r\n            state = plugin.dangerouslyFlushRawState({\r\n                state,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            // Remove everything other than data.\r\n            const data = state.plugins[name].data;\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data },\r\n                },\r\n            };\r\n        }\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to indicate if they should not be materialized on the client.\r\n * This will cause the client to discard the state update and wait for the\r\n * master instead.\r\n */\r\nconst NoClient = (state, opts) => {\r\n    return [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.noClient !== undefined)\r\n        .map((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name];\r\n        if (pluginState) {\r\n            return plugin.noClient({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n        .some((value) => value === true);\r\n};\r\n/**\r\n * Allows plugins to customize their data for specific players.\r\n * For example, a plugin may want to share no data with the client, or\r\n * want to keep some player data secret from opponents.\r\n */\r\nconst PlayerView = ({ G, ctx, plugins = {} }, { game, playerID }) => {\r\n    [...DEFAULT_PLUGINS, ...game.plugins].forEach(({ name, playerView }) => {\r\n        if (!playerView)\r\n            return;\r\n        const { data } = plugins[name] || { data: {} };\r\n        const newData = playerView({ G, ctx, game, data, playerID });\r\n        plugins = {\r\n            ...plugins,\r\n            [name]: { data: newData },\r\n        };\r\n    });\r\n    return plugins;\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst production = process.env.NODE_ENV === 'production';\r\nconst logfn = production ? () => { } : console.log;\r\nconst errorfn = console.error;\r\nfunction info(msg) {\r\n    logfn(`INFO: ${msg}`);\r\n}\r\nfunction error(error) {\r\n    errorfn('ERROR:', error);\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Event to change the active players (and their stages) in the current turn.\r\n */\r\nfunction SetActivePlayersEvent(state, _playerID, arg) {\r\n    return { ...state, ctx: SetActivePlayers(state.ctx, arg) };\r\n}\r\nfunction SetActivePlayers(ctx, arg) {\r\n    let { _prevActivePlayers } = ctx;\r\n    let activePlayers = {};\r\n    let _nextActivePlayers = null;\r\n    let _activePlayersMoveLimit = {};\r\n    if (Array.isArray(arg)) {\r\n        // support a simple array of player IDs as active players\r\n        const value = {};\r\n        arg.forEach((v) => (value[v] = Stage.NULL));\r\n        activePlayers = value;\r\n    }\r\n    else {\r\n        // process active players argument object\r\n        if (arg.next) {\r\n            _nextActivePlayers = arg.next;\r\n        }\r\n        _prevActivePlayers = arg.revert\r\n            ? _prevActivePlayers.concat({\r\n                activePlayers: ctx.activePlayers,\r\n                _activePlayersMoveLimit: ctx._activePlayersMoveLimit,\r\n                _activePlayersNumMoves: ctx._activePlayersNumMoves,\r\n            })\r\n            : [];\r\n        if (arg.currentPlayer !== undefined) {\r\n            ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, ctx.currentPlayer, arg.currentPlayer);\r\n        }\r\n        if (arg.others !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                if (id !== ctx.currentPlayer) {\r\n                    ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.others);\r\n                }\r\n            }\r\n        }\r\n        if (arg.all !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.all);\r\n            }\r\n        }\r\n        if (arg.value) {\r\n            for (const id in arg.value) {\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, id, arg.value[id]);\r\n            }\r\n        }\r\n        if (arg.moveLimit) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMoveLimit[id] === undefined) {\r\n                    _activePlayersMoveLimit[id] = arg.moveLimit;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (Object.keys(activePlayers).length == 0) {\r\n        activePlayers = null;\r\n    }\r\n    if (Object.keys(_activePlayersMoveLimit).length == 0) {\r\n        _activePlayersMoveLimit = null;\r\n    }\r\n    const _activePlayersNumMoves = {};\r\n    for (const id in activePlayers) {\r\n        _activePlayersNumMoves[id] = 0;\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMoveLimit,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n        _nextActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Update activePlayers, setting it to previous, next or null values\r\n * when it becomes empty.\r\n * @param ctx\r\n */\r\nfunction UpdateActivePlayersOnceEmpty(ctx) {\r\n    let { activePlayers, _activePlayersMoveLimit, _activePlayersNumMoves, _prevActivePlayers, } = ctx;\r\n    if (activePlayers && Object.keys(activePlayers).length == 0) {\r\n        if (ctx._nextActivePlayers) {\r\n            ctx = SetActivePlayers(ctx, ctx._nextActivePlayers);\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMoveLimit,\r\n                _activePlayersNumMoves,\r\n                _prevActivePlayers,\r\n            } = ctx);\r\n        }\r\n        else if (_prevActivePlayers.length > 0) {\r\n            const lastIndex = _prevActivePlayers.length - 1;\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMoveLimit,\r\n                _activePlayersNumMoves,\r\n            } = _prevActivePlayers[lastIndex]);\r\n            _prevActivePlayers = _prevActivePlayers.slice(0, lastIndex);\r\n        }\r\n        else {\r\n            activePlayers = null;\r\n            _activePlayersMoveLimit = null;\r\n        }\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMoveLimit,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Apply an active player argument to the given player ID\r\n * @param {Object} activePlayers\r\n * @param {Object} _activePlayersMoveLimit\r\n * @param {String} playerID The player to apply the parameter to\r\n * @param {(String|Object)} arg An active player argument\r\n */\r\nfunction ApplyActivePlayerArgument(activePlayers, _activePlayersMoveLimit, playerID, arg) {\r\n    if (typeof arg !== 'object' || arg === Stage.NULL) {\r\n        arg = { stage: arg };\r\n    }\r\n    if (arg.stage !== undefined) {\r\n        activePlayers[playerID] = arg.stage;\r\n        if (arg.moveLimit)\r\n            _activePlayersMoveLimit[playerID] = arg.moveLimit;\r\n    }\r\n}\r\n/**\r\n * Converts a playOrderPos index into its value in playOrder.\r\n * @param {Array} playOrder - An array of player ID's.\r\n * @param {number} playOrderPos - An index into the above.\r\n */\r\nfunction getCurrentPlayer(playOrder, playOrderPos) {\r\n    // convert to string in case playOrder is set to number[]\r\n    return playOrder[playOrderPos] + '';\r\n}\r\n/**\r\n * Called at the start of a turn to initialize turn order state.\r\n *\r\n * TODO: This is called inside StartTurn, which is called from\r\n * both UpdateTurn and StartPhase (so it's called at the beginning\r\n * of a new phase as well as between turns). We should probably\r\n * split it into two.\r\n */\r\nfunction InitTurnOrderState(state, turn) {\r\n    let { G, ctx } = state;\r\n    const ctxWithAPI = EnhanceCtx(state);\r\n    const order = turn.order;\r\n    let playOrder = [...new Array(ctx.numPlayers)].map((_, i) => i + '');\r\n    if (order.playOrder !== undefined) {\r\n        playOrder = order.playOrder(G, ctxWithAPI);\r\n    }\r\n    const playOrderPos = order.first(G, ctxWithAPI);\r\n    const posType = typeof playOrderPos;\r\n    if (posType !== 'number') {\r\n        error(`invalid value returned by turn.order.first — expected number got ${posType} “${playOrderPos}”.`);\r\n    }\r\n    const currentPlayer = getCurrentPlayer(playOrder, playOrderPos);\r\n    ctx = { ...ctx, currentPlayer, playOrderPos, playOrder };\r\n    ctx = SetActivePlayers(ctx, turn.activePlayers || {});\r\n    return ctx;\r\n}\r\n/**\r\n * Called at the end of each turn to update the turn order state.\r\n * @param {object} G - The game object G.\r\n * @param {object} ctx - The game object ctx.\r\n * @param {object} turn - A turn object for this phase.\r\n * @param {string} endTurnArg - An optional argument to endTurn that\r\n                                may specify the next player.\r\n */\r\nfunction UpdateTurnOrderState(state, currentPlayer, turn, endTurnArg) {\r\n    const order = turn.order;\r\n    let { G, ctx } = state;\r\n    let playOrderPos = ctx.playOrderPos;\r\n    let endPhase = false;\r\n    if (endTurnArg && endTurnArg !== true) {\r\n        if (typeof endTurnArg !== 'object') {\r\n            error(`invalid argument to endTurn: ${endTurnArg}`);\r\n        }\r\n        Object.keys(endTurnArg).forEach((arg) => {\r\n            switch (arg) {\r\n                case 'remove':\r\n                    currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n                    break;\r\n                case 'next':\r\n                    playOrderPos = ctx.playOrder.indexOf(endTurnArg.next);\r\n                    currentPlayer = endTurnArg.next;\r\n                    break;\r\n                default:\r\n                    error(`invalid argument to endTurn: ${arg}`);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        const ctxWithAPI = EnhanceCtx(state);\r\n        const t = order.next(G, ctxWithAPI);\r\n        const type = typeof t;\r\n        if (t !== undefined && type !== 'number') {\r\n            error(`invalid value returned by turn.order.next — expected number or undefined got ${type} “${t}”.`);\r\n        }\r\n        if (t === undefined) {\r\n            endPhase = true;\r\n        }\r\n        else {\r\n            playOrderPos = t;\r\n            currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n        }\r\n    }\r\n    ctx = {\r\n        ...ctx,\r\n        playOrderPos,\r\n        currentPlayer,\r\n    };\r\n    return { endPhase, ctx };\r\n}\r\n/**\r\n * Set of different turn orders possible in a phase.\r\n * These are meant to be passed to the `turn` setting\r\n * in the flow objects.\r\n *\r\n * Each object defines the first player when the phase / game\r\n * begins, and also a function `next` to determine who the\r\n * next player is when the turn ends.\r\n *\r\n * The phase ends if next() returns undefined.\r\n */\r\nconst TurnOrder = {\r\n    /**\r\n     * DEFAULT\r\n     *\r\n     * The default round-robin turn order.\r\n     */\r\n    DEFAULT: {\r\n        first: (G, ctx) => ctx.turn === 0\r\n            ? ctx.playOrderPos\r\n            : (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * RESET\r\n     *\r\n     * Similar to DEFAULT, but starts from 0 each time.\r\n     */\r\n    RESET: {\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * CONTINUE\r\n     *\r\n     * Similar to DEFAULT, but starts with the player who ended the last phase.\r\n     */\r\n    CONTINUE: {\r\n        first: (G, ctx) => ctx.playOrderPos,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * ONCE\r\n     *\r\n     * Another round-robin turn order, but goes around just once.\r\n     * The phase ends after all players have played.\r\n     */\r\n    ONCE: {\r\n        first: () => 0,\r\n        next: (G, ctx) => {\r\n            if (ctx.playOrderPos < ctx.playOrder.length - 1) {\r\n                return ctx.playOrderPos + 1;\r\n            }\r\n        },\r\n    },\r\n    /**\r\n     * CUSTOM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase.\r\n     *\r\n     * @param {Array} playOrder - The play order.\r\n     */\r\n    CUSTOM: (playOrder) => ({\r\n        playOrder: () => playOrder,\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n    /**\r\n     * CUSTOM_FROM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase to a value specified by a field\r\n     * in G.\r\n     *\r\n     * @param {string} playOrderField - Field in G.\r\n     */\r\n    CUSTOM_FROM: (playOrderField) => ({\r\n        playOrder: (G) => G[playOrderField],\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n};\r\nconst Stage = {\r\n    NULL: null,\r\n};\r\nconst ActivePlayers = {\r\n    /**\r\n     * ALL\r\n     *\r\n     * The turn stays with one player, but any player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    ALL: { all: Stage.NULL },\r\n    /**\r\n     * ALL_ONCE\r\n     *\r\n     * The turn stays with one player, but any player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every player in the game.\r\n     */\r\n    ALL_ONCE: { all: Stage.NULL, moveLimit: 1 },\r\n    /**\r\n     * OTHERS\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    OTHERS: { others: Stage.NULL },\r\n    /**\r\n     * OTHERS_ONCE\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every *other* player in the game.\r\n     */\r\n    OTHERS_ONCE: { others: Stage.NULL, moveLimit: 1 },\r\n};\n\nexport { ActionCreators as A, EnhanceCtx as E, FnWrap as F, GAME_EVENT as G, InitTurnOrderState as I, MAKE_MOVE as M, NoClient as N, PLUGIN as P, RESET as R, Stage as S, TurnOrder as T, UpdateTurnOrderState as U, SetActivePlayersEvent as a, SetActivePlayers as b, UpdateActivePlayersOnceEmpty as c, Enhance as d, error as e, Flush as f, gameEvent as g, INVALID_MOVE as h, info as i, UPDATE as j, SYNC as k, UNDO as l, REDO as m, ProcessAction as n, Setup as o, redo as p, PlayerView as q, reset as r, sync as s, makeMove as t, undo as u, alea as v, ActivePlayers as w, update as x };\n","import { e as error, E as EnhanceCtx, T as TurnOrder, i as info, S as Stage, a as SetActivePlayersEvent, F as FnWrap, b as SetActivePlayers, I as InitTurnOrderState, U as UpdateTurnOrderState, g as gameEvent, c as UpdateActivePlayersOnceEmpty, G as GAME_EVENT, d as Enhance, f as Flush, M as MAKE_MOVE, h as INVALID_MOVE, N as NoClient, R as RESET, j as UPDATE, k as SYNC, l as UNDO, m as REDO, P as PLUGIN, n as ProcessAction } from './turn-order-5f1427df.js';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Flow\r\n *\r\n * Creates a reducer that updates ctx (analogous to how moves update G).\r\n */\r\nfunction Flow({ moves, phases, endIf, onEnd, turn, events, plugins, }) {\r\n    // Attach defaults.\r\n    if (moves === undefined) {\r\n        moves = {};\r\n    }\r\n    if (events === undefined) {\r\n        events = {};\r\n    }\r\n    if (plugins === undefined) {\r\n        plugins = [];\r\n    }\r\n    if (phases === undefined) {\r\n        phases = {};\r\n    }\r\n    if (!endIf)\r\n        endIf = () => undefined;\r\n    if (!onEnd)\r\n        onEnd = (G) => G;\r\n    if (!turn)\r\n        turn = {};\r\n    const phaseMap = { ...phases };\r\n    if ('' in phaseMap) {\r\n        error('cannot specify phase with empty name');\r\n    }\r\n    phaseMap[''] = {};\r\n    const moveMap = {};\r\n    const moveNames = new Set();\r\n    let startingPhase = null;\r\n    Object.keys(moves).forEach((name) => moveNames.add(name));\r\n    const HookWrapper = (fn) => {\r\n        const withPlugins = FnWrap(fn, plugins);\r\n        return (state) => {\r\n            const ctxWithAPI = EnhanceCtx(state);\r\n            return withPlugins(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const TriggerWrapper = (endIf) => {\r\n        return (state) => {\r\n            const ctxWithAPI = EnhanceCtx(state);\r\n            return endIf(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const wrapped = {\r\n        onEnd: HookWrapper(onEnd),\r\n        endIf: TriggerWrapper(endIf),\r\n    };\r\n    for (const phase in phaseMap) {\r\n        const conf = phaseMap[phase];\r\n        if (conf.start === true) {\r\n            startingPhase = phase;\r\n        }\r\n        if (conf.moves !== undefined) {\r\n            for (const move of Object.keys(conf.moves)) {\r\n                moveMap[phase + '.' + move] = conf.moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        if (conf.endIf === undefined) {\r\n            conf.endIf = () => undefined;\r\n        }\r\n        if (conf.onBegin === undefined) {\r\n            conf.onBegin = (G) => G;\r\n        }\r\n        if (conf.onEnd === undefined) {\r\n            conf.onEnd = (G) => G;\r\n        }\r\n        if (conf.turn === undefined) {\r\n            conf.turn = turn;\r\n        }\r\n        if (conf.turn.order === undefined) {\r\n            conf.turn.order = TurnOrder.DEFAULT;\r\n        }\r\n        if (conf.turn.onBegin === undefined) {\r\n            conf.turn.onBegin = (G) => G;\r\n        }\r\n        if (conf.turn.onEnd === undefined) {\r\n            conf.turn.onEnd = (G) => G;\r\n        }\r\n        if (conf.turn.endIf === undefined) {\r\n            conf.turn.endIf = () => false;\r\n        }\r\n        if (conf.turn.onMove === undefined) {\r\n            conf.turn.onMove = (G) => G;\r\n        }\r\n        if (conf.turn.stages === undefined) {\r\n            conf.turn.stages = {};\r\n        }\r\n        for (const stage in conf.turn.stages) {\r\n            const stageConfig = conf.turn.stages[stage];\r\n            const moves = stageConfig.moves || {};\r\n            for (const move of Object.keys(moves)) {\r\n                const key = phase + '.' + stage + '.' + move;\r\n                moveMap[key] = moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        conf.wrapped = {\r\n            onBegin: HookWrapper(conf.onBegin),\r\n            onEnd: HookWrapper(conf.onEnd),\r\n            endIf: TriggerWrapper(conf.endIf),\r\n        };\r\n        conf.turn.wrapped = {\r\n            onMove: HookWrapper(conf.turn.onMove),\r\n            onBegin: HookWrapper(conf.turn.onBegin),\r\n            onEnd: HookWrapper(conf.turn.onEnd),\r\n            endIf: TriggerWrapper(conf.turn.endIf),\r\n        };\r\n    }\r\n    function GetPhase(ctx) {\r\n        return ctx.phase ? phaseMap[ctx.phase] : phaseMap[''];\r\n    }\r\n    function OnMove(s) {\r\n        return s;\r\n    }\r\n    function Process(state, events) {\r\n        const phasesEnded = new Set();\r\n        const turnsEnded = new Set();\r\n        for (let i = 0; i < events.length; i++) {\r\n            const { fn, arg, ...rest } = events[i];\r\n            // Detect a loop of EndPhase calls.\r\n            // This could potentially even be an infinite loop\r\n            // if the endIf condition of each phase blindly\r\n            // returns true. The moment we detect a single\r\n            // loop, we just bail out of all phases.\r\n            if (fn === EndPhase) {\r\n                turnsEnded.clear();\r\n                const phase = state.ctx.phase;\r\n                if (phasesEnded.has(phase)) {\r\n                    const ctx = { ...state.ctx, phase: null };\r\n                    return { ...state, ctx };\r\n                }\r\n                phasesEnded.add(phase);\r\n            }\r\n            // Process event.\r\n            const next = [];\r\n            state = fn(state, {\r\n                ...rest,\r\n                arg,\r\n                next,\r\n            });\r\n            if (fn === EndGame) {\r\n                break;\r\n            }\r\n            // Check if we should end the game.\r\n            const shouldEndGame = ShouldEndGame(state);\r\n            if (shouldEndGame) {\r\n                events.push({\r\n                    fn: EndGame,\r\n                    arg: shouldEndGame,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the phase.\r\n            const shouldEndPhase = ShouldEndPhase(state);\r\n            if (shouldEndPhase) {\r\n                events.push({\r\n                    fn: EndPhase,\r\n                    arg: shouldEndPhase,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the turn.\r\n            if (fn === OnMove) {\r\n                const shouldEndTurn = ShouldEndTurn(state);\r\n                if (shouldEndTurn) {\r\n                    events.push({\r\n                        fn: EndTurn,\r\n                        arg: shouldEndTurn,\r\n                        turn: state.ctx.turn,\r\n                        phase: state.ctx.phase,\r\n                        automatic: true,\r\n                    });\r\n                    continue;\r\n                }\r\n            }\r\n            events.push(...next);\r\n        }\r\n        return state;\r\n    }\r\n    ///////////\r\n    // Start //\r\n    ///////////\r\n    function StartGame(state, { next }) {\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function StartPhase(state, { next }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Run any phase setup code provided by the user.\r\n        G = conf.wrapped.onBegin(state);\r\n        next.push({ fn: StartTurn });\r\n        return { ...state, G, ctx };\r\n    }\r\n    function StartTurn(state, { currentPlayer }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Initialize the turn order state.\r\n        if (currentPlayer) {\r\n            ctx = { ...ctx, currentPlayer };\r\n            if (conf.turn.activePlayers) {\r\n                ctx = SetActivePlayers(ctx, conf.turn.activePlayers);\r\n            }\r\n        }\r\n        else {\r\n            // This is only called at the beginning of the phase\r\n            // when there is no currentPlayer yet.\r\n            ctx = InitTurnOrderState(state, conf.turn);\r\n        }\r\n        const turn = ctx.turn + 1;\r\n        ctx = { ...ctx, turn, numMoves: 0, _prevActivePlayers: [] };\r\n        G = conf.turn.wrapped.onBegin({ ...state, G, ctx });\r\n        return { ...state, G, ctx, _undo: [], _redo: [] };\r\n    }\r\n    ////////////\r\n    // Update //\r\n    ////////////\r\n    function UpdatePhase(state, { arg, next, phase }) {\r\n        const conf = GetPhase({ phase });\r\n        let { ctx } = state;\r\n        if (arg && arg.next) {\r\n            if (arg.next in phaseMap) {\r\n                ctx = { ...ctx, phase: arg.next };\r\n            }\r\n            else {\r\n                error('invalid phase: ' + arg.next);\r\n                return state;\r\n            }\r\n        }\r\n        else if (conf.next !== undefined) {\r\n            ctx = { ...ctx, phase: conf.next };\r\n        }\r\n        else {\r\n            ctx = { ...ctx, phase: null };\r\n        }\r\n        state = { ...state, ctx };\r\n        // Start the new phase.\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function UpdateTurn(state, { arg, currentPlayer, next }) {\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Update turn order state.\r\n        const { endPhase, ctx: newCtx } = UpdateTurnOrderState(state, currentPlayer, conf.turn, arg);\r\n        ctx = newCtx;\r\n        state = { ...state, G, ctx };\r\n        if (endPhase) {\r\n            next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n        }\r\n        else {\r\n            next.push({ fn: StartTurn, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        return state;\r\n    }\r\n    function UpdateStage(state, { arg, playerID }) {\r\n        if (typeof arg === 'string' || arg === Stage.NULL) {\r\n            arg = { stage: arg };\r\n        }\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMoveLimit, _activePlayersNumMoves, } = ctx;\r\n        // Checking if stage is valid, even Stage.NULL\r\n        if (arg.stage !== undefined) {\r\n            if (activePlayers === null) {\r\n                activePlayers = {};\r\n            }\r\n            activePlayers[playerID] = arg.stage;\r\n            _activePlayersNumMoves[playerID] = 0;\r\n            if (arg.moveLimit) {\r\n                if (_activePlayersMoveLimit === null) {\r\n                    _activePlayersMoveLimit = {};\r\n                }\r\n                _activePlayersMoveLimit[playerID] = arg.moveLimit;\r\n            }\r\n        }\r\n        ctx = {\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMoveLimit,\r\n            _activePlayersNumMoves,\r\n        };\r\n        return { ...state, ctx };\r\n    }\r\n    ///////////////\r\n    // ShouldEnd //\r\n    ///////////////\r\n    function ShouldEndGame(state) {\r\n        return wrapped.endIf(state);\r\n    }\r\n    function ShouldEndPhase(state) {\r\n        const conf = GetPhase(state.ctx);\r\n        return conf.wrapped.endIf(state);\r\n    }\r\n    function ShouldEndTurn(state) {\r\n        const conf = GetPhase(state.ctx);\r\n        // End the turn if the required number of moves has been made.\r\n        const currentPlayerMoves = state.ctx.numMoves || 0;\r\n        if (conf.turn.moveLimit && currentPlayerMoves >= conf.turn.moveLimit) {\r\n            return true;\r\n        }\r\n        return conf.turn.wrapped.endIf(state);\r\n    }\r\n    /////////\r\n    // End //\r\n    /////////\r\n    function EndGame(state, { arg, phase }) {\r\n        state = EndPhase(state, { phase });\r\n        if (arg === undefined) {\r\n            arg = true;\r\n        }\r\n        state = { ...state, ctx: { ...state.ctx, gameover: arg } };\r\n        // Run game end hook.\r\n        const G = wrapped.onEnd(state);\r\n        return { ...state, G };\r\n    }\r\n    function EndPhase(state, { arg, next, turn, automatic }) {\r\n        // End the turn first.\r\n        state = EndTurn(state, { turn, force: true, automatic: true });\r\n        let G = state.G;\r\n        let ctx = state.ctx;\r\n        if (next) {\r\n            next.push({ fn: UpdatePhase, arg, phase: ctx.phase });\r\n        }\r\n        // If we aren't in a phase, there is nothing else to do.\r\n        if (ctx.phase === null) {\r\n            return state;\r\n        }\r\n        // Run any cleanup code for the phase that is about to end.\r\n        const conf = GetPhase(ctx);\r\n        G = conf.wrapped.onEnd(state);\r\n        // Reset the phase.\r\n        ctx = { ...ctx, phase: null };\r\n        // Add log entry.\r\n        const action = gameEvent('endPhase', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog };\r\n    }\r\n    function EndTurn(state, { arg, next, turn, force, automatic, playerID }) {\r\n        // This is not the turn that EndTurn was originally\r\n        // called for. The turn was probably ended some other way.\r\n        if (turn !== state.ctx.turn) {\r\n            return state;\r\n        }\r\n        let { G, ctx } = state;\r\n        const conf = GetPhase(ctx);\r\n        // Prevent ending the turn if moveLimit hasn't been reached.\r\n        const currentPlayerMoves = ctx.numMoves || 0;\r\n        if (!force &&\r\n            conf.turn.moveLimit &&\r\n            currentPlayerMoves < conf.turn.moveLimit) {\r\n            info(`cannot end turn before making ${conf.turn.moveLimit} moves`);\r\n            return state;\r\n        }\r\n        // Run turn-end triggers.\r\n        G = conf.turn.wrapped.onEnd(state);\r\n        if (next) {\r\n            next.push({ fn: UpdateTurn, arg, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        // Reset activePlayers.\r\n        ctx = { ...ctx, activePlayers: null };\r\n        // Remove player from playerOrder\r\n        if (arg && arg.remove) {\r\n            playerID = playerID || ctx.currentPlayer;\r\n            const playOrder = ctx.playOrder.filter((i) => i != playerID);\r\n            const playOrderPos = ctx.playOrderPos > playOrder.length - 1 ? 0 : ctx.playOrderPos;\r\n            ctx = { ...ctx, playOrder, playOrderPos };\r\n            if (playOrder.length === 0) {\r\n                next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n                return state;\r\n            }\r\n        }\r\n        // Add log entry.\r\n        const action = gameEvent('endTurn', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog, _undo: [], _redo: [] };\r\n    }\r\n    function EndStage(state, { arg, next, automatic, playerID }) {\r\n        playerID = playerID || state.ctx.currentPlayer;\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMoveLimit } = ctx;\r\n        const playerInStage = activePlayers !== null && playerID in activePlayers;\r\n        if (!arg && playerInStage) {\r\n            const conf = GetPhase(ctx);\r\n            const stage = conf.turn.stages[activePlayers[playerID]];\r\n            if (stage && stage.next)\r\n                arg = stage.next;\r\n        }\r\n        // Checking if arg is a valid stage, even Stage.NULL\r\n        if (next && arg !== undefined) {\r\n            next.push({ fn: UpdateStage, arg, playerID });\r\n        }\r\n        // If player isn’t in a stage, there is nothing else to do.\r\n        if (!playerInStage)\r\n            return state;\r\n        // Remove player from activePlayers.\r\n        activePlayers = Object.keys(activePlayers)\r\n            .filter((id) => id !== playerID)\r\n            .reduce((obj, key) => {\r\n            obj[key] = activePlayers[key];\r\n            return obj;\r\n        }, {});\r\n        if (_activePlayersMoveLimit) {\r\n            // Remove player from _activePlayersMoveLimit.\r\n            _activePlayersMoveLimit = Object.keys(_activePlayersMoveLimit)\r\n                .filter((id) => id !== playerID)\r\n                .reduce((obj, key) => {\r\n                obj[key] = _activePlayersMoveLimit[key];\r\n                return obj;\r\n            }, {});\r\n        }\r\n        ctx = UpdateActivePlayersOnceEmpty({\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMoveLimit,\r\n        });\r\n        // Add log entry.\r\n        const action = gameEvent('endStage', arg);\r\n        const logEntry = {\r\n            action,\r\n            _stateID: state._stateID,\r\n            turn: state.ctx.turn,\r\n            phase: state.ctx.phase,\r\n        };\r\n        if (automatic) {\r\n            logEntry.automatic = true;\r\n        }\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, ctx, deltalog };\r\n    }\r\n    /**\r\n     * Retrieves the relevant move that can be played by playerID.\r\n     *\r\n     * If ctx.activePlayers is set (i.e. one or more players are in some stage),\r\n     * then it attempts to find the move inside the stages config for\r\n     * that turn. If the stage for a player is '', then the player is\r\n     * allowed to make a move (as determined by the phase config), but\r\n     * isn't restricted to a particular set as defined in the stage config.\r\n     *\r\n     * If not, it then looks for the move inside the phase.\r\n     *\r\n     * If it doesn't find the move there, it looks at the global move definition.\r\n     *\r\n     * @param {object} ctx\r\n     * @param {string} name\r\n     * @param {string} playerID\r\n     */\r\n    function GetMove(ctx, name, playerID) {\r\n        const conf = GetPhase(ctx);\r\n        const stages = conf.turn.stages;\r\n        const { activePlayers } = ctx;\r\n        if (activePlayers &&\r\n            activePlayers[playerID] !== undefined &&\r\n            activePlayers[playerID] !== Stage.NULL &&\r\n            stages[activePlayers[playerID]] !== undefined &&\r\n            stages[activePlayers[playerID]].moves !== undefined) {\r\n            // Check if moves are defined for the player's stage.\r\n            const stage = stages[activePlayers[playerID]];\r\n            const moves = stage.moves;\r\n            if (name in moves) {\r\n                return moves[name];\r\n            }\r\n        }\r\n        else if (conf.moves) {\r\n            // Check if moves are defined for the current phase.\r\n            if (name in conf.moves) {\r\n                return conf.moves[name];\r\n            }\r\n        }\r\n        else if (name in moves) {\r\n            // Check for the move globally.\r\n            return moves[name];\r\n        }\r\n        return null;\r\n    }\r\n    function ProcessMove(state, action) {\r\n        const conf = GetPhase(state.ctx);\r\n        const move = GetMove(state.ctx, action.type, action.playerID);\r\n        const shouldCount = !move || typeof move === 'function' || move.noLimit !== true;\r\n        const { ctx } = state;\r\n        const { _activePlayersNumMoves } = ctx;\r\n        const { playerID } = action;\r\n        let numMoves = state.ctx.numMoves;\r\n        if (shouldCount) {\r\n            if (playerID == state.ctx.currentPlayer) {\r\n                numMoves++;\r\n            }\r\n            if (ctx.activePlayers)\r\n                _activePlayersNumMoves[playerID]++;\r\n        }\r\n        state = {\r\n            ...state,\r\n            ctx: {\r\n                ...ctx,\r\n                numMoves,\r\n                _activePlayersNumMoves,\r\n            },\r\n        };\r\n        if (ctx._activePlayersMoveLimit &&\r\n            _activePlayersNumMoves[playerID] >= ctx._activePlayersMoveLimit[playerID]) {\r\n            state = EndStage(state, { playerID, automatic: true });\r\n        }\r\n        const G = conf.turn.wrapped.onMove(state);\r\n        state = { ...state, G };\r\n        const events = [{ fn: OnMove }];\r\n        return Process(state, events);\r\n    }\r\n    function SetStageEvent(state, playerID, arg) {\r\n        return Process(state, [{ fn: EndStage, arg, playerID }]);\r\n    }\r\n    function EndStageEvent(state, playerID) {\r\n        return Process(state, [{ fn: EndStage, playerID }]);\r\n    }\r\n    function SetPhaseEvent(state, _playerID, newPhase) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndPhase,\r\n                phase: state.ctx.phase,\r\n                turn: state.ctx.turn,\r\n                arg: { next: newPhase },\r\n            },\r\n        ]);\r\n    }\r\n    function EndPhaseEvent(state) {\r\n        return Process(state, [\r\n            { fn: EndPhase, phase: state.ctx.phase, turn: state.ctx.turn },\r\n        ]);\r\n    }\r\n    function EndTurnEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndTurn, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    function PassEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndTurn,\r\n                turn: state.ctx.turn,\r\n                phase: state.ctx.phase,\r\n                force: true,\r\n                arg,\r\n            },\r\n        ]);\r\n    }\r\n    function EndGameEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndGame, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    const eventHandlers = {\r\n        endStage: EndStageEvent,\r\n        setStage: SetStageEvent,\r\n        endTurn: EndTurnEvent,\r\n        pass: PassEvent,\r\n        endPhase: EndPhaseEvent,\r\n        setPhase: SetPhaseEvent,\r\n        endGame: EndGameEvent,\r\n        setActivePlayers: SetActivePlayersEvent,\r\n    };\r\n    const enabledEventNames = [];\r\n    if (events.endTurn !== false) {\r\n        enabledEventNames.push('endTurn');\r\n    }\r\n    if (events.pass !== false) {\r\n        enabledEventNames.push('pass');\r\n    }\r\n    if (events.endPhase !== false) {\r\n        enabledEventNames.push('endPhase');\r\n    }\r\n    if (events.setPhase !== false) {\r\n        enabledEventNames.push('setPhase');\r\n    }\r\n    if (events.endGame !== false) {\r\n        enabledEventNames.push('endGame');\r\n    }\r\n    if (events.setActivePlayers !== false) {\r\n        enabledEventNames.push('setActivePlayers');\r\n    }\r\n    if (events.endStage !== false) {\r\n        enabledEventNames.push('endStage');\r\n    }\r\n    if (events.setStage !== false) {\r\n        enabledEventNames.push('setStage');\r\n    }\r\n    function ProcessEvent(state, action) {\r\n        const { type, playerID, args } = action.payload;\r\n        if (Object.prototype.hasOwnProperty.call(eventHandlers, type)) {\r\n            const eventArgs = [state, playerID].concat(args);\r\n            return eventHandlers[type].apply({}, eventArgs);\r\n        }\r\n        return state;\r\n    }\r\n    function IsPlayerActive(_G, ctx, playerID) {\r\n        if (ctx.activePlayers) {\r\n            return playerID in ctx.activePlayers;\r\n        }\r\n        return ctx.currentPlayer === playerID;\r\n    }\r\n    return {\r\n        ctx: (numPlayers) => ({\r\n            numPlayers,\r\n            turn: 0,\r\n            currentPlayer: '0',\r\n            playOrder: [...new Array(numPlayers)].map((_d, i) => i + ''),\r\n            playOrderPos: 0,\r\n            phase: startingPhase,\r\n            activePlayers: null,\r\n        }),\r\n        init: (state) => {\r\n            return Process(state, [{ fn: StartGame }]);\r\n        },\r\n        isPlayerActive: IsPlayerActive,\r\n        eventHandlers,\r\n        eventNames: Object.keys(eventHandlers),\r\n        enabledEventNames,\r\n        moveMap,\r\n        moveNames: [...moveNames.values()],\r\n        processMove: ProcessMove,\r\n        processEvent: ProcessEvent,\r\n        getMove: GetMove,\r\n    };\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction IsProcessed(game) {\r\n    return game.processMove !== undefined;\r\n}\r\n/**\r\n * Helper to generate the game move reducer. The returned\r\n * reducer has the following signature:\r\n *\r\n * (G, action, ctx) => {}\r\n *\r\n * You can roll your own if you like, or use any Redux\r\n * addon to generate such a reducer.\r\n *\r\n * The convention used in this framework is to\r\n * have action.type contain the name of the move, and\r\n * action.args contain any additional arguments as an\r\n * Array.\r\n */\r\nfunction ProcessGameConfig(game) {\r\n    // The Game() function has already been called on this\r\n    // config object, so just pass it through.\r\n    if (IsProcessed(game)) {\r\n        return game;\r\n    }\r\n    if (game.name === undefined)\r\n        game.name = 'default';\r\n    if (game.disableUndo === undefined)\r\n        game.disableUndo = false;\r\n    if (game.setup === undefined)\r\n        game.setup = () => ({});\r\n    if (game.moves === undefined)\r\n        game.moves = {};\r\n    if (game.playerView === undefined)\r\n        game.playerView = (G) => G;\r\n    if (game.plugins === undefined)\r\n        game.plugins = [];\r\n    game.plugins.forEach((plugin) => {\r\n        if (plugin.name === undefined) {\r\n            throw new Error('Plugin missing name attribute');\r\n        }\r\n        if (plugin.name.includes(' ')) {\r\n            throw new Error(plugin.name + ': Plugin name must not include spaces');\r\n        }\r\n    });\r\n    if (game.name.includes(' ')) {\r\n        throw new Error(game.name + ': Game name must not include spaces');\r\n    }\r\n    const flow = Flow(game);\r\n    return {\r\n        ...game,\r\n        flow,\r\n        moveNames: flow.moveNames,\r\n        pluginNames: game.plugins.map((p) => p.name),\r\n        processMove: (state, action) => {\r\n            let moveFn = flow.getMove(state.ctx, action.type, action.playerID);\r\n            if (IsLongFormMove(moveFn)) {\r\n                moveFn = moveFn.move;\r\n            }\r\n            if (moveFn instanceof Function) {\r\n                const fn = FnWrap(moveFn, game.plugins);\r\n                const ctxWithAPI = {\r\n                    ...EnhanceCtx(state),\r\n                    playerID: action.playerID,\r\n                };\r\n                let args = [];\r\n                if (action.args !== undefined) {\r\n                    args = args.concat(action.args);\r\n                }\r\n                return fn(state.G, ctxWithAPI, ...args);\r\n            }\r\n            error(`invalid move object: ${action.type}`);\r\n            return state.G;\r\n        },\r\n    };\r\n}\r\nfunction IsLongFormMove(move) {\r\n    return move instanceof Object && move.move !== undefined;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Check if the payload for the passed action contains a playerID.\r\n */\r\nconst actionHasPlayerID = (action) => action.payload.playerID !== null && action.payload.playerID !== undefined;\r\n/**\r\n * Returns true if a move can be undone.\r\n */\r\nconst CanUndoMove = (G, ctx, move) => {\r\n    function HasUndoable(move) {\r\n        return move.undoable !== undefined;\r\n    }\r\n    function IsFunction(undoable) {\r\n        return undoable instanceof Function;\r\n    }\r\n    if (!HasUndoable(move)) {\r\n        return true;\r\n    }\r\n    if (IsFunction(move.undoable)) {\r\n        return move.undoable(G, ctx);\r\n    }\r\n    return move.undoable;\r\n};\r\n/**\r\n * Update the undo and redo stacks for a move or event.\r\n */\r\nfunction updateUndoRedoState(state, opts) {\r\n    if (opts.game.disableUndo)\r\n        return state;\r\n    const undoEntry = {\r\n        G: state.G,\r\n        ctx: state.ctx,\r\n        plugins: state.plugins,\r\n        playerID: opts.action.payload.playerID || state.ctx.currentPlayer,\r\n    };\r\n    if (opts.action.type === 'MAKE_MOVE') {\r\n        undoEntry.moveType = opts.action.payload.type;\r\n    }\r\n    return {\r\n        ...state,\r\n        _undo: [...state._undo, undoEntry],\r\n        // Always reset redo stack when making a move or event\r\n        _redo: [],\r\n    };\r\n}\r\n/**\r\n * Process state, adding the initial deltalog for this action.\r\n */\r\nfunction initializeDeltalog(state, action, move) {\r\n    // Create a log entry for this action.\r\n    const logEntry = {\r\n        action,\r\n        _stateID: state._stateID,\r\n        turn: state.ctx.turn,\r\n        phase: state.ctx.phase,\r\n    };\r\n    const pluginLogMetadata = state.plugins.log.data.metadata;\r\n    if (pluginLogMetadata !== undefined) {\r\n        logEntry.metadata = pluginLogMetadata;\r\n    }\r\n    if (typeof move === 'object' && move.redact === true) {\r\n        logEntry.redact = true;\r\n    }\r\n    return {\r\n        ...state,\r\n        deltalog: [logEntry],\r\n    };\r\n}\r\n/**\r\n * CreateGameReducer\r\n *\r\n * Creates the main game state reducer.\r\n */\r\nfunction CreateGameReducer({ game, isClient, }) {\r\n    game = ProcessGameConfig(game);\r\n    /**\r\n     * GameReducer\r\n     *\r\n     * Redux reducer that maintains the overall game state.\r\n     * @param {object} state - The state before the action.\r\n     * @param {object} action - A Redux action.\r\n     */\r\n    return (state = null, action) => {\r\n        switch (action.type) {\r\n            case GAME_EVENT: {\r\n                state = { ...state, deltalog: [] };\r\n                // Process game events only on the server.\r\n                // These events like `endTurn` typically\r\n                // contain code that may rely on secret state\r\n                // and cannot be computed on the client.\r\n                if (isClient) {\r\n                    return state;\r\n                }\r\n                // Disallow events once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot call event after game end`);\r\n                    return state;\r\n                }\r\n                // Ignore the event if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed event: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient: false,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process event.\r\n                let newState = game.flow.processEvent(state, action);\r\n                // Execute plugins.\r\n                newState = Flush(newState, { game, isClient: false });\r\n                // Update undo / redo state.\r\n                newState = updateUndoRedoState(newState, { game, action });\r\n                return { ...newState, _stateID: state._stateID + 1 };\r\n            }\r\n            case MAKE_MOVE: {\r\n                state = { ...state, deltalog: [] };\r\n                // Check whether the move is allowed at this time.\r\n                const move = game.flow.getMove(state.ctx, action.payload.type, action.payload.playerID || state.ctx.currentPlayer);\r\n                if (move === null) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Don't run move on client if move says so.\r\n                if (isClient && move.client === false) {\r\n                    return state;\r\n                }\r\n                // Disallow moves once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot make move after game end`);\r\n                    return state;\r\n                }\r\n                // Ignore the move if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return state;\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process the move.\r\n                const G = game.processMove(state, action.payload);\r\n                // The game declared the move as invalid.\r\n                if (G === INVALID_MOVE) {\r\n                    error(`invalid move: ${action.payload.type} args: ${action.payload.args}`);\r\n                    return state;\r\n                }\r\n                const newState = { ...state, G };\r\n                // Some plugin indicated that it is not suitable to be\r\n                // materialized on the client (and must wait for the server\r\n                // response instead).\r\n                if (isClient && NoClient(newState, { game })) {\r\n                    return state;\r\n                }\r\n                state = newState;\r\n                // If we're on the client, just process the move\r\n                // and no triggers in multiplayer mode.\r\n                // These will be processed on the server, which\r\n                // will send back a state update.\r\n                if (isClient) {\r\n                    state = Flush(state, {\r\n                        game,\r\n                        isClient: true,\r\n                    });\r\n                    return {\r\n                        ...state,\r\n                        _stateID: state._stateID + 1,\r\n                    };\r\n                }\r\n                // On the server, construct the deltalog.\r\n                state = initializeDeltalog(state, action, move);\r\n                // Allow the flow reducer to process any triggers that happen after moves.\r\n                state = game.flow.processMove(state, action.payload);\r\n                state = Flush(state, { game });\r\n                // Update undo / redo state.\r\n                state = updateUndoRedoState(state, { game, action });\r\n                return {\r\n                    ...state,\r\n                    _stateID: state._stateID + 1,\r\n                };\r\n            }\r\n            case RESET:\r\n            case UPDATE:\r\n            case SYNC: {\r\n                return action.state;\r\n            }\r\n            case UNDO: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    error('Undo is not enabled');\r\n                    return state;\r\n                }\r\n                const { _undo, _redo } = state;\r\n                if (_undo.length < 2) {\r\n                    return state;\r\n                }\r\n                const last = _undo[_undo.length - 1];\r\n                const restore = _undo[_undo.length - 2];\r\n                // Only allow players to undo their own moves.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== last.playerID) {\r\n                    return state;\r\n                }\r\n                // Only allow undoable moves to be undone.\r\n                const lastMove = game.flow.getMove(restore.ctx, last.moveType, last.playerID);\r\n                if (!CanUndoMove(state.G, state.ctx, lastMove)) {\r\n                    return state;\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: restore.G,\r\n                    ctx: restore.ctx,\r\n                    plugins: restore.plugins,\r\n                    _stateID: state._stateID + 1,\r\n                    _undo: _undo.slice(0, -1),\r\n                    _redo: [last, ..._redo],\r\n                };\r\n            }\r\n            case REDO: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    error('Redo is not enabled');\r\n                    return state;\r\n                }\r\n                const { _undo, _redo } = state;\r\n                if (_redo.length == 0) {\r\n                    return state;\r\n                }\r\n                const first = _redo[0];\r\n                // Only allow players to redo their own undos.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== first.playerID) {\r\n                    return state;\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: first.G,\r\n                    ctx: first.ctx,\r\n                    plugins: first.plugins,\r\n                    _stateID: state._stateID + 1,\r\n                    _undo: [..._undo, first],\r\n                    _redo: _redo.slice(1),\r\n                };\r\n            }\r\n            case PLUGIN: {\r\n                return ProcessAction(state, action, { game });\r\n            }\r\n            default: {\r\n                return state;\r\n            }\r\n        }\r\n    };\r\n}\n\nexport { CreateGameReducer as C, IsLongFormMove as I, ProcessGameConfig as P };\n","var Flatted = (function (Primitive, primitive) {\n\n  /*!\n   * ISC License\n   *\n   * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n   *\n   * Permission to use, copy, modify, and/or distribute this software for any\n   * purpose with or without fee is hereby granted, provided that the above\n   * copyright notice and this permission notice appear in all copies.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n   * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n   * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n   * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n   * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n   * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n   * PERFORMANCE OF THIS SOFTWARE.\n   */\n\n  var Flatted = {\n\n    parse: function parse(text) {\n      var input = JSON.parse(text, Primitives).map(primitives);\n      var value = input[0];\n      return typeof value === 'object' && value ?\n              revive(input, new Set, value) : value;\n    },\n\n    stringify: function stringify(value) {\n      for (var\n        firstRun,\n        known = new Map,\n        input = [],\n        output = [],\n        i = +set(known, input, value),\n        replace = function (key, value) {\n          if (firstRun) return (firstRun = !firstRun), value;\n          switch (typeof value) {\n            case 'object':\n              if (value === null) return value;\n            case primitive:\n              return known.get(value) || set(known, input, value);\n          }\n          return value;\n        };\n        i < input.length; i++\n      ) {\n        firstRun = true;\n        output[i] = JSON.stringify(input[i], replace);\n      }\n      return '[' + output.join(',') + ']';\n    }\n\n  };\n\n  return Flatted;\n\n  function revive(input, parsed, output) {\n    return Object.keys(output).reduce(\n      function (output, key) {\n        var value = output[key];\n        if (value instanceof Primitive) {\n          var tmp = input[value];\n          if (typeof tmp === 'object' && !parsed.has(tmp)) {\n            parsed.add(tmp);\n            output[key] = revive(input, parsed, tmp);\n          } else {\n            output[key] = tmp;\n          }\n        }\n        return output;\n      },\n      output\n    );\n  }\n\n  function set(known, input, value) {\n    var index = Primitive(input.push(value) - 1);\n    known.set(value, index);\n    return index;\n  }\n\n  function primitives(value) {\n    return value instanceof Primitive ? Primitive(value) : value;\n  }\n\n  function Primitives(key, value) {\n    return typeof value === primitive ? new Primitive(value) : value;\n  }\n\n}(String, 'string'));\nexport default Flatted;\nexport const parse = Flatted.parse;\nexport const stringify = Flatted.stringify;\n","import { t as makeMove, g as gameEvent, v as alea } from './turn-order-5f1427df.js';\nimport { C as CreateGameReducer } from './reducer-e68c7d84.js';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Base class that bots can extend.\r\n */\r\nclass Bot {\r\n    constructor({ enumerate, seed, }) {\r\n        this.enumerateFn = enumerate;\r\n        this.seed = seed;\r\n        this.iterationCounter = 0;\r\n        this._opts = {};\r\n    }\r\n    addOpt({ key, range, initial, }) {\r\n        this._opts[key] = {\r\n            range,\r\n            value: initial,\r\n        };\r\n    }\r\n    getOpt(key) {\r\n        return this._opts[key].value;\r\n    }\r\n    setOpt(key, value) {\r\n        if (key in this._opts) {\r\n            this._opts[key].value = value;\r\n        }\r\n    }\r\n    opts() {\r\n        return this._opts;\r\n    }\r\n    enumerate(G, ctx, playerID) {\r\n        const actions = this.enumerateFn(G, ctx, playerID);\r\n        return actions.map((a) => {\r\n            if ('payload' in a) {\r\n                return a;\r\n            }\r\n            if ('move' in a) {\r\n                return makeMove(a.move, a.args, playerID);\r\n            }\r\n            if ('event' in a) {\r\n                return gameEvent(a.event, a.args, playerID);\r\n            }\r\n        });\r\n    }\r\n    random(arg) {\r\n        let number;\r\n        if (this.seed !== undefined) {\r\n            const seed = this.prngstate ? '' : this.seed;\r\n            const rand = alea(seed, this.prngstate);\r\n            number = rand();\r\n            this.prngstate = rand.state();\r\n        }\r\n        else {\r\n            number = Math.random();\r\n        }\r\n        if (arg) {\r\n            if (Array.isArray(arg)) {\r\n                const id = Math.floor(number * arg.length);\r\n                return arg[id];\r\n            }\r\n            else {\r\n                return Math.floor(number * arg);\r\n            }\r\n        }\r\n        return number;\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * The number of iterations to run before yielding to\r\n * the JS event loop (in async mode).\r\n */\r\nconst CHUNK_SIZE = 25;\r\n/**\r\n * Bot that uses Monte-Carlo Tree Search to find promising moves.\r\n */\r\nclass MCTSBot extends Bot {\r\n    constructor({ enumerate, seed, objectives, game, iterations, playoutDepth, iterationCallback, }) {\r\n        super({ enumerate, seed });\r\n        if (objectives === undefined) {\r\n            objectives = () => ({});\r\n        }\r\n        this.objectives = objectives;\r\n        this.iterationCallback = iterationCallback || (() => { });\r\n        this.reducer = CreateGameReducer({ game });\r\n        this.iterations = iterations;\r\n        this.playoutDepth = playoutDepth;\r\n        this.addOpt({\r\n            key: 'async',\r\n            initial: false,\r\n        });\r\n        this.addOpt({\r\n            key: 'iterations',\r\n            initial: typeof iterations === 'number' ? iterations : 1000,\r\n            range: { min: 1, max: 2000 },\r\n        });\r\n        this.addOpt({\r\n            key: 'playoutDepth',\r\n            initial: typeof playoutDepth === 'number' ? playoutDepth : 50,\r\n            range: { min: 1, max: 100 },\r\n        });\r\n    }\r\n    createNode({ state, parentAction, parent, playerID, }) {\r\n        const { G, ctx } = state;\r\n        let actions = [];\r\n        let objectives = [];\r\n        if (playerID !== undefined) {\r\n            actions = this.enumerate(G, ctx, playerID);\r\n            objectives = this.objectives(G, ctx, playerID);\r\n        }\r\n        else if (ctx.activePlayers) {\r\n            for (const playerID in ctx.activePlayers) {\r\n                actions = actions.concat(this.enumerate(G, ctx, playerID));\r\n                objectives = objectives.concat(this.objectives(G, ctx, playerID));\r\n            }\r\n        }\r\n        else {\r\n            actions = actions.concat(this.enumerate(G, ctx, ctx.currentPlayer));\r\n            objectives = objectives.concat(this.objectives(G, ctx, ctx.currentPlayer));\r\n        }\r\n        return {\r\n            state,\r\n            parent,\r\n            parentAction,\r\n            actions,\r\n            objectives,\r\n            children: [],\r\n            visits: 0,\r\n            value: 0,\r\n        };\r\n    }\r\n    select(node) {\r\n        // This node has unvisited children.\r\n        if (node.actions.length > 0) {\r\n            return node;\r\n        }\r\n        // This is a terminal node.\r\n        if (node.children.length == 0) {\r\n            return node;\r\n        }\r\n        let selectedChild = null;\r\n        let best = 0;\r\n        for (const child of node.children) {\r\n            const childVisits = child.visits + Number.EPSILON;\r\n            const uct = child.value / childVisits +\r\n                Math.sqrt((2 * Math.log(node.visits)) / childVisits);\r\n            if (selectedChild == null || uct > best) {\r\n                best = uct;\r\n                selectedChild = child;\r\n            }\r\n        }\r\n        return this.select(selectedChild);\r\n    }\r\n    expand(node) {\r\n        const actions = node.actions;\r\n        if (actions.length == 0 || node.state.ctx.gameover !== undefined) {\r\n            return node;\r\n        }\r\n        const id = this.random(actions.length);\r\n        const action = actions[id];\r\n        node.actions.splice(id, 1);\r\n        const childState = this.reducer(node.state, action);\r\n        const childNode = this.createNode({\r\n            state: childState,\r\n            parentAction: action,\r\n            parent: node,\r\n        });\r\n        node.children.push(childNode);\r\n        return childNode;\r\n    }\r\n    playout({ state }) {\r\n        let playoutDepth = this.getOpt('playoutDepth');\r\n        if (typeof this.playoutDepth === 'function') {\r\n            playoutDepth = this.playoutDepth(state.G, state.ctx);\r\n        }\r\n        for (let i = 0; i < playoutDepth && state.ctx.gameover === undefined; i++) {\r\n            const { G, ctx } = state;\r\n            let playerID = ctx.currentPlayer;\r\n            if (ctx.activePlayers) {\r\n                playerID = Object.keys(ctx.activePlayers)[0];\r\n            }\r\n            const moves = this.enumerate(G, ctx, playerID);\r\n            // Check if any objectives are met.\r\n            const objectives = this.objectives(G, ctx, playerID);\r\n            const score = Object.keys(objectives).reduce((score, key) => {\r\n                const objective = objectives[key];\r\n                if (objective.checker(G, ctx)) {\r\n                    return score + objective.weight;\r\n                }\r\n                return score;\r\n            }, 0);\r\n            // If so, stop and return the score.\r\n            if (score > 0) {\r\n                return { score };\r\n            }\r\n            if (!moves || moves.length == 0) {\r\n                return undefined;\r\n            }\r\n            const id = this.random(moves.length);\r\n            const childState = this.reducer(state, moves[id]);\r\n            state = childState;\r\n        }\r\n        return state.ctx.gameover;\r\n    }\r\n    backpropagate(node, result = {}) {\r\n        node.visits++;\r\n        if (result.score !== undefined) {\r\n            node.value += result.score;\r\n        }\r\n        if (result.draw === true) {\r\n            node.value += 0.5;\r\n        }\r\n        if (node.parentAction &&\r\n            result.winner === node.parentAction.payload.playerID) {\r\n            node.value++;\r\n        }\r\n        if (node.parent) {\r\n            this.backpropagate(node.parent, result);\r\n        }\r\n    }\r\n    play(state, playerID) {\r\n        const root = this.createNode({ state, playerID });\r\n        let numIterations = this.getOpt('iterations');\r\n        if (typeof this.iterations === 'function') {\r\n            numIterations = this.iterations(state.G, state.ctx);\r\n        }\r\n        const getResult = () => {\r\n            let selectedChild = null;\r\n            for (const child of root.children) {\r\n                if (selectedChild == null || child.visits > selectedChild.visits) {\r\n                    selectedChild = child;\r\n                }\r\n            }\r\n            const action = selectedChild && selectedChild.parentAction;\r\n            const metadata = root;\r\n            return { action, metadata };\r\n        };\r\n        return new Promise((resolve) => {\r\n            const iteration = () => {\r\n                for (let i = 0; i < CHUNK_SIZE && this.iterationCounter < numIterations; i++) {\r\n                    const leaf = this.select(root);\r\n                    const child = this.expand(leaf);\r\n                    const result = this.playout(child);\r\n                    this.backpropagate(child, result);\r\n                    this.iterationCounter++;\r\n                }\r\n                this.iterationCallback({\r\n                    iterationCounter: this.iterationCounter,\r\n                    numIterations,\r\n                    metadata: root,\r\n                });\r\n            };\r\n            this.iterationCounter = 0;\r\n            if (this.getOpt('async')) {\r\n                const asyncIteration = () => {\r\n                    if (this.iterationCounter < numIterations) {\r\n                        iteration();\r\n                        setTimeout(asyncIteration, 0);\r\n                    }\r\n                    else {\r\n                        resolve(getResult());\r\n                    }\r\n                };\r\n                asyncIteration();\r\n            }\r\n            else {\r\n                while (this.iterationCounter < numIterations) {\r\n                    iteration();\r\n                }\r\n                resolve(getResult());\r\n            }\r\n        });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Bot that picks a move at random.\r\n */\r\nclass RandomBot extends Bot {\r\n    play({ G, ctx }, playerID) {\r\n        const moves = this.enumerate(G, ctx, playerID);\r\n        return Promise.resolve({ action: this.random(moves) });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Make a single move on the client with a bot.\r\n *\r\n * @param {...object} client - The game client.\r\n * @param {...object} bot - The bot.\r\n */\r\nasync function Step(client, bot) {\r\n    const state = client.store.getState();\r\n    let playerID = state.ctx.currentPlayer;\r\n    if (state.ctx.activePlayers) {\r\n        playerID = Object.keys(state.ctx.activePlayers)[0];\r\n    }\r\n    const { action, metadata } = await bot.play(state, playerID);\r\n    if (action) {\r\n        const a = {\r\n            ...action,\r\n            payload: {\r\n                ...action.payload,\r\n                metadata,\r\n            },\r\n        };\r\n        client.store.dispatch(a);\r\n        return a;\r\n    }\r\n}\r\n/**\r\n * Simulates the game till the end or a max depth.\r\n *\r\n * @param {...object} game - The game object.\r\n * @param {...object} bots - An array of bots.\r\n * @param {...object} state - The game state to start from.\r\n */\r\nasync function Simulate({ game, bots, state, depth, }) {\r\n    if (depth === undefined)\r\n        depth = 10000;\r\n    const reducer = CreateGameReducer({ game });\r\n    let metadata = null;\r\n    let iter = 0;\r\n    while (state.ctx.gameover === undefined && iter < depth) {\r\n        let playerID = state.ctx.currentPlayer;\r\n        if (state.ctx.activePlayers) {\r\n            playerID = Object.keys(state.ctx.activePlayers)[0];\r\n        }\r\n        const bot = bots instanceof Bot ? bots : bots[playerID];\r\n        const t = await bot.play(state, playerID);\r\n        if (!t.action) {\r\n            break;\r\n        }\r\n        metadata = t.metadata;\r\n        state = reducer(state, t.action);\r\n        iter++;\r\n    }\r\n    return { state, metadata };\r\n}\n\nexport { Bot as B, MCTSBot as M, RandomBot as R, Step as S, Simulate as a };\n","import { e as error, s as sync } from './turn-order-5f1427df.js';\nimport { C as CreateGameReducer } from './reducer-e68c7d84.js';\nimport { stringify, parse } from 'flatted';\nimport { M as MCTSBot, R as RandomBot, S as Step } from './ai-242cdcaf.js';\n\nfunction noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nconst subscriber_queue = [];\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\n\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\n\n/* src/client/debug/Menu.svelte generated by Svelte v3.24.0 */\n\nfunction add_css() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-14p9tpy-style\";\n\tstyle.textContent = \".menu.svelte-14p9tpy{display:flex;margin-top:-10px;flex-direction:row-reverse;border:1px solid #ccc;border-radius:5px 5px 0 0;height:25px;line-height:25px;margin-right:-500px;transform-origin:bottom right;transform:rotate(-90deg) translate(0, -500px)}.menu-item.svelte-14p9tpy{line-height:25px;cursor:pointer;border:0;background:#fefefe;color:#555;padding-left:15px;padding-right:15px;text-align:center}.menu-item.svelte-14p9tpy:first-child{border-radius:0 5px 0 0}.menu-item.svelte-14p9tpy:last-child{border-radius:5px 0 0 0}.menu-item.active.svelte-14p9tpy{cursor:default;font-weight:bold;background:#ddd;color:#555}.menu-item.svelte-14p9tpy:hover,.menu-item.svelte-14p9tpy:focus{background:#eee;color:#555}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[4] = list[i][0];\n\tchild_ctx[5] = list[i][1].label;\n\treturn child_ctx;\n}\n\n// (57:2) {#each Object.entries(panes) as [key, {label}\nfunction create_each_block(ctx) {\n\tlet button;\n\tlet t0_value = /*label*/ ctx[5] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[3](/*key*/ ctx[4], ...args);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"menu-item svelte-14p9tpy\");\n\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*panes*/ 2 && t0_value !== (t0_value = /*label*/ ctx[5] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*pane, Object, panes*/ 3) {\n\t\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet nav;\n\tlet each_value = Object.entries(/*panes*/ ctx[1]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tnav = element(\"nav\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(nav, \"class\", \"menu svelte-14p9tpy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, nav, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*pane, Object, panes, dispatch*/ 7) {\n\t\t\t\teach_value = Object.entries(/*panes*/ ctx[1]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(nav);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { pane } = $$props;\n\tlet { panes } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst click_handler = key => dispatch(\"change\", key);\n\n\t$$self.$set = $$props => {\n\t\tif (\"pane\" in $$props) $$invalidate(0, pane = $$props.pane);\n\t\tif (\"panes\" in $$props) $$invalidate(1, panes = $$props.panes);\n\t};\n\n\treturn [pane, panes, dispatch, click_handler];\n}\n\nclass Menu extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-14p9tpy-style\")) add_css();\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, { pane: 0, panes: 1 });\n\t}\n}\n\nvar contextKey = {};\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrow.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$1() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1vyml86-style\";\n\tstyle.textContent = \".container.svelte-1vyml86{display:inline-block;cursor:pointer;transform:translate(calc(0px - var(--li-identation)), -50%);position:absolute;top:50%;padding-right:100%}.arrow.svelte-1vyml86{transform-origin:25% 50%;position:relative;line-height:1.1em;font-size:0.75em;margin-left:0;transition:150ms;color:var(--arrow-sign);user-select:none;font-family:'Courier New', Courier, monospace}.expanded.svelte-1vyml86{transform:rotateZ(90deg) translateX(-3px)}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$1(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv0.textContent = `${\"▶\"}`;\n\t\t\tattr(div0, \"class\", \"arrow svelte-1vyml86\");\n\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\tattr(div1, \"class\", \"container svelte-1vyml86\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(div1, \"click\", /*click_handler*/ ctx[1]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$1($$self, $$props, $$invalidate) {\n\tlet { expanded } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble($$self, event);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"expanded\" in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\treturn [expanded, click_handler];\n}\n\nclass JSONArrow extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1vyml86-style\")) add_css$1();\n\t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, { expanded: 0 });\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONKey.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$2() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1vlbacg-style\";\n\tstyle.textContent = \"label.svelte-1vlbacg{display:inline-block;color:var(--label-color);padding:0}.spaced.svelte-1vlbacg{padding-right:var(--li-colon-space)}\";\n\tappend(document.head, style);\n}\n\n// (16:0) {#if showKey && key}\nfunction create_if_block(ctx) {\n\tlet label;\n\tlet span;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel = element(\"label\");\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(/*key*/ ctx[0]);\n\t\t\tt1 = text(/*colon*/ ctx[2]);\n\t\t\tattr(label, \"class\", \"svelte-1vlbacg\");\n\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label, anchor);\n\t\t\tappend(label, span);\n\t\t\tappend(span, t0);\n\t\t\tappend(span, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(label, \"click\", /*click_handler*/ ctx[5]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*key*/ 1) set_data(t0, /*key*/ ctx[0]);\n\t\t\tif (dirty & /*colon*/ 4) set_data(t1, /*colon*/ ctx[2]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 2) {\n\t\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$2(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*showKey*/ ctx[3] && /*key*/ ctx[0] && create_if_block(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*showKey*/ ctx[3] && /*key*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$2($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray = false } = $$props,\n\t\t{ colon = \":\" } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble($$self, event);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif (\"colon\" in $$props) $$invalidate(2, colon = $$props.colon);\n\t};\n\n\tlet showKey;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded, isParentArray, key*/ 19) {\n\t\t\t$: $$invalidate(3, showKey = isParentExpanded || !isParentArray || key != +key);\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, colon, showKey, isParentArray, click_handler];\n}\n\nclass JSONKey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1vlbacg-style\")) add_css$2();\n\n\t\tinit(this, options, instance$2, create_fragment$2, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 4,\n\t\t\tcolon: 2\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNested.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$3() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-rwxv37-style\";\n\tstyle.textContent = \"label.svelte-rwxv37{display:inline-block}.indent.svelte-rwxv37{padding-left:var(--li-identation)}.collapse.svelte-rwxv37{--li-display:inline;display:inline;font-style:italic}.comma.svelte-rwxv37{margin-left:-0.5em;margin-right:0.5em}label.svelte-rwxv37{position:relative}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[12] = list[i];\n\tchild_ctx[20] = i;\n\treturn child_ctx;\n}\n\n// (57:4) {#if expandable && isParentExpanded}\nfunction create_if_block_3(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (75:4) {:else}\nfunction create_else_block(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"…\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (63:4) {#if isParentExpanded}\nfunction create_if_block$1(ctx) {\n\tlet ul;\n\tlet t;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*slicedKeys*/ ctx[13];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length && create_if_block_1();\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul, null);\n\t\t\t}\n\n\t\t\tappend(ul, t);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(ul, \"click\", /*expand*/ ctx[16]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*expanded, previewKeys, getKey, slicedKeys, isArray, getValue, getPreviewValue*/ 10129) {\n\t\t\t\teach_value = /*slicedKeys*/ ctx[13];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_1();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (67:10) {#if !expanded && index < previewKeys.length - 1}\nfunction create_if_block_2(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \",\";\n\t\t\tattr(span, \"class\", \"comma svelte-rwxv37\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (65:8) {#each slicedKeys as key, index}\nfunction create_each_block$1(ctx) {\n\tlet jsonnode;\n\tlet t;\n\tlet if_block_anchor;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*getKey*/ ctx[8](/*key*/ ctx[12]),\n\t\t\t\tisParentExpanded: /*expanded*/ ctx[0],\n\t\t\t\tisParentArray: /*isArray*/ ctx[4],\n\t\t\t\tvalue: /*expanded*/ ctx[0]\n\t\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12])\n\t\t\t}\n\t\t});\n\n\tlet if_block = !/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1 && create_if_block_2();\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*getKey, slicedKeys*/ 8448) jsonnode_changes.key = /*getKey*/ ctx[8](/*key*/ ctx[12]);\n\t\t\tif (dirty & /*expanded*/ 1) jsonnode_changes.isParentExpanded = /*expanded*/ ctx[0];\n\t\t\tif (dirty & /*isArray*/ 16) jsonnode_changes.isParentArray = /*isArray*/ ctx[4];\n\n\t\t\tif (dirty & /*expanded, getValue, slicedKeys, getPreviewValue*/ 9729) jsonnode_changes.value = /*expanded*/ ctx[0]\n\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12]);\n\n\t\t\tjsonnode.$set(jsonnode_changes);\n\n\t\t\tif (!/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_2();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (71:8) {#if slicedKeys.length < previewKeys.length }\nfunction create_if_block_1(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"…\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$3(ctx) {\n\tlet li;\n\tlet label_1;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span1;\n\tlet span0;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet t5;\n\tlet span2;\n\tlet t6;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2] && create_if_block_3(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[12],\n\t\t\t\tcolon: /*context*/ ctx[14].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tjsonkey.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\tconst if_block_creators = [create_if_block$1, create_else_block];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*isParentExpanded*/ ctx[2]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt2 = text(/*label*/ ctx[1]);\n\t\t\tt3 = text(/*bracketOpen*/ ctx[5]);\n\t\t\tt4 = space();\n\t\t\tif_block1.c();\n\t\t\tt5 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt6 = text(/*bracketClose*/ ctx[6]);\n\t\t\tattr(label_1, \"class\", \"svelte-rwxv37\");\n\t\t\tattr(li, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tappend(li, label_1);\n\t\t\tif (if_block0) if_block0.m(label_1, null);\n\t\t\tappend(label_1, t0);\n\t\t\tmount_component(jsonkey, label_1, null);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span1);\n\t\t\tappend(span1, span0);\n\t\t\tappend(span0, t2);\n\t\t\tappend(span1, t3);\n\t\t\tappend(li, t4);\n\t\t\tif_blocks[current_block_type_index].m(li, null);\n\t\t\tappend(li, t5);\n\t\t\tappend(li, span2);\n\t\t\tappend(span2, t6);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span1, \"click\", /*toggleExpand*/ ctx[15]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expandable, isParentExpanded*/ 2052) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(label_1, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 4096) jsonkey_changes.key = /*key*/ ctx[12];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif (!current || dirty & /*label*/ 2) set_data(t2, /*label*/ ctx[1]);\n\t\t\tif (!current || dirty & /*bracketOpen*/ 32) set_data(t3, /*bracketOpen*/ ctx[5]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(li, t5);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*bracketClose*/ 64) set_data(t6, /*bracketClose*/ ctx[6]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$3($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ keys } = $$props,\n\t\t{ colon = \":\" } = $$props,\n\t\t{ label = \"\" } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props,\n\t\t{ isArray = false } = $$props,\n\t\t{ bracketOpen } = $$props,\n\t\t{ bracketClose } = $$props;\n\n\tlet { previewKeys = keys } = $$props;\n\tlet { getKey = key => key } = $$props;\n\tlet { getValue = key => key } = $$props;\n\tlet { getPreviewValue = getValue } = $$props;\n\tlet { expanded = false } = $$props, { expandable = true } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\tfunction expand() {\n\t\t$$invalidate(0, expanded = true);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(12, key = $$props.key);\n\t\tif (\"keys\" in $$props) $$invalidate(17, keys = $$props.keys);\n\t\tif (\"colon\" in $$props) $$invalidate(18, colon = $$props.colon);\n\t\tif (\"label\" in $$props) $$invalidate(1, label = $$props.label);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif (\"isArray\" in $$props) $$invalidate(4, isArray = $$props.isArray);\n\t\tif (\"bracketOpen\" in $$props) $$invalidate(5, bracketOpen = $$props.bracketOpen);\n\t\tif (\"bracketClose\" in $$props) $$invalidate(6, bracketClose = $$props.bracketClose);\n\t\tif (\"previewKeys\" in $$props) $$invalidate(7, previewKeys = $$props.previewKeys);\n\t\tif (\"getKey\" in $$props) $$invalidate(8, getKey = $$props.getKey);\n\t\tif (\"getValue\" in $$props) $$invalidate(9, getValue = $$props.getValue);\n\t\tif (\"getPreviewValue\" in $$props) $$invalidate(10, getPreviewValue = $$props.getPreviewValue);\n\t\tif (\"expanded\" in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t\tif (\"expandable\" in $$props) $$invalidate(11, expandable = $$props.expandable);\n\t};\n\n\tlet slicedKeys;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 4) {\n\t\t\t$: if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*expanded, keys, previewKeys*/ 131201) {\n\t\t\t$: $$invalidate(13, slicedKeys = expanded ? keys : previewKeys.slice(0, 5));\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tlabel,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tisArray,\n\t\tbracketOpen,\n\t\tbracketClose,\n\t\tpreviewKeys,\n\t\tgetKey,\n\t\tgetValue,\n\t\tgetPreviewValue,\n\t\texpandable,\n\t\tkey,\n\t\tslicedKeys,\n\t\tcontext,\n\t\ttoggleExpand,\n\t\texpand,\n\t\tkeys,\n\t\tcolon\n\t];\n}\n\nclass JSONNested extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-rwxv37-style\")) add_css$3();\n\n\t\tinit(this, options, instance$3, create_fragment$3, safe_not_equal, {\n\t\t\tkey: 12,\n\t\t\tkeys: 17,\n\t\t\tcolon: 18,\n\t\t\tlabel: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\tisArray: 4,\n\t\t\tbracketOpen: 5,\n\t\t\tbracketClose: 6,\n\t\t\tpreviewKeys: 7,\n\t\t\tgetKey: 8,\n\t\t\tgetValue: 9,\n\t\t\tgetPreviewValue: 10,\n\t\t\texpanded: 0,\n\t\t\texpandable: 11\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONObjectNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$4(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \" \"),\n\t\t\t\tbracketOpen: \"{\",\n\t\t\t\tbracketClose: \"}\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.previewKeys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*nodeType*/ 8) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \" \");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$4($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props,\n\t\t{ nodeType } = $$props;\n\n\tlet { expanded = true } = $$props;\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(7, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif (\"nodeType\" in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t\tif (\"expanded\" in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\tlet keys;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 128) {\n\t\t\t$: $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\texpanded,\n\t\tkeys,\n\t\tgetValue,\n\t\tvalue\n\t];\n}\n\nclass JSONObjectNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$4, create_fragment$4, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 7,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrayNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$5(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tisArray: true,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*previewKeys*/ ctx[6],\n\t\t\t\tgetValue: /*getValue*/ ctx[7],\n\t\t\t\tlabel: \"Array(\" + /*value*/ ctx[1].length + \")\",\n\t\t\t\tbracketOpen: \"[\",\n\t\t\t\tbracketClose: \"]\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*previewKeys*/ 64) jsonnested_changes.previewKeys = /*previewKeys*/ ctx[6];\n\t\t\tif (dirty & /*value*/ 2) jsonnested_changes.label = \"Array(\" + /*value*/ ctx[1].length + \")\";\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$5($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props;\n\n\tlet { expanded = JSON.stringify(value).length < 1024 } = $$props;\n\tconst filteredKey = new Set([\"length\"]);\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif (\"expanded\" in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\tlet keys;\n\tlet previewKeys;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t$: $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*keys*/ 32) {\n\t\t\t$: $$invalidate(6, previewKeys = keys.filter(key => !filteredKey.has(key)));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\texpanded,\n\t\tkeys,\n\t\tpreviewKeys,\n\t\tgetValue\n\t];\n}\n\nclass JSONArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$5, create_fragment$5, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableArrayNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$6(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey,\n\t\t\t\tgetValue,\n\t\t\t\tisArray: true,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tbracketOpen: \"{\",\n\t\t\t\tbracketClose: \"}\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey(key) {\n\treturn String(key[0]);\n}\n\nfunction getValue(key) {\n\treturn key[1];\n}\n\nfunction instance$6($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props,\n\t\t{ nodeType } = $$props;\n\n\tlet keys = [];\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(5, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif (\"nodeType\" in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t$: {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, entry]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$6, create_fragment$6, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\nclass MapEntry {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n  }\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableMapNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$7(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey: getKey$1,\n\t\t\t\tgetValue: getValue$1,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tcolon: \"\",\n\t\t\t\tbracketOpen: \"{\",\n\t\t\t\tbracketClose: \"}\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey$1(entry) {\n\treturn entry[0];\n}\n\nfunction getValue$1(entry) {\n\treturn entry[1];\n}\n\nfunction instance$7($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props,\n\t\t{ nodeType } = $$props;\n\n\tlet keys = [];\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(5, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif (\"nodeType\" in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t$: {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, new MapEntry(entry[0], entry[1])]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableMapNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$7, create_fragment$7, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONMapEntryNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$8(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tkey: /*isParentExpanded*/ ctx[2]\n\t\t\t\t? String(/*key*/ ctx[0])\n\t\t\t\t: /*value*/ ctx[1].key,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: /*isParentExpanded*/ ctx[2] ? \"Entry \" : \"=> \",\n\t\t\t\tbracketOpen: \"{\",\n\t\t\t\tbracketClose: \"}\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\n\t\t\tif (dirty & /*isParentExpanded, key, value*/ 7) jsonnested_changes.key = /*isParentExpanded*/ ctx[2]\n\t\t\t? String(/*key*/ ctx[0])\n\t\t\t: /*value*/ ctx[1].key;\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.label = /*isParentExpanded*/ ctx[2] ? \"Entry \" : \"=> \";\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$8($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props;\n\n\tlet { expanded = false } = $$props;\n\tconst keys = [\"key\", \"value\"];\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif (\"expanded\" in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\treturn [key, value, isParentExpanded, isParentArray, expanded, keys, getValue];\n}\n\nclass JSONMapEntryNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$8, create_fragment$8, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONValueNode.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$4() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-3bjyvl-style\";\n\tstyle.textContent = \"li.svelte-3bjyvl{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-3bjyvl{padding-left:var(--li-identation)}.String.svelte-3bjyvl{color:var(--string-color)}.Date.svelte-3bjyvl{color:var(--date-color)}.Number.svelte-3bjyvl{color:var(--number-color)}.Boolean.svelte-3bjyvl{color:var(--boolean-color)}.Null.svelte-3bjyvl{color:var(--null-color)}.Undefined.svelte-3bjyvl{color:var(--undefined-color)}.Function.svelte-3bjyvl{color:var(--function-color);font-style:italic}.Symbol.svelte-3bjyvl{color:var(--symbol-color)}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$9(ctx) {\n\tlet li;\n\tlet jsonkey;\n\tlet t0;\n\tlet span;\n\n\tlet t1_value = (/*valueGetter*/ ctx[2]\n\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t: /*value*/ ctx[1]) + \"\";\n\n\tlet t1;\n\tlet span_class_value;\n\tlet current;\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tcolon: /*colon*/ ctx[6],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tattr(span, \"class\", span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"));\n\t\t\tattr(li, \"class\", \"svelte-3bjyvl\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t0);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t1);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonkey_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif ((!current || dirty & /*valueGetter, value*/ 6) && t1_value !== (t1_value = (/*valueGetter*/ ctx[2]\n\t\t\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t\t\t: /*value*/ ctx[1]) + \"\")) set_data(t1, t1_value);\n\n\t\t\tif (!current || dirty & /*nodeType*/ 32 && span_class_value !== (span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"))) {\n\t\t\t\tattr(span, \"class\", span_class_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t}\n\t};\n}\n\nfunction instance$9($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ valueGetter = null } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props,\n\t\t{ nodeType } = $$props;\n\n\tconst { colon } = getContext(contextKey);\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t\tif (\"valueGetter\" in $$props) $$invalidate(2, valueGetter = $$props.valueGetter);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif (\"nodeType\" in $$props) $$invalidate(5, nodeType = $$props.nodeType);\n\t};\n\n\treturn [key, value, valueGetter, isParentExpanded, isParentArray, nodeType, colon];\n}\n\nclass JSONValueNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-3bjyvl-style\")) add_css$4();\n\n\t\tinit(this, options, instance$9, create_fragment$9, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tvalueGetter: 2,\n\t\t\tisParentExpanded: 3,\n\t\t\tisParentArray: 4,\n\t\t\tnodeType: 5\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/ErrorNode.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$5() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1ca3gb2-style\";\n\tstyle.textContent = \"li.svelte-1ca3gb2{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-1ca3gb2{padding-left:var(--li-identation)}.collapse.svelte-1ca3gb2{--li-display:inline;display:inline;font-style:italic}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[8] = list[i];\n\tchild_ctx[10] = i;\n\treturn child_ctx;\n}\n\n// (40:2) {#if isParentExpanded}\nfunction create_if_block_2$1(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (45:2) {#if isParentExpanded}\nfunction create_if_block$2(ctx) {\n\tlet ul;\n\tlet current;\n\tlet if_block = /*expanded*/ ctx[0] && create_if_block_1$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*expanded*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\n// (47:6) {#if expanded}\nfunction create_if_block_1$1(ctx) {\n\tlet jsonnode;\n\tlet t0;\n\tlet li;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: \"message\",\n\t\t\t\tvalue: /*value*/ ctx[2].message\n\t\t\t}\n\t\t});\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: \"stack\",\n\t\t\t\tcolon: \":\",\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tlet each_value = /*stack*/ ctx[5];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t0, anchor);\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*value*/ 4) jsonnode_changes.value = /*value*/ ctx[2].message;\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif (dirty & /*stack*/ 32) {\n\t\t\t\teach_value = /*stack*/ ctx[5];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$2(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$2(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t0);\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\n// (52:12) {#each stack as line, index}\nfunction create_each_block$2(ctx) {\n\tlet span;\n\tlet t_value = /*line*/ ctx[8] + \"\";\n\tlet t;\n\tlet br;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(t_value);\n\t\t\tbr = element(\"br\");\n\t\t\tattr(span, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(span, \"indent\", /*index*/ ctx[10] > 0);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t\tinsert(target, br, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*stack*/ 32 && t_value !== (t_value = /*line*/ ctx[8] + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(br);\n\t\t}\n\t};\n}\n\nfunction create_fragment$a(ctx) {\n\tlet li;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet t2;\n\tlet t3_value = (/*expanded*/ ctx[0] ? \"\" : /*value*/ ctx[2].message) + \"\";\n\tlet t3;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*isParentExpanded*/ ctx[3] && create_if_block_2$1(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[1],\n\t\t\t\tcolon: /*context*/ ctx[6].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tlet if_block1 = /*isParentExpanded*/ ctx[3] && create_if_block$2(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(\"Error: \");\n\t\t\tt3 = text(t3_value);\n\t\t\tt4 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tif (if_block0) if_block0.m(li, null);\n\t\t\tappend(li, t0);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t2);\n\t\t\tappend(span, t3);\n\t\t\tappend(li, t4);\n\t\t\tif (if_block1) if_block1.m(li, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span, \"click\", /*toggleExpand*/ ctx[7]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(li, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 2) jsonkey_changes.key = /*key*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif ((!current || dirty & /*expanded, value*/ 5) && t3_value !== (t3_value = (/*expanded*/ ctx[0] ? \"\" : /*value*/ ctx[2].message) + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block$2(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(li, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$a($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props;\n\n\tlet { expanded = false } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon: \":\" });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(1, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(2, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif (\"expanded\" in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\tlet stack;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 4) {\n\t\t\t$: $$invalidate(5, stack = value.stack.split(\"\\n\"));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 8) {\n\t\t\t$: if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tstack,\n\t\tcontext,\n\t\ttoggleExpand\n\t];\n}\n\nclass ErrorNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1ca3gb2-style\")) add_css$5();\n\n\t\tinit(this, options, instance$a, create_fragment$a, safe_not_equal, {\n\t\t\tkey: 1,\n\t\t\tvalue: 2,\n\t\t\tisParentExpanded: 3,\n\t\t\tisParentArray: 4,\n\t\t\texpanded: 0\n\t\t});\n\t}\n}\n\nfunction objType(obj) {\r\n  const type = Object.prototype.toString.call(obj).slice(8, -1);\r\n  if (type === 'Object') {\r\n    if (typeof obj[Symbol.iterator] === 'function') {\r\n      return 'Iterable';\r\n    }\r\n    return obj.constructor.name;\r\n  }\r\n\r\n  return type;\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNode.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$b(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*componentType*/ ctx[5];\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tnodeType: /*nodeType*/ ctx[4],\n\t\t\t\tvalueGetter: /*valueGetter*/ ctx[6]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*key*/ 1) switch_instance_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) switch_instance_changes.value = /*value*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) switch_instance_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) switch_instance_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*nodeType*/ 16) switch_instance_changes.nodeType = /*nodeType*/ ctx[4];\n\t\t\tif (dirty & /*valueGetter*/ 64) switch_instance_changes.valueGetter = /*valueGetter*/ ctx[6];\n\n\t\t\tif (switch_value !== (switch_value = /*componentType*/ ctx[5])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$b($$self, $$props, $$invalidate) {\n\tlet { key } = $$props,\n\t\t{ value } = $$props,\n\t\t{ isParentExpanded } = $$props,\n\t\t{ isParentArray } = $$props;\n\n\tfunction getComponent(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase \"Object\":\n\t\t\t\treturn JSONObjectNode;\n\t\t\tcase \"Error\":\n\t\t\t\treturn ErrorNode;\n\t\t\tcase \"Array\":\n\t\t\t\treturn JSONArrayNode;\n\t\t\tcase \"Iterable\":\n\t\t\tcase \"Map\":\n\t\t\tcase \"Set\":\n\t\t\t\treturn typeof value.set === \"function\"\n\t\t\t\t? JSONIterableMapNode\n\t\t\t\t: JSONIterableArrayNode;\n\t\t\tcase \"MapEntry\":\n\t\t\t\treturn JSONMapEntryNode;\n\t\t\tdefault:\n\t\t\t\treturn JSONValueNode;\n\t\t}\n\t}\n\n\tfunction getValueGetter(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase \"Object\":\n\t\t\tcase \"Error\":\n\t\t\tcase \"Array\":\n\t\t\tcase \"Iterable\":\n\t\t\tcase \"Map\":\n\t\t\tcase \"Set\":\n\t\t\tcase \"MapEntry\":\n\t\t\tcase \"Number\":\n\t\t\t\treturn undefined;\n\t\t\tcase \"String\":\n\t\t\t\treturn raw => `\"${raw}\"`;\n\t\t\tcase \"Boolean\":\n\t\t\t\treturn raw => raw ? \"true\" : \"false\";\n\t\t\tcase \"Date\":\n\t\t\t\treturn raw => raw.toISOString();\n\t\t\tcase \"Null\":\n\t\t\t\treturn () => \"null\";\n\t\t\tcase \"Undefined\":\n\t\t\t\treturn () => \"undefined\";\n\t\t\tcase \"Function\":\n\t\t\tcase \"Symbol\":\n\t\t\t\treturn raw => raw.toString();\n\t\t\tdefault:\n\t\t\t\treturn () => `<${nodeType}>`;\n\t\t}\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t\tif (\"isParentExpanded\" in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif (\"isParentArray\" in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t};\n\n\tlet nodeType;\n\tlet componentType;\n\tlet valueGetter;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t$: $$invalidate(4, nodeType = objType(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t$: $$invalidate(5, componentType = getComponent(nodeType));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t$: $$invalidate(6, valueGetter = getValueGetter(nodeType));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\tcomponentType,\n\t\tvalueGetter\n\t];\n}\n\nclass JSONNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$b, create_fragment$b, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/Root.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$6() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-773n60-style\";\n\tstyle.textContent = \"ul.svelte-773n60{--string-color:var(--json-tree-string-color, #cb3f41);--symbol-color:var(--json-tree-symbol-color, #cb3f41);--boolean-color:var(--json-tree-boolean-color, #112aa7);--function-color:var(--json-tree-function-color, #112aa7);--number-color:var(--json-tree-number-color, #3029cf);--label-color:var(--json-tree-label-color, #871d8f);--arrow-color:var(--json-tree-arrow-color, #727272);--null-color:var(--json-tree-null-color, #8d8d8d);--undefined-color:var(--json-tree-undefined-color, #8d8d8d);--date-color:var(--json-tree-date-color, #8d8d8d);--li-identation:var(--json-tree-li-indentation, 1em);--li-line-height:var(--json-tree-li-line-height, 1.3);--li-colon-space:0.3em;font-size:var(--json-tree-font-size, 12px);font-family:var(--json-tree-font-family, 'Courier New', Courier, monospace)}ul.svelte-773n60 li{line-height:var(--li-line-height);display:var(--li-display, list-item);list-style:none}ul.svelte-773n60,ul.svelte-773n60 ul{padding:0;margin:0}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$c(ctx) {\n\tlet ul;\n\tlet jsonnode;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: true,\n\t\t\t\tisParentArray: false\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tattr(ul, \"class\", \"svelte-773n60\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tmount_component(jsonnode, ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnode_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) jsonnode_changes.value = /*value*/ ctx[1];\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(jsonnode);\n\t\t}\n\t};\n}\n\nfunction instance$c($$self, $$props, $$invalidate) {\n\tsetContext(contextKey, {});\n\tlet { key = \"\" } = $$props, { value } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif (\"key\" in $$props) $$invalidate(0, key = $$props.key);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [key, value];\n}\n\nclass Root extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-773n60-style\")) add_css$6();\n\t\tinit(this, options, instance$c, create_fragment$c, safe_not_equal, { key: 0, value: 1 });\n\t}\n}\n\n/* src/client/debug/main/ClientSwitcher.svelte generated by Svelte v3.24.0 */\n\nconst { document: document_1 } = globals;\n\nfunction add_css$7() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-jvfq3i-style\";\n\tstyle.textContent = \".svelte-jvfq3i{box-sizing:border-box}section.switcher.svelte-jvfq3i{position:sticky;bottom:0;transform:translateY(20px);margin:40px -20px 0;border-top:1px solid #999;padding:20px;background:#fff}label.svelte-jvfq3i{display:flex;align-items:baseline;gap:5px;font-weight:bold}select.svelte-jvfq3i{min-width:140px}\";\n\tappend(document_1.head, style);\n}\n\nfunction get_each_context$3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\tchild_ctx[9] = i;\n\treturn child_ctx;\n}\n\n// (42:0) {#if debuggableClients.length > 1}\nfunction create_if_block$3(ctx) {\n\tlet section;\n\tlet label;\n\tlet t;\n\tlet select;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*debuggableClients*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt = text(\"Client\\n      \\n      \");\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(select, \"id\", selectId);\n\t\t\tattr(select, \"class\", \"svelte-jvfq3i\");\n\t\t\tif (/*selected*/ ctx[2] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[4].call(select));\n\t\t\tattr(label, \"class\", \"svelte-jvfq3i\");\n\t\t\tattr(section, \"class\", \"switcher svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, label);\n\t\t\tappend(label, t);\n\t\t\tappend(label, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*handleSelection*/ ctx[3]),\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[4])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients, JSON*/ 2) {\n\t\t\t\teach_value = /*debuggableClients*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$3(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$3(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selected*/ 4) {\n\t\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (48:8) {#each debuggableClients as clientOption, index}\nfunction create_each_block$3(ctx) {\n\tlet option;\n\tlet t0;\n\tlet t1;\n\tlet t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\";\n\tlet t2;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\";\n\tlet t4;\n\tlet t5;\n\tlet t6_value = /*clientOption*/ ctx[7].game.name + \"\";\n\tlet t6;\n\tlet t7;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt0 = text(/*index*/ ctx[9]);\n\t\t\tt1 = text(\" —\\n            playerID: \");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = text(\",\\n            matchID: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tt5 = text(\"\\n            (\");\n\t\t\tt6 = text(t6_value);\n\t\t\tt7 = text(\")\\n          \");\n\t\t\toption.__value = option_value_value = /*index*/ ctx[9];\n\t\t\toption.value = option.__value;\n\t\t\tattr(option, \"class\", \"svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t0);\n\t\t\tappend(option, t1);\n\t\t\tappend(option, t2);\n\t\t\tappend(option, t3);\n\t\t\tappend(option, t4);\n\t\t\tappend(option, t5);\n\t\t\tappend(option, t6);\n\t\t\tappend(option, t7);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t2_value !== (t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\")) set_data(t2, t2_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t4_value !== (t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\")) set_data(t4, t4_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t6_value !== (t6_value = /*clientOption*/ ctx[7].game.name + \"\")) set_data(t6, t6_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\nfunction create_fragment$d(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*debuggableClients*/ ctx[1].length > 1 && create_if_block$3(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*debuggableClients*/ ctx[1].length > 1) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$3(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nconst selectId = \"bgio-debug-select-client\";\n\nfunction instance$d($$self, $$props, $$invalidate) {\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(6, $clientManager = $$value)), clientManager);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst handleSelection = e => {\n\t\t// Request to switch to the selected client.\n\t\tconst selectedClient = debuggableClients[e.target.value];\n\n\t\tclientManager.switchToClient(selectedClient);\n\n\t\t// Maintain focus on the client select menu after switching clients.\n\t\t// Necessary because switching clients will usually trigger a mount/unmount.\n\t\tconst select = document.getElementById(selectId);\n\n\t\tif (select) select.focus();\n\t};\n\n\tfunction select_change_handler() {\n\t\tselected = select_value(this);\n\t\t((($$invalidate(2, selected), $$invalidate(1, debuggableClients)), $$invalidate(5, client)), $$invalidate(6, $clientManager));\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"clientManager\" in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\tlet client;\n\tlet debuggableClients;\n\tlet selected;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 64) {\n\t\t\t$: $$invalidate(5, { client, debuggableClients } = $clientManager, client, ($$invalidate(1, debuggableClients), $$invalidate(6, $clientManager)));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*debuggableClients, client*/ 34) {\n\t\t\t$: $$invalidate(2, selected = debuggableClients.indexOf(client));\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tdebuggableClients,\n\t\tselected,\n\t\thandleSelection,\n\t\tselect_change_handler\n\t];\n}\n\nclass ClientSwitcher extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document_1.getElementById(\"svelte-jvfq3i-style\")) add_css$7();\n\t\tinit(this, options, instance$d, create_fragment$d, safe_not_equal, { clientManager: 0 });\n\t}\n}\n\n/* src/client/debug/main/Hotkey.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$8() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1vfj1mn-style\";\n\tstyle.textContent = \".key.svelte-1vfj1mn.svelte-1vfj1mn{display:flex;flex-direction:row;align-items:center}button.svelte-1vfj1mn.svelte-1vfj1mn{cursor:pointer;min-width:10px;padding-left:5px;padding-right:5px;height:20px;line-height:20px;text-align:center;border:1px solid #ccc;box-shadow:1px 1px 1px #888;background:#eee;color:#444}button.svelte-1vfj1mn.svelte-1vfj1mn:hover{background:#ddd}.key.active.svelte-1vfj1mn button.svelte-1vfj1mn{background:#ddd;border:1px solid #999;box-shadow:none}label.svelte-1vfj1mn.svelte-1vfj1mn{margin-left:10px}\";\n\tappend(document.head, style);\n}\n\n// (78:2) {#if label}\nfunction create_if_block$4(ctx) {\n\tlet label_1;\n\tlet t0;\n\tlet t1;\n\tlet span;\n\tlet t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tt0 = text(/*label*/ ctx[1]);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(span, \"class\", \"screen-reader-only\");\n\t\t\tattr(label_1, \"for\", /*id*/ ctx[5]);\n\t\t\tattr(label_1, \"class\", \"svelte-1vfj1mn\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label_1, anchor);\n\t\t\tappend(label_1, t0);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span);\n\t\t\tappend(span, t2);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*label*/ 2) set_data(t0, /*label*/ ctx[1]);\n\t\t\tif (dirty & /*value*/ 1 && t2_value !== (t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment$e(ctx) {\n\tlet div;\n\tlet button;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block = /*label*/ ctx[1] && create_if_block$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(/*value*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(button, \"id\", /*id*/ ctx[5]);\n\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\tattr(button, \"class\", \"svelte-1vfj1mn\");\n\t\t\tattr(div, \"class\", \"key svelte-1vfj1mn\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, button);\n\t\t\tappend(button, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block) if_block.m(div, null);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(window, \"keydown\", /*Keypress*/ ctx[7]),\n\t\t\t\t\tlisten(button, \"click\", /*Activate*/ ctx[6])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*value*/ 1) set_data(t0, /*value*/ ctx[0]);\n\n\t\t\tif (dirty & /*disable*/ 4) {\n\t\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\t}\n\n\t\t\tif (/*label*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$e($$self, $$props, $$invalidate) {\n\tlet $disableHotkeys;\n\tlet { value } = $$props;\n\tlet { onPress = null } = $$props;\n\tlet { label = null } = $$props;\n\tlet { disable = false } = $$props;\n\tconst { disableHotkeys } = getContext(\"hotkeys\");\n\tcomponent_subscribe($$self, disableHotkeys, value => $$invalidate(9, $disableHotkeys = value));\n\tlet active = false;\n\tlet id = `key-${value}`;\n\n\tfunction Deactivate() {\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Activate() {\n\t\t$$invalidate(3, active = true);\n\t\tsetTimeout(Deactivate, 200);\n\n\t\tif (onPress) {\n\t\t\tsetTimeout(onPress, 1);\n\t\t}\n\t}\n\n\tfunction Keypress(e) {\n\t\tif (!$disableHotkeys && !disable && !e.ctrlKey && !e.metaKey && e.key == value) {\n\t\t\te.preventDefault();\n\t\t\tActivate();\n\t\t}\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"value\" in $$props) $$invalidate(0, value = $$props.value);\n\t\tif (\"onPress\" in $$props) $$invalidate(8, onPress = $$props.onPress);\n\t\tif (\"label\" in $$props) $$invalidate(1, label = $$props.label);\n\t\tif (\"disable\" in $$props) $$invalidate(2, disable = $$props.disable);\n\t};\n\n\treturn [value, label, disable, active, disableHotkeys, id, Activate, Keypress, onPress];\n}\n\nclass Hotkey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1vfj1mn-style\")) add_css$8();\n\n\t\tinit(this, options, instance$e, create_fragment$e, safe_not_equal, {\n\t\t\tvalue: 0,\n\t\t\tonPress: 8,\n\t\t\tlabel: 1,\n\t\t\tdisable: 2\n\t\t});\n\t}\n}\n\n/* src/client/debug/main/InteractiveFunction.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$9() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1mppqmp-style\";\n\tstyle.textContent = \".move.svelte-1mppqmp{display:flex;flex-direction:row;cursor:pointer;margin-left:10px;color:#666}.move.svelte-1mppqmp:hover{color:#333}.move.active.svelte-1mppqmp{color:#111;font-weight:bold}.arg-field.svelte-1mppqmp{outline:none;font-family:monospace}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$f(ctx) {\n\tlet div;\n\tlet span0;\n\tlet t0;\n\tlet t1;\n\tlet span1;\n\tlet t3;\n\tlet span2;\n\tlet t4;\n\tlet span3;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt0 = text(/*name*/ ctx[2]);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan1.textContent = \"(\";\n\t\t\tt3 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt4 = space();\n\t\t\tspan3 = element(\"span\");\n\t\t\tspan3.textContent = \")\";\n\t\t\tattr(span2, \"class\", \"arg-field svelte-1mppqmp\");\n\t\t\tattr(span2, \"contenteditable\", \"\");\n\t\t\tattr(div, \"class\", \"move svelte-1mppqmp\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, span0);\n\t\t\tappend(span0, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, span1);\n\t\t\tappend(div, t3);\n\t\t\tappend(div, span2);\n\t\t\t/*span2_binding*/ ctx[6](span2);\n\t\t\tappend(div, t4);\n\t\t\tappend(div, span3);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(span2, \"focus\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"blur\", function () {\n\t\t\t\t\t\tif (is_function(/*Deactivate*/ ctx[1])) /*Deactivate*/ ctx[1].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"keypress\", stop_propagation(keypress_handler)),\n\t\t\t\t\tlisten(span2, \"keydown\", /*OnKeyDown*/ ctx[5]),\n\t\t\t\t\tlisten(div, \"click\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t})\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, [dirty]) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*name*/ 4) set_data(t0, /*name*/ ctx[2]);\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\t/*span2_binding*/ ctx[6](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nconst keypress_handler = () => {\n\t\n};\n\nfunction instance$f($$self, $$props, $$invalidate) {\n\tlet { Activate } = $$props;\n\tlet { Deactivate } = $$props;\n\tlet { name } = $$props;\n\tlet { active } = $$props;\n\tlet span;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction Submit() {\n\t\ttry {\n\t\t\tconst value = span.innerText;\n\t\t\tlet argArray = new Function(`return [${value}]`)();\n\t\t\tdispatch(\"submit\", argArray);\n\t\t} catch(error) {\n\t\t\tdispatch(\"error\", error);\n\t\t}\n\n\t\t$$invalidate(4, span.innerText = \"\", span);\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\tif (e.key == \"Enter\") {\n\t\t\te.preventDefault();\n\t\t\tSubmit();\n\t\t}\n\n\t\tif (e.key == \"Escape\") {\n\t\t\te.preventDefault();\n\t\t\tDeactivate();\n\t\t}\n\t}\n\n\tafterUpdate(() => {\n\t\tif (active) {\n\t\t\tspan.focus();\n\t\t} else {\n\t\t\tspan.blur();\n\t\t}\n\t});\n\n\tfunction span2_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tspan = $$value;\n\t\t\t$$invalidate(4, span);\n\t\t});\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"Activate\" in $$props) $$invalidate(0, Activate = $$props.Activate);\n\t\tif (\"Deactivate\" in $$props) $$invalidate(1, Deactivate = $$props.Deactivate);\n\t\tif (\"name\" in $$props) $$invalidate(2, name = $$props.name);\n\t\tif (\"active\" in $$props) $$invalidate(3, active = $$props.active);\n\t};\n\n\treturn [Activate, Deactivate, name, active, span, OnKeyDown, span2_binding];\n}\n\nclass InteractiveFunction extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1mppqmp-style\")) add_css$9();\n\n\t\tinit(this, options, instance$f, create_fragment$f, safe_not_equal, {\n\t\t\tActivate: 0,\n\t\t\tDeactivate: 1,\n\t\t\tname: 2,\n\t\t\tactive: 3\n\t\t});\n\t}\n}\n\n/* src/client/debug/main/Move.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$a() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-smqssc-style\";\n\tstyle.textContent = \".move-error.svelte-smqssc{color:#a00;font-weight:bold}.wrapper.svelte-smqssc{display:flex;flex-direction:row;align-items:center}\";\n\tappend(document.head, style);\n}\n\n// (65:2) {#if error}\nfunction create_if_block$5(ctx) {\n\tlet span;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(/*error*/ ctx[2]);\n\t\t\tattr(span, \"class\", \"move-error svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*error*/ 4) set_data(t, /*error*/ ctx[2]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$g(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet hotkey;\n\tlet t0;\n\tlet interactivefunction;\n\tlet t1;\n\tlet current;\n\n\thotkey = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: /*shortcut*/ ctx[0],\n\t\t\t\tonPress: /*Activate*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction = new InteractiveFunction({\n\t\t\tprops: {\n\t\t\t\tActivate: /*Activate*/ ctx[4],\n\t\t\t\tDeactivate: /*Deactivate*/ ctx[5],\n\t\t\t\tname: /*name*/ ctx[1],\n\t\t\t\tactive: /*active*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction.$on(\"submit\", /*Submit*/ ctx[6]);\n\tinteractivefunction.$on(\"error\", /*Error*/ ctx[7]);\n\tlet if_block = /*error*/ ctx[2] && create_if_block$5(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tcreate_component(hotkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(interactivefunction.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"wrapper svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tmount_component(hotkey, div0, null);\n\t\t\tappend(div0, t0);\n\t\t\tmount_component(interactivefunction, div0, null);\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey_changes = {};\n\t\t\tif (dirty & /*shortcut*/ 1) hotkey_changes.value = /*shortcut*/ ctx[0];\n\t\t\thotkey.$set(hotkey_changes);\n\t\t\tconst interactivefunction_changes = {};\n\t\t\tif (dirty & /*name*/ 2) interactivefunction_changes.name = /*name*/ ctx[1];\n\t\t\tif (dirty & /*active*/ 8) interactivefunction_changes.active = /*active*/ ctx[3];\n\t\t\tinteractivefunction.$set(interactivefunction_changes);\n\n\t\t\tif (/*error*/ ctx[2]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$5(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey.$$.fragment, local);\n\t\t\ttransition_in(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey.$$.fragment, local);\n\t\t\ttransition_out(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tdestroy_component(hotkey);\n\t\t\tdestroy_component(interactivefunction);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$g($$self, $$props, $$invalidate) {\n\tlet { shortcut } = $$props;\n\tlet { name } = $$props;\n\tlet { fn } = $$props;\n\tconst { disableHotkeys } = getContext(\"hotkeys\");\n\tlet error$1 = \"\";\n\tlet active = false;\n\n\tfunction Activate() {\n\t\tdisableHotkeys.set(true);\n\t\t$$invalidate(3, active = true);\n\t}\n\n\tfunction Deactivate() {\n\t\tdisableHotkeys.set(false);\n\t\t$$invalidate(2, error$1 = \"\");\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Submit(e) {\n\t\t$$invalidate(2, error$1 = \"\");\n\t\tDeactivate();\n\t\tfn.apply(this, e.detail);\n\t}\n\n\tfunction Error(e) {\n\t\t$$invalidate(2, error$1 = e.detail);\n\t\terror(e.detail);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"shortcut\" in $$props) $$invalidate(0, shortcut = $$props.shortcut);\n\t\tif (\"name\" in $$props) $$invalidate(1, name = $$props.name);\n\t\tif (\"fn\" in $$props) $$invalidate(8, fn = $$props.fn);\n\t};\n\n\treturn [shortcut, name, error$1, active, Activate, Deactivate, Submit, Error, fn];\n}\n\nclass Move extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-smqssc-style\")) add_css$a();\n\t\tinit(this, options, instance$g, create_fragment$g, safe_not_equal, { shortcut: 0, name: 1, fn: 8 });\n\t}\n}\n\n/* src/client/debug/main/Controls.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$b() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-c3lavh-style\";\n\tstyle.textContent = \"ul.svelte-c3lavh{padding-left:0}li.svelte-c3lavh{list-style:none;margin:none;margin-bottom:5px}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$h(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t0;\n\tlet li1;\n\tlet hotkey1;\n\tlet t1;\n\tlet li2;\n\tlet hotkey2;\n\tlet t2;\n\tlet li3;\n\tlet hotkey3;\n\tlet current;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*client*/ ctx[0].reset,\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Save*/ ctx[1],\n\t\t\t\tlabel: \"save\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Restore*/ ctx[2],\n\t\t\t\tlabel: \"restore\"\n\t\t\t}\n\t\t});\n\n\thotkey3 = new Hotkey({\n\t\t\tprops: { value: \".\", disable: true, label: \"hide\" }\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli3 = element(\"li\");\n\t\t\tcreate_component(hotkey3.$$.fragment);\n\t\t\tattr(li0, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li1, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li2, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li3, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(ul, \"id\", \"debug-controls\");\n\t\t\tattr(ul, \"class\", \"controls svelte-c3lavh\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t0);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t1);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li3);\n\t\t\tmount_component(hotkey3, li3, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) hotkey0_changes.onPress = /*client*/ ctx[0].reset;\n\t\t\thotkey0.$set(hotkey0_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(hotkey3.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(hotkey3.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tdestroy_component(hotkey3);\n\t\t}\n\t};\n}\n\nfunction instance$h($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\n\tfunction Save() {\n\t\t// get state to persist and overwrite deltalog, _undo, and _redo\n\t\tconst state = client.getState();\n\n\t\tconst json = stringify({\n\t\t\t...state,\n\t\t\t_undo: [],\n\t\t\t_redo: [],\n\t\t\tdeltalog: []\n\t\t});\n\n\t\twindow.localStorage.setItem(\"gamestate\", json);\n\t\twindow.localStorage.setItem(\"initialState\", stringify(client.initialState));\n\t}\n\n\tfunction Restore() {\n\t\tconst gamestateJSON = window.localStorage.getItem(\"gamestate\");\n\t\tconst initialStateJSON = window.localStorage.getItem(\"initialState\");\n\n\t\tif (gamestateJSON !== null && initialStateJSON !== null) {\n\t\t\tconst gamestate = parse(gamestateJSON);\n\t\t\tconst initialState = parse(initialStateJSON);\n\t\t\tclient.store.dispatch(sync({ state: gamestate, initialState }));\n\t\t}\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"client\" in $$props) $$invalidate(0, client = $$props.client);\n\t};\n\n\treturn [client, Save, Restore];\n}\n\nclass Controls extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-c3lavh-style\")) add_css$b();\n\t\tinit(this, options, instance$h, create_fragment$h, safe_not_equal, { client: 0 });\n\t}\n}\n\n/* src/client/debug/main/PlayerInfo.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$c() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-19aan9p-style\";\n\tstyle.textContent = \".player-box.svelte-19aan9p{display:flex;flex-direction:row}.player.svelte-19aan9p{cursor:pointer;text-align:center;width:30px;height:30px;line-height:30px;background:#eee;border:3px solid #fefefe;box-sizing:content-box;padding:0}.player.current.svelte-19aan9p{background:#555;color:#eee;font-weight:bold}.player.active.svelte-19aan9p{border:3px solid #ff7f50}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (59:2) {#each players as player}\nfunction create_each_block$4(ctx) {\n\tlet button;\n\tlet t0_value = /*player*/ ctx[7] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet button_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[5](/*player*/ ctx[7], ...args);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"player svelte-19aan9p\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]));\n\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*players*/ 4 && t0_value !== (t0_value = /*player*/ ctx[7] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*players*/ 4 && button_aria_label_value !== (button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, ctx*/ 5) {\n\t\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, playerID*/ 6) {\n\t\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$i(ctx) {\n\tlet div;\n\tlet each_value = /*players*/ ctx[2];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"player-box svelte-19aan9p\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*playerLabel, players, ctx, playerID, OnClick*/ 31) {\n\t\t\t\teach_value = /*players*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$4(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$4(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$i($$self, $$props, $$invalidate) {\n\tlet { ctx } = $$props;\n\tlet { playerID } = $$props;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction OnClick(player) {\n\t\tif (player == playerID) {\n\t\t\tdispatch(\"change\", { playerID: null });\n\t\t} else {\n\t\t\tdispatch(\"change\", { playerID: player });\n\t\t}\n\t}\n\n\tfunction playerLabel(player) {\n\t\tconst properties = [];\n\t\tif (player == ctx.currentPlayer) properties.push(\"current\");\n\t\tif (player == playerID) properties.push(\"active\");\n\t\tlet label = `Player ${player}`;\n\t\tif (properties.length) label += ` (${properties.join(\", \")})`;\n\t\treturn label;\n\t}\n\n\tlet players;\n\tconst click_handler = player => OnClick(player);\n\n\t$$self.$set = $$props => {\n\t\tif (\"ctx\" in $$props) $$invalidate(0, ctx = $$props.ctx);\n\t\tif (\"playerID\" in $$props) $$invalidate(1, playerID = $$props.playerID);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*ctx*/ 1) {\n\t\t\t$: $$invalidate(2, players = ctx\n\t\t\t? [...Array(ctx.numPlayers).keys()].map(i => i.toString())\n\t\t\t: []);\n\t\t}\n\t};\n\n\treturn [ctx, playerID, players, OnClick, playerLabel, click_handler];\n}\n\nclass PlayerInfo extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-19aan9p-style\")) add_css$c();\n\t\tinit(this, options, instance$i, create_fragment$i, safe_not_equal, { ctx: 0, playerID: 1 });\n\t}\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nfunction AssignShortcuts(moveNames, blacklist) {\n  var shortcuts = {};\n  var taken = {};\n\n  var _iterator = _createForOfIteratorHelper(blacklist),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var c = _step.value;\n      taken[c] = true;\n    } // Try assigning the first char of each move as the shortcut.\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var t = taken;\n  var canUseFirstChar = true;\n\n  for (var name in moveNames) {\n    var shortcut = name[0];\n\n    if (t[shortcut]) {\n      canUseFirstChar = false;\n      break;\n    }\n\n    t[shortcut] = true;\n    shortcuts[name] = shortcut;\n  }\n\n  if (canUseFirstChar) {\n    return shortcuts;\n  } // If those aren't unique, use a-z.\n\n\n  t = taken;\n  var next = 97;\n  shortcuts = {};\n\n  for (var _name in moveNames) {\n    var _shortcut = String.fromCharCode(next);\n\n    while (t[_shortcut]) {\n      next++;\n      _shortcut = String.fromCharCode(next);\n    }\n\n    t[_shortcut] = true;\n    shortcuts[_name] = _shortcut;\n  }\n\n  return shortcuts;\n}\n\n/* src/client/debug/main/Main.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$d() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-146sq5f-style\";\n\tstyle.textContent = \".tree.svelte-146sq5f{--json-tree-font-family:monospace;--json-tree-font-size:14px;--json-tree-null-color:#757575}.label.svelte-146sq5f{margin-bottom:0;text-transform:none}h3.svelte-146sq5f{text-transform:uppercase}ul.svelte-146sq5f{padding-left:0}li.svelte-146sq5f{list-style:none;margin:0;margin-bottom:5px}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$5(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[9] = list[i][0];\n\tchild_ctx[10] = list[i][1];\n\treturn child_ctx;\n}\n\n// (77:4) {#each Object.entries(moves) as [name, fn]}\nfunction create_each_block$5(ctx) {\n\tlet li;\n\tlet move;\n\tlet t;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tshortcut: /*shortcuts*/ ctx[7][/*name*/ ctx[9]],\n\t\t\t\tfn: /*fn*/ ctx[10],\n\t\t\t\tname: /*name*/ ctx[9]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tt = space();\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tappend(li, t);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*moves*/ 8) move_changes.shortcut = /*shortcuts*/ ctx[7][/*name*/ ctx[9]];\n\t\t\tif (dirty & /*moves*/ 8) move_changes.fn = /*fn*/ ctx[10];\n\t\t\tif (dirty & /*moves*/ 8) move_changes.name = /*name*/ ctx[9];\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (89:2) {#if ctx.activePlayers && events.endStage}\nfunction create_if_block_2$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endStage\",\n\t\t\t\tshortcut: 7,\n\t\t\t\tfn: /*events*/ ctx[4].endStage\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 16) move_changes.fn = /*events*/ ctx[4].endStage;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (94:2) {#if events.endTurn}\nfunction create_if_block_1$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endTurn\",\n\t\t\t\tshortcut: 8,\n\t\t\t\tfn: /*events*/ ctx[4].endTurn\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 16) move_changes.fn = /*events*/ ctx[4].endTurn;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (99:2) {#if ctx.phase && events.endPhase}\nfunction create_if_block$6(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endPhase\",\n\t\t\t\tshortcut: 9,\n\t\t\t\tfn: /*events*/ ctx[4].endPhase\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 16) move_changes.fn = /*events*/ ctx[4].endPhase;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\nfunction create_fragment$j(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet controls;\n\tlet t2;\n\tlet section1;\n\tlet h31;\n\tlet t4;\n\tlet playerinfo;\n\tlet t5;\n\tlet section2;\n\tlet h32;\n\tlet t7;\n\tlet ul0;\n\tlet t8;\n\tlet section3;\n\tlet h33;\n\tlet t10;\n\tlet ul1;\n\tlet t11;\n\tlet t12;\n\tlet t13;\n\tlet section4;\n\tlet h34;\n\tlet t15;\n\tlet jsontree0;\n\tlet t16;\n\tlet section5;\n\tlet h35;\n\tlet t18;\n\tlet jsontree1;\n\tlet t19;\n\tlet clientswitcher;\n\tlet current;\n\tcontrols = new Controls({ props: { client: /*client*/ ctx[0] } });\n\n\tplayerinfo = new PlayerInfo({\n\t\t\tprops: {\n\t\t\t\tctx: /*ctx*/ ctx[5],\n\t\t\t\tplayerID: /*playerID*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tplayerinfo.$on(\"change\", /*change_handler*/ ctx[8]);\n\tlet each_value = Object.entries(/*moves*/ ctx[3]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block0 = /*ctx*/ ctx[5].activePlayers && /*events*/ ctx[4].endStage && create_if_block_2$2(ctx);\n\tlet if_block1 = /*events*/ ctx[4].endTurn && create_if_block_1$2(ctx);\n\tlet if_block2 = /*ctx*/ ctx[5].phase && /*events*/ ctx[4].endPhase && create_if_block$6(ctx);\n\tjsontree0 = new Root({ props: { value: /*G*/ ctx[6] } });\n\n\tjsontree1 = new Root({\n\t\t\tprops: { value: SanitizeCtx(/*ctx*/ ctx[5]) }\n\t\t});\n\n\tclientswitcher = new ClientSwitcher({\n\t\t\tprops: { clientManager: /*clientManager*/ ctx[1] }\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tcreate_component(controls.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Players\";\n\t\t\tt4 = space();\n\t\t\tcreate_component(playerinfo.$$.fragment);\n\t\t\tt5 = space();\n\t\t\tsection2 = element(\"section\");\n\t\t\th32 = element(\"h3\");\n\t\t\th32.textContent = \"Moves\";\n\t\t\tt7 = space();\n\t\t\tul0 = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt8 = space();\n\t\t\tsection3 = element(\"section\");\n\t\t\th33 = element(\"h3\");\n\t\t\th33.textContent = \"Events\";\n\t\t\tt10 = space();\n\t\t\tul1 = element(\"ul\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt11 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt12 = space();\n\t\t\tif (if_block2) if_block2.c();\n\t\t\tt13 = space();\n\t\t\tsection4 = element(\"section\");\n\t\t\th34 = element(\"h3\");\n\t\t\th34.textContent = \"G\";\n\t\t\tt15 = space();\n\t\t\tcreate_component(jsontree0.$$.fragment);\n\t\t\tt16 = space();\n\t\t\tsection5 = element(\"section\");\n\t\t\th35 = element(\"h3\");\n\t\t\th35.textContent = \"ctx\";\n\t\t\tt18 = space();\n\t\t\tcreate_component(jsontree1.$$.fragment);\n\t\t\tt19 = space();\n\t\t\tcreate_component(clientswitcher.$$.fragment);\n\t\t\tattr(h30, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h31, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h32, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul0, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h33, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul1, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h34, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section4, \"class\", \"tree svelte-146sq5f\");\n\t\t\tattr(h35, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section5, \"class\", \"tree svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tmount_component(controls, section0, null);\n\t\t\tinsert(target, t2, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t4);\n\t\t\tmount_component(playerinfo, section1, null);\n\t\t\tinsert(target, t5, anchor);\n\t\t\tinsert(target, section2, anchor);\n\t\t\tappend(section2, h32);\n\t\t\tappend(section2, t7);\n\t\t\tappend(section2, ul0);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t}\n\n\t\t\tinsert(target, t8, anchor);\n\t\t\tinsert(target, section3, anchor);\n\t\t\tappend(section3, h33);\n\t\t\tappend(section3, t10);\n\t\t\tappend(section3, ul1);\n\t\t\tif (if_block0) if_block0.m(ul1, null);\n\t\t\tappend(ul1, t11);\n\t\t\tif (if_block1) if_block1.m(ul1, null);\n\t\t\tappend(ul1, t12);\n\t\t\tif (if_block2) if_block2.m(ul1, null);\n\t\t\tinsert(target, t13, anchor);\n\t\t\tinsert(target, section4, anchor);\n\t\t\tappend(section4, h34);\n\t\t\tappend(section4, t15);\n\t\t\tmount_component(jsontree0, section4, null);\n\t\t\tinsert(target, t16, anchor);\n\t\t\tinsert(target, section5, anchor);\n\t\t\tappend(section5, h35);\n\t\t\tappend(section5, t18);\n\t\t\tmount_component(jsontree1, section5, null);\n\t\t\tinsert(target, t19, anchor);\n\t\t\tmount_component(clientswitcher, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst controls_changes = {};\n\t\t\tif (dirty & /*client*/ 1) controls_changes.client = /*client*/ ctx[0];\n\t\t\tcontrols.$set(controls_changes);\n\t\t\tconst playerinfo_changes = {};\n\t\t\tif (dirty & /*ctx*/ 32) playerinfo_changes.ctx = /*ctx*/ ctx[5];\n\t\t\tif (dirty & /*playerID*/ 4) playerinfo_changes.playerID = /*playerID*/ ctx[2];\n\t\t\tplayerinfo.$set(playerinfo_changes);\n\n\t\t\tif (dirty & /*shortcuts, Object, moves*/ 136) {\n\t\t\t\teach_value = Object.entries(/*moves*/ ctx[3]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$5(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$5(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[5].activePlayers && /*events*/ ctx[4].endStage) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 48) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$2(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(ul1, t11);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*events*/ ctx[4].endTurn) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*events*/ 16) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$2(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(ul1, t12);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[5].phase && /*events*/ ctx[4].endPhase) {\n\t\t\t\tif (if_block2) {\n\t\t\t\t\tif_block2.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 48) {\n\t\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block2 = create_if_block$6(ctx);\n\t\t\t\t\tif_block2.c();\n\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\tif_block2.m(ul1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block2) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block2, 1, 1, () => {\n\t\t\t\t\tif_block2 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsontree0_changes = {};\n\t\t\tif (dirty & /*G*/ 64) jsontree0_changes.value = /*G*/ ctx[6];\n\t\t\tjsontree0.$set(jsontree0_changes);\n\t\t\tconst jsontree1_changes = {};\n\t\t\tif (dirty & /*ctx*/ 32) jsontree1_changes.value = SanitizeCtx(/*ctx*/ ctx[5]);\n\t\t\tjsontree1.$set(jsontree1_changes);\n\t\t\tconst clientswitcher_changes = {};\n\t\t\tif (dirty & /*clientManager*/ 2) clientswitcher_changes.clientManager = /*clientManager*/ ctx[1];\n\t\t\tclientswitcher.$set(clientswitcher_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(controls.$$.fragment, local);\n\t\t\ttransition_in(playerinfo.$$.fragment, local);\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\ttransition_in(if_block2);\n\t\t\ttransition_in(jsontree0.$$.fragment, local);\n\t\t\ttransition_in(jsontree1.$$.fragment, local);\n\t\t\ttransition_in(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(controls.$$.fragment, local);\n\t\t\ttransition_out(playerinfo.$$.fragment, local);\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\ttransition_out(if_block2);\n\t\t\ttransition_out(jsontree0.$$.fragment, local);\n\t\t\ttransition_out(jsontree1.$$.fragment, local);\n\t\t\ttransition_out(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(controls);\n\t\t\tif (detaching) detach(t2);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_component(playerinfo);\n\t\t\tif (detaching) detach(t5);\n\t\t\tif (detaching) detach(section2);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (detaching) detach(section3);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tif (if_block2) if_block2.d();\n\t\t\tif (detaching) detach(t13);\n\t\t\tif (detaching) detach(section4);\n\t\t\tdestroy_component(jsontree0);\n\t\t\tif (detaching) detach(t16);\n\t\t\tif (detaching) detach(section5);\n\t\t\tdestroy_component(jsontree1);\n\t\t\tif (detaching) detach(t19);\n\t\t\tdestroy_component(clientswitcher, detaching);\n\t\t}\n\t};\n}\n\nfunction SanitizeCtx(ctx) {\n\tlet r = {};\n\n\tfor (const key in ctx) {\n\t\tif (!key.startsWith(\"_\")) {\n\t\t\tr[key] = ctx[key];\n\t\t}\n\t}\n\n\treturn r;\n}\n\nfunction instance$j($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tconst shortcuts = AssignShortcuts(client.moves, \"mlia\");\n\tlet { playerID, moves, events } = client;\n\tlet ctx = {};\n\tlet G = {};\n\n\tclient.subscribe(state => {\n\t\tif (state) $$invalidate(6, { G, ctx } = state, G, $$invalidate(5, ctx));\n\t\t$$invalidate(2, { playerID, moves, events } = client, playerID, $$invalidate(3, moves), $$invalidate(4, events));\n\t});\n\n\tconst change_handler = e => clientManager.switchPlayerID(e.detail.playerID);\n\n\t$$self.$set = $$props => {\n\t\tif (\"client\" in $$props) $$invalidate(0, client = $$props.client);\n\t\tif (\"clientManager\" in $$props) $$invalidate(1, clientManager = $$props.clientManager);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tclientManager,\n\t\tplayerID,\n\t\tmoves,\n\t\tevents,\n\t\tctx,\n\t\tG,\n\t\tshortcuts,\n\t\tchange_handler\n\t];\n}\n\nclass Main extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-146sq5f-style\")) add_css$d();\n\t\tinit(this, options, instance$j, create_fragment$j, safe_not_equal, { client: 0, clientManager: 1 });\n\t}\n}\n\n/* src/client/debug/info/Item.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$e() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-13qih23-style\";\n\tstyle.textContent = \".item.svelte-13qih23.svelte-13qih23{padding:10px}.item.svelte-13qih23.svelte-13qih23:not(:first-child){border-top:1px dashed #aaa}.item.svelte-13qih23 div.svelte-13qih23{float:right;text-align:right}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$k(ctx) {\n\tlet div1;\n\tlet strong;\n\tlet t0;\n\tlet t1;\n\tlet div0;\n\tlet t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tstrong = element(\"strong\");\n\t\t\tt0 = text(/*name*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(div0, \"class\", \"svelte-13qih23\");\n\t\t\tattr(div1, \"class\", \"item svelte-13qih23\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, strong);\n\t\t\tappend(strong, t0);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t2);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*name*/ 1) set_data(t0, /*name*/ ctx[0]);\n\t\t\tif (dirty & /*value*/ 2 && t2_value !== (t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t}\n\t};\n}\n\nfunction instance$k($$self, $$props, $$invalidate) {\n\tlet { name } = $$props;\n\tlet { value } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif (\"name\" in $$props) $$invalidate(0, name = $$props.name);\n\t\tif (\"value\" in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [name, value];\n}\n\nclass Item extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-13qih23-style\")) add_css$e();\n\t\tinit(this, options, instance$k, create_fragment$k, safe_not_equal, { name: 0, value: 1 });\n\t}\n}\n\n/* src/client/debug/info/Info.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$f() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1yzq5o8-style\";\n\tstyle.textContent = \".gameinfo.svelte-1yzq5o8{padding:10px}\";\n\tappend(document.head, style);\n}\n\n// (18:2) {#if client.multiplayer}\nfunction create_if_block$7(ctx) {\n\tlet item;\n\tlet current;\n\n\titem = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isConnected\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isConnected\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(item.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(item, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst item_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item_changes.value = /*$client*/ ctx[1].isConnected;\n\t\t\titem.$set(item_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(item, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$l(ctx) {\n\tlet section;\n\tlet item0;\n\tlet t0;\n\tlet item1;\n\tlet t1;\n\tlet item2;\n\tlet t2;\n\tlet current;\n\n\titem0 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"matchID\",\n\t\t\t\tvalue: /*client*/ ctx[0].matchID\n\t\t\t}\n\t\t});\n\n\titem1 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"playerID\",\n\t\t\t\tvalue: /*client*/ ctx[0].playerID\n\t\t\t}\n\t\t});\n\n\titem2 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isActive\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isActive\n\t\t\t}\n\t\t});\n\n\tlet if_block = /*client*/ ctx[0].multiplayer && create_if_block$7(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(item0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(item1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tcreate_component(item2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(section, \"class\", \"gameinfo svelte-1yzq5o8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(item0, section, null);\n\t\t\tappend(section, t0);\n\t\t\tmount_component(item1, section, null);\n\t\t\tappend(section, t1);\n\t\t\tmount_component(item2, section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block) if_block.m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst item0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item0_changes.value = /*client*/ ctx[0].matchID;\n\t\t\titem0.$set(item0_changes);\n\t\t\tconst item1_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item1_changes.value = /*client*/ ctx[0].playerID;\n\t\t\titem1.$set(item1_changes);\n\t\t\tconst item2_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item2_changes.value = /*$client*/ ctx[1].isActive;\n\t\t\titem2.$set(item2_changes);\n\n\t\t\tif (/*client*/ ctx[0].multiplayer) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*client*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$7(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item0.$$.fragment, local);\n\t\t\ttransition_in(item1.$$.fragment, local);\n\t\t\ttransition_in(item2.$$.fragment, local);\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item0.$$.fragment, local);\n\t\t\ttransition_out(item1.$$.fragment, local);\n\t\t\ttransition_out(item2.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(item0);\n\t\t\tdestroy_component(item1);\n\t\t\tdestroy_component(item2);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$l($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(1, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tlet { clientManager } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif (\"client\" in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t\tif (\"clientManager\" in $$props) $$invalidate(2, clientManager = $$props.clientManager);\n\t};\n\n\treturn [client, $client, clientManager];\n}\n\nclass Info extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1yzq5o8-style\")) add_css$f();\n\t\tinit(this, options, instance$l, create_fragment$l, safe_not_equal, { client: 0, clientManager: 2 });\n\t}\n}\n\n/* src/client/debug/log/TurnMarker.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$g() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-6eza86-style\";\n\tstyle.textContent = \".turn-marker.svelte-6eza86{display:flex;justify-content:center;align-items:center;grid-column:1;background:#555;color:#eee;text-align:center;font-weight:bold;border:1px solid #888}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$m(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*turn*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"turn-marker svelte-6eza86\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*turn*/ 1) set_data(t, /*turn*/ ctx[0]);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$m($$self, $$props, $$invalidate) {\n\tlet { turn } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$set = $$props => {\n\t\tif (\"turn\" in $$props) $$invalidate(0, turn = $$props.turn);\n\t\tif (\"numEvents\" in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [turn, style, numEvents];\n}\n\nclass TurnMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-6eza86-style\")) add_css$g();\n\t\tinit(this, options, instance$m, create_fragment$m, safe_not_equal, { turn: 0, numEvents: 2 });\n\t}\n}\n\n/* src/client/debug/log/PhaseMarker.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$h() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1t4xap-style\";\n\tstyle.textContent = \".phase-marker.svelte-1t4xap{grid-column:3;background:#555;border:1px solid #888;color:#eee;text-align:center;font-weight:bold;padding-top:10px;padding-bottom:10px;text-orientation:sideways;writing-mode:vertical-rl;line-height:30px;width:100%}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$n(ctx) {\n\tlet div;\n\tlet t_value = (/*phase*/ ctx[0] || \"\") + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"phase-marker svelte-1t4xap\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*phase*/ 1 && t_value !== (t_value = (/*phase*/ ctx[0] || \"\") + \"\")) set_data(t, t_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$n($$self, $$props, $$invalidate) {\n\tlet { phase } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$set = $$props => {\n\t\tif (\"phase\" in $$props) $$invalidate(0, phase = $$props.phase);\n\t\tif (\"numEvents\" in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [phase, style, numEvents];\n}\n\nclass PhaseMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1t4xap-style\")) add_css$h();\n\t\tinit(this, options, instance$n, create_fragment$n, safe_not_equal, { phase: 0, numEvents: 2 });\n\t}\n}\n\n/* src/client/debug/log/LogMetadata.svelte generated by Svelte v3.24.0 */\n\nfunction create_fragment$o(ctx) {\n\tlet div;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tdiv.textContent = `${/*renderedMetadata*/ ctx[0]}`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$o($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\n\tconst renderedMetadata = metadata !== undefined\n\t? JSON.stringify(metadata, null, 4)\n\t: \"\";\n\n\t$$self.$set = $$props => {\n\t\tif (\"metadata\" in $$props) $$invalidate(1, metadata = $$props.metadata);\n\t};\n\n\treturn [renderedMetadata, metadata];\n}\n\nclass LogMetadata extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$o, create_fragment$o, safe_not_equal, { metadata: 1 });\n\t}\n}\n\n/* src/client/debug/log/LogEvent.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$i() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-11hs70q-style\";\n\tstyle.textContent = \".log-event.svelte-11hs70q{grid-column:2;cursor:pointer;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background:#fff;border:1px dotted #ccc;border-left:5px solid #ccc;padding:5px;text-align:center;color:#666;font-size:14px;min-height:25px;line-height:25px}.log-event.svelte-11hs70q:hover,.log-event.svelte-11hs70q:focus{border-style:solid;background:#eee}.log-event.pinned.svelte-11hs70q{border-style:solid;background:#eee;opacity:1}.player0.svelte-11hs70q{border-left-color:#ff851b}.player1.svelte-11hs70q{border-left-color:#7fdbff}.player2.svelte-11hs70q{border-left-color:#0074d9}.player3.svelte-11hs70q{border-left-color:#39cccc}.player4.svelte-11hs70q{border-left-color:#3d9970}.player5.svelte-11hs70q{border-left-color:#2ecc40}.player6.svelte-11hs70q{border-left-color:#01ff70}.player7.svelte-11hs70q{border-left-color:#ffdc00}.player8.svelte-11hs70q{border-left-color:#001f3f}.player9.svelte-11hs70q{border-left-color:#ff4136}.player10.svelte-11hs70q{border-left-color:#85144b}.player11.svelte-11hs70q{border-left-color:#f012be}.player12.svelte-11hs70q{border-left-color:#b10dc9}.player13.svelte-11hs70q{border-left-color:#111111}.player14.svelte-11hs70q{border-left-color:#aaaaaa}.player15.svelte-11hs70q{border-left-color:#dddddd}\";\n\tappend(document.head, style);\n}\n\n// (139:2) {:else}\nfunction create_else_block$1(ctx) {\n\tlet logmetadata;\n\tlet current;\n\tlogmetadata = new LogMetadata({ props: { metadata: /*metadata*/ ctx[2] } });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logmetadata.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logmetadata, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logmetadata_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) logmetadata_changes.metadata = /*metadata*/ ctx[2];\n\t\t\tlogmetadata.$set(logmetadata_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logmetadata.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logmetadata.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logmetadata, detaching);\n\t\t}\n\t};\n}\n\n// (137:2) {#if metadataComponent}\nfunction create_if_block$8(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*metadataComponent*/ ctx[3];\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { metadata: /*metadata*/ ctx[2] } };\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) switch_instance_changes.metadata = /*metadata*/ ctx[2];\n\n\t\t\tif (switch_value !== (switch_value = /*metadataComponent*/ ctx[3])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$p(ctx) {\n\tlet button;\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet button_class_value;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$8, create_else_block$1];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*metadataComponent*/ ctx[3]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt0 = text(/*actionType*/ ctx[4]);\n\t\t\tt1 = text(\"(\");\n\t\t\tt2 = text(/*renderedArgs*/ ctx[6]);\n\t\t\tt3 = text(\")\");\n\t\t\tt4 = space();\n\t\t\tif_block.c();\n\t\t\tattr(button, \"class\", button_class_value = \"log-event player\" + /*playerID*/ ctx[7] + \" svelte-11hs70q\");\n\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, t2);\n\t\t\tappend(div, t3);\n\t\t\tappend(button, t4);\n\t\t\tif_blocks[current_block_type_index].m(button, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(button, \"click\", /*click_handler*/ ctx[9]),\n\t\t\t\t\tlisten(button, \"mouseenter\", /*mouseenter_handler*/ ctx[10]),\n\t\t\t\t\tlisten(button, \"focus\", /*focus_handler*/ ctx[11]),\n\t\t\t\t\tlisten(button, \"mouseleave\", /*mouseleave_handler*/ ctx[12]),\n\t\t\t\t\tlisten(button, \"blur\", /*blur_handler*/ ctx[13])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (!current || dirty & /*actionType*/ 16) set_data(t0, /*actionType*/ ctx[4]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(button, null);\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 2) {\n\t\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$p($$self, $$props, $$invalidate) {\n\tlet { logIndex } = $$props;\n\tlet { action } = $$props;\n\tlet { pinned } = $$props;\n\tlet { metadata } = $$props;\n\tlet { metadataComponent } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst args = action.payload.args;\n\tconst renderedArgs = typeof args === \"string\" ? args : (args || []).join(\",\");\n\tconst playerID = action.payload.playerID;\n\tlet actionType;\n\n\tswitch (action.type) {\n\t\tcase \"UNDO\":\n\t\t\tactionType = \"undo\";\n\t\t\tbreak;\n\t\tcase \"REDO\":\n\t\t\tactionType = \"redo\";\n\t\tcase \"GAME_EVENT\":\n\t\tcase \"MAKE_MOVE\":\n\t\tdefault:\n\t\t\tactionType = action.payload.type;\n\t\t\tbreak;\n\t}\n\n\tconst click_handler = () => dispatch(\"click\", { logIndex });\n\tconst mouseenter_handler = () => dispatch(\"mouseenter\", { logIndex });\n\tconst focus_handler = () => dispatch(\"mouseenter\", { logIndex });\n\tconst mouseleave_handler = () => dispatch(\"mouseleave\");\n\tconst blur_handler = () => dispatch(\"mouseleave\");\n\n\t$$self.$set = $$props => {\n\t\tif (\"logIndex\" in $$props) $$invalidate(0, logIndex = $$props.logIndex);\n\t\tif (\"action\" in $$props) $$invalidate(8, action = $$props.action);\n\t\tif (\"pinned\" in $$props) $$invalidate(1, pinned = $$props.pinned);\n\t\tif (\"metadata\" in $$props) $$invalidate(2, metadata = $$props.metadata);\n\t\tif (\"metadataComponent\" in $$props) $$invalidate(3, metadataComponent = $$props.metadataComponent);\n\t};\n\n\treturn [\n\t\tlogIndex,\n\t\tpinned,\n\t\tmetadata,\n\t\tmetadataComponent,\n\t\tactionType,\n\t\tdispatch,\n\t\trenderedArgs,\n\t\tplayerID,\n\t\taction,\n\t\tclick_handler,\n\t\tmouseenter_handler,\n\t\tfocus_handler,\n\t\tmouseleave_handler,\n\t\tblur_handler\n\t];\n}\n\nclass LogEvent extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-11hs70q-style\")) add_css$i();\n\n\t\tinit(this, options, instance$p, create_fragment$p, safe_not_equal, {\n\t\t\tlogIndex: 0,\n\t\t\taction: 8,\n\t\t\tpinned: 1,\n\t\t\tmetadata: 2,\n\t\t\tmetadataComponent: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-icons/components/IconBase.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$j() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-c8tyih-style\";\n\tstyle.textContent = \"svg.svelte-c8tyih{stroke:currentColor;fill:currentColor;stroke-width:0;width:100%;height:auto;max-height:100%}\";\n\tappend(document.head, style);\n}\n\n// (18:2) {#if title}\nfunction create_if_block$9(ctx) {\n\tlet title_1;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\ttitle_1 = svg_element(\"title\");\n\t\t\tt = text(/*title*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, title_1, anchor);\n\t\t\tappend(title_1, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*title*/ 1) set_data(t, /*title*/ ctx[0]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(title_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment$q(ctx) {\n\tlet svg;\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*title*/ ctx[0] && create_if_block$9(ctx);\n\tconst default_slot_template = /*$$slots*/ ctx[3].default;\n\tconst default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);\n\n\treturn {\n\t\tc() {\n\t\t\tsvg = svg_element(\"svg\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t\tif (default_slot) default_slot.c();\n\t\t\tattr(svg, \"xmlns\", \"http://www.w3.org/2000/svg\");\n\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\tattr(svg, \"class\", \"svelte-c8tyih\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, svg, anchor);\n\t\t\tif (if_block) if_block.m(svg, null);\n\t\t\tappend(svg, if_block_anchor);\n\n\t\t\tif (default_slot) {\n\t\t\t\tdefault_slot.m(svg, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*title*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$9(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(svg, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (default_slot) {\n\t\t\t\tif (default_slot.p && dirty & /*$$scope*/ 4) {\n\t\t\t\t\tupdate_slot(default_slot, default_slot_template, ctx, /*$$scope*/ ctx[2], dirty, null, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*viewBox*/ 2) {\n\t\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(default_slot, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(default_slot, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(svg);\n\t\t\tif (if_block) if_block.d();\n\t\t\tif (default_slot) default_slot.d(detaching);\n\t\t}\n\t};\n}\n\nfunction instance$q($$self, $$props, $$invalidate) {\n\tlet { title = null } = $$props;\n\tlet { viewBox } = $$props;\n\tlet { $$slots = {}, $$scope } = $$props;\n\n\t$$self.$set = $$props => {\n\t\tif (\"title\" in $$props) $$invalidate(0, title = $$props.title);\n\t\tif (\"viewBox\" in $$props) $$invalidate(1, viewBox = $$props.viewBox);\n\t\tif (\"$$scope\" in $$props) $$invalidate(2, $$scope = $$props.$$scope);\n\t};\n\n\treturn [title, viewBox, $$scope, $$slots];\n}\n\nclass IconBase extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-c8tyih-style\")) add_css$j();\n\t\tinit(this, options, instance$q, create_fragment$q, safe_not_equal, { title: 0, viewBox: 1 });\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaArrowAltCircleDown.svelte generated by Svelte v3.24.0 */\n\nfunction create_default_slot(ctx) {\n\tlet path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(path);\n\t\t}\n\t};\n}\n\nfunction create_fragment$r(ctx) {\n\tlet iconbase;\n\tlet current;\n\tconst iconbase_spread_levels = [{ viewBox: \"0 0 512 512\" }, /*$$props*/ ctx[0]];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot] },\n\t\t$$scope: { ctx }\n\t};\n\n\tfor (let i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\n\ticonbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(iconbase.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst iconbase_changes = (dirty & /*$$props*/ 1)\n\t\t\t? get_spread_update(iconbase_spread_levels, [iconbase_spread_levels[0], get_spread_object(/*$$props*/ ctx[0])])\n\t\t\t: {};\n\n\t\t\tif (dirty & /*$$scope*/ 2) {\n\t\t\t\ticonbase_changes.$$scope = { dirty, ctx };\n\t\t\t}\n\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$r($$self, $$props, $$invalidate) {\n\t$$self.$set = $$new_props => {\n\t\t$$invalidate(0, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));\n\t};\n\n\t$$props = exclude_internal_props($$props);\n\treturn [$$props];\n}\n\nclass FaArrowAltCircleDown extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$r, create_fragment$r, safe_not_equal, {});\n\t}\n}\n\n/* src/client/debug/mcts/Action.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$k() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1a7time-style\";\n\tstyle.textContent = \"div.svelte-1a7time{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:500px}\";\n\tappend(document.head, style);\n}\n\nfunction create_fragment$s(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*text*/ ctx[0]);\n\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"svelte-1a7time\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*text*/ 1) set_data(t, /*text*/ ctx[0]);\n\n\t\t\tif (dirty & /*text*/ 1) {\n\t\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$s($$self, $$props, $$invalidate) {\n\tlet { action } = $$props;\n\tlet text;\n\n\t$$self.$set = $$props => {\n\t\tif (\"action\" in $$props) $$invalidate(1, action = $$props.action);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*action*/ 2) {\n\t\t\t$: {\n\t\t\t\tconst { type, args } = action.payload;\n\t\t\t\tconst argsFormatted = (args || []).join(\",\");\n\t\t\t\t$$invalidate(0, text = `${type}(${argsFormatted})`);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [text, action];\n}\n\nclass Action extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1a7time-style\")) add_css$k();\n\t\tinit(this, options, instance$s, create_fragment$s, safe_not_equal, { action: 1 });\n\t}\n}\n\n/* src/client/debug/mcts/Table.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$l() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-ztcwsu-style\";\n\tstyle.textContent = \"table.svelte-ztcwsu.svelte-ztcwsu{font-size:12px;border-collapse:collapse;border:1px solid #ddd;padding:0}tr.svelte-ztcwsu.svelte-ztcwsu{cursor:pointer}tr.svelte-ztcwsu:hover td.svelte-ztcwsu{background:#eee}tr.selected.svelte-ztcwsu td.svelte-ztcwsu{background:#eee}td.svelte-ztcwsu.svelte-ztcwsu{padding:10px;height:10px;line-height:10px;font-size:12px;border:none}th.svelte-ztcwsu.svelte-ztcwsu{background:#888;color:#fff;padding:10px;text-align:center}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$6(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[10] = list[i];\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (86:2) {#each children as child, i}\nfunction create_each_block$6(ctx) {\n\tlet tr;\n\tlet td0;\n\tlet t0_value = /*child*/ ctx[10].value + \"\";\n\tlet t0;\n\tlet t1;\n\tlet td1;\n\tlet t2_value = /*child*/ ctx[10].visits + \"\";\n\tlet t2;\n\tlet t3;\n\tlet td2;\n\tlet action;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\taction = new Action({\n\t\t\tprops: { action: /*child*/ ctx[10].parentAction }\n\t\t});\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[5](/*child*/ ctx[10], /*i*/ ctx[12], ...args);\n\t}\n\n\tfunction mouseout_handler(...args) {\n\t\treturn /*mouseout_handler*/ ctx[6](/*i*/ ctx[12], ...args);\n\t}\n\n\tfunction mouseover_handler(...args) {\n\t\treturn /*mouseover_handler*/ ctx[7](/*child*/ ctx[10], /*i*/ ctx[12], ...args);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\ttr = element(\"tr\");\n\t\t\ttd0 = element(\"td\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\ttd1 = element(\"td\");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = space();\n\t\t\ttd2 = element(\"td\");\n\t\t\tcreate_component(action.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tattr(td0, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td1, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td2, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(tr, \"class\", \"svelte-ztcwsu\");\n\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, tr, anchor);\n\t\t\tappend(tr, td0);\n\t\t\tappend(td0, t0);\n\t\t\tappend(tr, t1);\n\t\t\tappend(tr, td1);\n\t\t\tappend(td1, t2);\n\t\t\tappend(tr, t3);\n\t\t\tappend(tr, td2);\n\t\t\tmount_component(action, td2, null);\n\t\t\tappend(tr, t4);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(tr, \"click\", click_handler),\n\t\t\t\t\tlisten(tr, \"mouseout\", mouseout_handler),\n\t\t\t\t\tlisten(tr, \"mouseover\", mouseover_handler)\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((!current || dirty & /*children*/ 2) && t0_value !== (t0_value = /*child*/ ctx[10].value + \"\")) set_data(t0, t0_value);\n\t\t\tif ((!current || dirty & /*children*/ 2) && t2_value !== (t2_value = /*child*/ ctx[10].visits + \"\")) set_data(t2, t2_value);\n\t\t\tconst action_changes = {};\n\t\t\tif (dirty & /*children*/ 2) action_changes.action = /*child*/ ctx[10].parentAction;\n\t\t\taction.$set(action_changes);\n\n\t\t\tif (dirty & /*children*/ 2) {\n\t\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedIndex*/ 1) {\n\t\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(action.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(action.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(tr);\n\t\t\tdestroy_component(action);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction create_fragment$t(ctx) {\n\tlet table;\n\tlet thead;\n\tlet t5;\n\tlet tbody;\n\tlet current;\n\tlet each_value = /*children*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\ttable = element(\"table\");\n\t\t\tthead = element(\"thead\");\n\n\t\t\tthead.innerHTML = `<th class=\"svelte-ztcwsu\">Value</th> \n    <th class=\"svelte-ztcwsu\">Visits</th> \n    <th class=\"svelte-ztcwsu\">Action</th>`;\n\n\t\t\tt5 = space();\n\t\t\ttbody = element(\"tbody\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(table, \"class\", \"svelte-ztcwsu\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, table, anchor);\n\t\t\tappend(table, thead);\n\t\t\tappend(table, t5);\n\t\t\tappend(table, tbody);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*children, selectedIndex, Select, Preview*/ 15) {\n\t\t\t\teach_value = /*children*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$6(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$6(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(table);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$t($$self, $$props, $$invalidate) {\n\tlet { root } = $$props;\n\tlet { selectedIndex = null } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tlet parents = [];\n\tlet children = [];\n\n\tfunction Select(node, i) {\n\t\tdispatch(\"select\", { node, selectedIndex: i });\n\t}\n\n\tfunction Preview(node, i) {\n\t\tif (selectedIndex === null) {\n\t\t\tdispatch(\"preview\", { node });\n\t\t}\n\t}\n\n\tconst click_handler = (child, i) => Select(child, i);\n\tconst mouseout_handler = i => Preview(null);\n\tconst mouseover_handler = (child, i) => Preview(child);\n\n\t$$self.$set = $$props => {\n\t\tif (\"root\" in $$props) $$invalidate(4, root = $$props.root);\n\t\tif (\"selectedIndex\" in $$props) $$invalidate(0, selectedIndex = $$props.selectedIndex);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*root, parents*/ 272) {\n\t\t\t$: {\n\t\t\t\tlet t = root;\n\t\t\t\t$$invalidate(8, parents = []);\n\n\t\t\t\twhile (t.parent) {\n\t\t\t\t\tconst parent = t.parent;\n\t\t\t\t\tconst { type, args } = t.parentAction.payload;\n\t\t\t\t\tconst argsFormatted = (args || []).join(\",\");\n\t\t\t\t\tconst arrowText = `${type}(${argsFormatted})`;\n\t\t\t\t\tparents.push({ parent, arrowText });\n\t\t\t\t\tt = parent;\n\t\t\t\t}\n\n\t\t\t\tparents.reverse();\n\t\t\t\t$$invalidate(1, children = [...root.children].sort((a, b) => a.visits < b.visits ? 1 : -1).slice(0, 50));\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tselectedIndex,\n\t\tchildren,\n\t\tSelect,\n\t\tPreview,\n\t\troot,\n\t\tclick_handler,\n\t\tmouseout_handler,\n\t\tmouseover_handler\n\t];\n}\n\nclass Table extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-ztcwsu-style\")) add_css$l();\n\t\tinit(this, options, instance$t, create_fragment$t, safe_not_equal, { root: 4, selectedIndex: 0 });\n\t}\n}\n\n/* src/client/debug/mcts/MCTS.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$m() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1f0amz4-style\";\n\tstyle.textContent = \".visualizer.svelte-1f0amz4{display:flex;flex-direction:column;align-items:center;padding:50px}.preview.svelte-1f0amz4{opacity:0.5}.icon.svelte-1f0amz4{color:#777;width:32px;height:32px;margin-bottom:20px}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$7(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[9] = list[i].node;\n\tchild_ctx[10] = list[i].selectedIndex;\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (50:4) {#if i !== 0}\nfunction create_if_block_2$3(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t}\n\t};\n}\n\n// (61:6) {:else}\nfunction create_else_block$2(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler_1(...args) {\n\t\treturn /*select_handler_1*/ ctx[7](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({\n\t\t\tprops: {\n\t\t\t\troot: /*node*/ ctx[9],\n\t\t\t\tselectedIndex: /*selectedIndex*/ ctx[10]\n\t\t\t}\n\t\t});\n\n\ttable.$on(\"select\", select_handler_1);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.selectedIndex = /*selectedIndex*/ ctx[10];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (57:6) {#if i === nodes.length - 1}\nfunction create_if_block_1$3(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler(...args) {\n\t\treturn /*select_handler*/ ctx[5](/*i*/ ctx[12], ...args);\n\t}\n\n\tfunction preview_handler(...args) {\n\t\treturn /*preview_handler*/ ctx[6](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({ props: { root: /*node*/ ctx[9] } });\n\ttable.$on(\"select\", select_handler);\n\ttable.$on(\"preview\", preview_handler);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (49:2) {#each nodes as { node, selectedIndex }\nfunction create_each_block$7(ctx) {\n\tlet t;\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet current;\n\tlet if_block0 = /*i*/ ctx[12] !== 0 && create_if_block_2$3();\n\tconst if_block_creators = [create_if_block_1$3, create_else_block$2];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*i*/ ctx[12] === /*nodes*/ ctx[0].length - 1) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tif_block1.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t}\n\t};\n}\n\n// (69:2) {#if preview}\nfunction create_if_block$a(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet t;\n\tlet section;\n\tlet table;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\ttable = new Table({ props: { root: /*preview*/ ctx[1] } });\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(table.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t\tattr(section, \"class\", \"preview svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(table, section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*preview*/ 2) table_changes.root = /*preview*/ ctx[1];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(table);\n\t\t}\n\t};\n}\n\nfunction create_fragment$u(ctx) {\n\tlet div;\n\tlet t;\n\tlet current;\n\tlet each_value = /*nodes*/ ctx[0];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*preview*/ ctx[1] && create_if_block$a(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div, \"class\", \"visualizer svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*nodes, SelectNode, PreviewNode*/ 13) {\n\t\t\t\teach_value = /*nodes*/ ctx[0];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$7(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$7(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*preview*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*preview*/ 2) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$a(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$u($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\tlet nodes = [];\n\tlet preview = null;\n\n\tfunction SelectNode({ node, selectedIndex }, i) {\n\t\t$$invalidate(1, preview = null);\n\t\t$$invalidate(0, nodes[i].selectedIndex = selectedIndex, nodes);\n\t\t$$invalidate(0, nodes = [...nodes.slice(0, i + 1), { node }]);\n\t}\n\n\tfunction PreviewNode({ node }, i) {\n\t\t$$invalidate(1, preview = node);\n\t}\n\n\tconst select_handler = (i, e) => SelectNode(e.detail, i);\n\tconst preview_handler = (i, e) => PreviewNode(e.detail);\n\tconst select_handler_1 = (i, e) => SelectNode(e.detail, i);\n\n\t$$self.$set = $$props => {\n\t\tif (\"metadata\" in $$props) $$invalidate(4, metadata = $$props.metadata);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*metadata*/ 16) {\n\t\t\t$: {\n\t\t\t\t$$invalidate(0, nodes = [{ node: metadata }]);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tnodes,\n\t\tpreview,\n\t\tSelectNode,\n\t\tPreviewNode,\n\t\tmetadata,\n\t\tselect_handler,\n\t\tpreview_handler,\n\t\tselect_handler_1\n\t];\n}\n\nclass MCTS extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1f0amz4-style\")) add_css$m();\n\t\tinit(this, options, instance$u, create_fragment$u, safe_not_equal, { metadata: 4 });\n\t}\n}\n\n/* src/client/debug/log/Log.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$n() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1pq5e4b-style\";\n\tstyle.textContent = \".gamelog.svelte-1pq5e4b{display:grid;grid-template-columns:30px 1fr 30px;grid-auto-rows:auto;grid-auto-flow:column}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$8(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[16] = list[i].phase;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[19] = list[i].action;\n\tchild_ctx[20] = list[i].metadata;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[22] = list[i].turn;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\n// (136:4) {#if i in turnBoundaries}\nfunction create_if_block_1$4(ctx) {\n\tlet turnmarker;\n\tlet current;\n\n\tturnmarker = new TurnMarker({\n\t\t\tprops: {\n\t\t\t\tturn: /*turn*/ ctx[22],\n\t\t\t\tnumEvents: /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(turnmarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(turnmarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst turnmarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 4) turnmarker_changes.turn = /*turn*/ ctx[22];\n\t\t\tif (dirty & /*turnBoundaries*/ 8) turnmarker_changes.numEvents = /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]];\n\t\t\tturnmarker.$set(turnmarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(turnmarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(turnmarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(turnmarker, detaching);\n\t\t}\n\t};\n}\n\n// (135:2) {#each renderedLogEntries as { turn }\nfunction create_each_block_2(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*turnBoundaries*/ ctx[3] && create_if_block_1$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*turnBoundaries*/ ctx[3]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*turnBoundaries*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (141:2) {#each renderedLogEntries as { action, metadata }\nfunction create_each_block_1(ctx) {\n\tlet logevent;\n\tlet current;\n\n\tlogevent = new LogEvent({\n\t\t\tprops: {\n\t\t\t\tpinned: /*i*/ ctx[18] === /*pinned*/ ctx[1],\n\t\t\t\tlogIndex: /*i*/ ctx[18],\n\t\t\t\taction: /*action*/ ctx[19],\n\t\t\t\tmetadata: /*metadata*/ ctx[20]\n\t\t\t}\n\t\t});\n\n\tlogevent.$on(\"click\", /*OnLogClick*/ ctx[5]);\n\tlogevent.$on(\"mouseenter\", /*OnMouseEnter*/ ctx[6]);\n\tlogevent.$on(\"mouseleave\", /*OnMouseLeave*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logevent.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logevent, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logevent_changes = {};\n\t\t\tif (dirty & /*pinned*/ 2) logevent_changes.pinned = /*i*/ ctx[18] === /*pinned*/ ctx[1];\n\t\t\tif (dirty & /*renderedLogEntries*/ 4) logevent_changes.action = /*action*/ ctx[19];\n\t\t\tif (dirty & /*renderedLogEntries*/ 4) logevent_changes.metadata = /*metadata*/ ctx[20];\n\t\t\tlogevent.$set(logevent_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logevent.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logevent.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logevent, detaching);\n\t\t}\n\t};\n}\n\n// (153:4) {#if i in phaseBoundaries}\nfunction create_if_block$b(ctx) {\n\tlet phasemarker;\n\tlet current;\n\n\tphasemarker = new PhaseMarker({\n\t\t\tprops: {\n\t\t\t\tphase: /*phase*/ ctx[16],\n\t\t\t\tnumEvents: /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(phasemarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(phasemarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst phasemarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 4) phasemarker_changes.phase = /*phase*/ ctx[16];\n\t\t\tif (dirty & /*phaseBoundaries*/ 16) phasemarker_changes.numEvents = /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]];\n\t\t\tphasemarker.$set(phasemarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(phasemarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(phasemarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(phasemarker, detaching);\n\t\t}\n\t};\n}\n\n// (152:2) {#each renderedLogEntries as { phase }\nfunction create_each_block$8(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4] && create_if_block$b(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*phaseBoundaries*/ 16) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$b(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction create_fragment$v(ctx) {\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_2 = /*renderedLogEntries*/ ctx[2];\n\tlet each_blocks_2 = [];\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\teach_blocks_2[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks_2[i], 1, 1, () => {\n\t\teach_blocks_2[i] = null;\n\t});\n\n\tlet each_value_1 = /*renderedLogEntries*/ ctx[2];\n\tlet each_blocks_1 = [];\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\teach_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n\t}\n\n\tconst out_1 = i => transition_out(each_blocks_1[i], 1, 1, () => {\n\t\teach_blocks_1[i] = null;\n\t});\n\n\tlet each_value = /*renderedLogEntries*/ ctx[2];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$8(get_each_context$8(ctx, each_value, i));\n\t}\n\n\tconst out_2 = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tt0 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tt1 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"gamelog svelte-1pq5e4b\");\n\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t0);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[8]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*renderedLogEntries, turnBoundaries*/ 12) {\n\t\t\t\teach_value_2 = /*renderedLogEntries*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_2(ctx, each_value_2, i);\n\n\t\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\t\teach_blocks_2[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_2[i] = create_each_block_2(child_ctx);\n\t\t\t\t\t\teach_blocks_2[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t\teach_blocks_2[i].m(div, t0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_2.length; i < each_blocks_2.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned, renderedLogEntries, OnLogClick, OnMouseEnter, OnMouseLeave*/ 230) {\n\t\t\t\teach_value_1 = /*renderedLogEntries*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_1(ctx, each_value_1, i);\n\n\t\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\t\teach_blocks_1[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_1[i] = create_each_block_1(child_ctx);\n\t\t\t\t\t\teach_blocks_1[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t\teach_blocks_1[i].m(div, t1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_1.length; i < each_blocks_1.length; i += 1) {\n\t\t\t\t\tout_1(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*renderedLogEntries, phaseBoundaries*/ 20) {\n\t\t\t\teach_value = /*renderedLogEntries*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$8(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$8(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout_2(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 2) {\n\t\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks_2 = each_blocks_2.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\teach_blocks_1 = each_blocks_1.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks_2, detaching);\n\t\t\tdestroy_each(each_blocks_1, detaching);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$v($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(10, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tconst { secondaryPane } = getContext(\"secondaryPane\");\n\tconst reducer = CreateGameReducer({ game: client.game });\n\tconst initialState = client.getInitialState();\n\tlet { log } = $client;\n\tlet pinned = null;\n\n\tfunction rewind(logIndex) {\n\t\tlet state = initialState;\n\n\t\tfor (let i = 0; i < log.length; i++) {\n\t\t\tconst { action, automatic } = log[i];\n\n\t\t\tif (!automatic) {\n\t\t\t\tstate = reducer(state, action);\n\n\t\t\t\tif (logIndex == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlogIndex--;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tG: state.G,\n\t\t\tctx: state.ctx,\n\t\t\tplugins: state.plugins\n\t\t};\n\t}\n\n\tfunction OnLogClick(e) {\n\t\tconst { logIndex } = e.detail;\n\t\tconst state = rewind(logIndex);\n\t\tconst renderedLogEntries = log.filter(e => !e.automatic);\n\t\tclient.overrideGameState(state);\n\n\t\tif (pinned == logIndex) {\n\t\t\t$$invalidate(1, pinned = null);\n\t\t\tsecondaryPane.set(null);\n\t\t} else {\n\t\t\t$$invalidate(1, pinned = logIndex);\n\t\t\tconst { metadata } = renderedLogEntries[logIndex].action.payload;\n\n\t\t\tif (metadata) {\n\t\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction OnMouseEnter(e) {\n\t\tconst { logIndex } = e.detail;\n\n\t\tif (pinned === null) {\n\t\t\tconst state = rewind(logIndex);\n\t\t\tclient.overrideGameState(state);\n\t\t}\n\t}\n\n\tfunction OnMouseLeave() {\n\t\tif (pinned === null) {\n\t\t\tclient.overrideGameState(null);\n\t\t}\n\t}\n\n\tfunction Reset() {\n\t\t$$invalidate(1, pinned = null);\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t}\n\n\tonDestroy(Reset);\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tReset();\n\t\t}\n\t}\n\n\tlet renderedLogEntries;\n\tlet turnBoundaries = {};\n\tlet phaseBoundaries = {};\n\n\t$$self.$set = $$props => {\n\t\tif (\"client\" in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$client, log, renderedLogEntries*/ 1540) {\n\t\t\t$: {\n\t\t\t\t$$invalidate(9, log = $client.log);\n\t\t\t\t$$invalidate(2, renderedLogEntries = log.filter(e => !e.automatic));\n\t\t\t\tlet eventsInCurrentPhase = 0;\n\t\t\t\tlet eventsInCurrentTurn = 0;\n\t\t\t\t$$invalidate(3, turnBoundaries = {});\n\t\t\t\t$$invalidate(4, phaseBoundaries = {});\n\n\t\t\t\tfor (let i = 0; i < renderedLogEntries.length; i++) {\n\t\t\t\t\tconst { action, payload, turn, phase } = renderedLogEntries[i];\n\t\t\t\t\teventsInCurrentTurn++;\n\t\t\t\t\teventsInCurrentPhase++;\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].turn != turn) {\n\t\t\t\t\t\t$$invalidate(3, turnBoundaries[i] = eventsInCurrentTurn, turnBoundaries);\n\t\t\t\t\t\teventsInCurrentTurn = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].phase != phase) {\n\t\t\t\t\t\t$$invalidate(4, phaseBoundaries[i] = eventsInCurrentPhase, phaseBoundaries);\n\t\t\t\t\t\teventsInCurrentPhase = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tclient,\n\t\tpinned,\n\t\trenderedLogEntries,\n\t\tturnBoundaries,\n\t\tphaseBoundaries,\n\t\tOnLogClick,\n\t\tOnMouseEnter,\n\t\tOnMouseLeave,\n\t\tOnKeyDown\n\t];\n}\n\nclass Log extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1pq5e4b-style\")) add_css$n();\n\t\tinit(this, options, instance$v, create_fragment$v, safe_not_equal, { client: 0 });\n\t}\n}\n\n/* src/client/debug/ai/Options.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$o() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1fu900w-style\";\n\tstyle.textContent = \"label.svelte-1fu900w{color:#666}.option.svelte-1fu900w{margin-bottom:20px}.value.svelte-1fu900w{font-weight:bold;color:#000}input[type='checkbox'].svelte-1fu900w{vertical-align:middle}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$9(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[5] = list[i][0];\n\tchild_ctx[6] = list[i][1];\n\treturn child_ctx;\n}\n\n// (39:4) {#if value.range}\nfunction create_if_block_1$5(ctx) {\n\tlet span;\n\tlet t0_value = /*values*/ ctx[1][/*key*/ ctx[5]] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet input;\n\tlet input_min_value;\n\tlet input_max_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_input_handler() {\n\t\t/*input_change_input_handler*/ ctx[3].call(input, /*key*/ ctx[5]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tattr(span, \"class\", \"value svelte-1fu900w\");\n\t\t\tattr(input, \"type\", \"range\");\n\t\t\tattr(input, \"min\", input_min_value = /*value*/ ctx[6].range.min);\n\t\t\tattr(input, \"max\", input_max_value = /*value*/ ctx[6].range.max);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t0);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, input, anchor);\n\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[5]]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"input\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*values, bot*/ 3 && t0_value !== (t0_value = /*values*/ ctx[1][/*key*/ ctx[5]] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*bot*/ 1 && input_min_value !== (input_min_value = /*value*/ ctx[6].range.min)) {\n\t\t\t\tattr(input, \"min\", input_min_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 1 && input_max_value !== (input_max_value = /*value*/ ctx[6].range.max)) {\n\t\t\t\tattr(input, \"max\", input_max_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[5]]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (44:4) {#if typeof value.value === 'boolean'}\nfunction create_if_block$c(ctx) {\n\tlet input;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_handler() {\n\t\t/*input_change_handler*/ ctx[4].call(input, /*key*/ ctx[5]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tinput = element(\"input\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, input, anchor);\n\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[5]];\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[5]];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (35:0) {#each Object.entries(bot.opts()) as [key, value]}\nfunction create_each_block$9(ctx) {\n\tlet div;\n\tlet label;\n\tlet t0_value = /*key*/ ctx[5] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet t3;\n\tlet if_block0 = /*value*/ ctx[6].range && create_if_block_1$5(ctx);\n\tlet if_block1 = typeof /*value*/ ctx[6].value === \"boolean\" && create_if_block$c(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt3 = space();\n\t\t\tattr(label, \"class\", \"svelte-1fu900w\");\n\t\t\tattr(div, \"class\", \"option svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block0) if_block0.m(div, null);\n\t\t\tappend(div, t2);\n\t\t\tif (if_block1) if_block1.m(div, null);\n\t\t\tappend(div, t3);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*bot*/ 1 && t0_value !== (t0_value = /*key*/ ctx[5] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (/*value*/ ctx[6].range) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_1$5(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(div, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (typeof /*value*/ ctx[6].value === \"boolean\") {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block$c(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(div, t3);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment$w(ctx) {\n\tlet each_1_anchor;\n\tlet each_value = Object.entries(/*bot*/ ctx[0].opts());\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$9(get_each_context$9(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\teach_1_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, each_1_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*values, Object, bot, OnChange*/ 7) {\n\t\t\t\teach_value = Object.entries(/*bot*/ ctx[0].opts());\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$9(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$9(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(each_1_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$w($$self, $$props, $$invalidate) {\n\tlet { bot } = $$props;\n\tlet values = {};\n\n\tfor (let [key, value] of Object.entries(bot.opts())) {\n\t\tvalues[key] = value.value;\n\t}\n\n\tfunction OnChange() {\n\t\tfor (let [key, value] of Object.entries(values)) {\n\t\t\tbot.setOpt(key, value);\n\t\t}\n\t}\n\n\tfunction input_change_input_handler(key) {\n\t\tvalues[key] = to_number(this.value);\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\tfunction input_change_handler(key) {\n\t\tvalues[key] = this.checked;\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"bot\" in $$props) $$invalidate(0, bot = $$props.bot);\n\t};\n\n\treturn [bot, values, OnChange, input_change_input_handler, input_change_handler];\n}\n\nclass Options extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1fu900w-style\")) add_css$o();\n\t\tinit(this, options, instance$w, create_fragment$w, safe_not_equal, { bot: 0 });\n\t}\n}\n\n/* src/client/debug/ai/AI.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$p() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-lifdi8-style\";\n\tstyle.textContent = \"ul.svelte-lifdi8{padding-left:0}li.svelte-lifdi8{list-style:none;margin:none;margin-bottom:5px}h3.svelte-lifdi8{text-transform:uppercase}label.svelte-lifdi8{color:#666}input[type='checkbox'].svelte-lifdi8{vertical-align:middle}\";\n\tappend(document.head, style);\n}\n\nfunction get_each_context$a(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (201:4) {:else}\nfunction create_else_block$3(ctx) {\n\tlet p0;\n\tlet t1;\n\tlet p1;\n\n\treturn {\n\t\tc() {\n\t\t\tp0 = element(\"p\");\n\t\t\tp0.textContent = \"No bots available.\";\n\t\t\tt1 = space();\n\t\t\tp1 = element(\"p\");\n\n\t\t\tp1.innerHTML = `Follow the instructions\n        <a href=\"https://boardgame.io/documentation/#/tutorial?id=bots\" target=\"_blank\">here</a>\n        to set up bots.`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p0, anchor);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, p1, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p0);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(p1);\n\t\t}\n\t};\n}\n\n// (199:4) {#if client.multiplayer}\nfunction create_if_block_5(ctx) {\n\tlet p;\n\n\treturn {\n\t\tc() {\n\t\t\tp = element(\"p\");\n\t\t\tp.textContent = \"The bot debugger is only available in singleplayer mode.\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p);\n\t\t}\n\t};\n}\n\n// (149:2) {#if client.game.ai && !client.multiplayer}\nfunction create_if_block$d(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t2;\n\tlet li1;\n\tlet hotkey1;\n\tlet t3;\n\tlet li2;\n\tlet hotkey2;\n\tlet t4;\n\tlet section1;\n\tlet h31;\n\tlet t6;\n\tlet select;\n\tlet t7;\n\tlet show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\tlet t8;\n\tlet if_block1_anchor;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*Reset*/ ctx[13],\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Step*/ ctx[11],\n\t\t\t\tlabel: \"play\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Simulate*/ ctx[12],\n\t\t\t\tlabel: \"simulate\"\n\t\t\t}\n\t\t});\n\n\tlet each_value = Object.keys(/*bots*/ ctx[8]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$a(get_each_context$a(ctx, each_value, i));\n\t}\n\n\tlet if_block0 = show_if && create_if_block_4(ctx);\n\tlet if_block1 = (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) && create_if_block_1$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt3 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Bot\";\n\t\t\tt6 = space();\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt7 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt8 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tif_block1_anchor = empty();\n\t\t\tattr(h30, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li2, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(h31, \"class\", \"svelte-lifdi8\");\n\t\t\tif (/*selectedBot*/ ctx[4] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[16].call(select));\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tappend(section0, ul);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t3);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tinsert(target, t4, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t6);\n\t\t\tappend(section1, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\tinsert(target, t7, anchor);\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t8, anchor);\n\t\t\tif (if_block1) if_block1.m(target, anchor);\n\t\t\tinsert(target, if_block1_anchor, anchor);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[16]),\n\t\t\t\t\tlisten(select, \"change\", /*ChangeBot*/ ctx[10])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*Object, bots*/ 256) {\n\t\t\t\teach_value = Object.keys(/*bots*/ ctx[8]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$a(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$a(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedBot, Object, bots*/ 272) {\n\t\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 128) show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\n\t\t\tif (show_if) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*bot*/ 128) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_4(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(t8.parentNode, t8);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$6(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(if_block1_anchor.parentNode, if_block1_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(if_block0);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(if_block0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tif (detaching) detach(t4);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t7);\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (if_block1) if_block1.d(detaching);\n\t\t\tif (detaching) detach(if_block1_anchor);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (168:8) {#each Object.keys(bots) as bot}\nfunction create_each_block$a(ctx) {\n\tlet option;\n\tlet t_value = /*bot*/ ctx[7] + \"\";\n\tlet t;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt = text(t_value);\n\t\t\toption.__value = option_value_value = /*bot*/ ctx[7];\n\t\t\toption.value = option.__value;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t);\n\t\t},\n\t\tp: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\n// (174:4) {#if Object.keys(bot.opts()).length}\nfunction create_if_block_4(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet label;\n\tlet t3;\n\tlet input;\n\tlet t4;\n\tlet options;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\toptions = new Options({ props: { bot: /*bot*/ ctx[7] } });\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Options\";\n\t\t\tt1 = space();\n\t\t\tlabel = element(\"label\");\n\t\t\tlabel.textContent = \"debug\";\n\t\t\tt3 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tt4 = space();\n\t\t\tcreate_component(options.$$.fragment);\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(label, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tappend(section, label);\n\t\t\tappend(section, t3);\n\t\t\tappend(section, input);\n\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\tappend(section, t4);\n\t\t\tmount_component(options, section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", /*input_change_handler*/ ctx[17]),\n\t\t\t\t\tlisten(input, \"change\", /*OnDebug*/ ctx[9])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debug*/ 2) {\n\t\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\t}\n\n\t\t\tconst options_changes = {};\n\t\t\tif (dirty & /*bot*/ 128) options_changes.bot = /*bot*/ ctx[7];\n\t\t\toptions.$set(options_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(options.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(options.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(options);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (183:4) {#if botAction || iterationCounter}\nfunction create_if_block_1$6(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet t2;\n\tlet if_block0 = /*progress*/ ctx[2] && /*progress*/ ctx[2] < 1 && create_if_block_3$1(ctx);\n\tlet if_block1 = /*botAction*/ ctx[5] && create_if_block_2$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Result\";\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tif (if_block0) if_block0.m(section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block1) if_block1.m(section, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*progress*/ ctx[2] && /*progress*/ ctx[2] < 1) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(section, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_2$4(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\n// (186:6) {#if progress && progress < 1.0}\nfunction create_if_block_3$1(ctx) {\n\tlet progress_1;\n\n\treturn {\n\t\tc() {\n\t\t\tprogress_1 = element(\"progress\");\n\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, progress_1, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*progress*/ 4) {\n\t\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(progress_1);\n\t\t}\n\t};\n}\n\n// (190:6) {#if botAction}\nfunction create_if_block_2$4(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet li1;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\";\n\tlet t4;\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tt0 = text(\"Action: \");\n\t\t\tt1 = text(/*botAction*/ ctx[5]);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tt3 = text(\"Args: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tappend(li0, t0);\n\t\t\tappend(li0, t1);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tappend(li1, t3);\n\t\t\tappend(li1, t4);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*botAction*/ 32) set_data(t1, /*botAction*/ ctx[5]);\n\t\t\tif (dirty & /*botActionArgs*/ 64 && t4_value !== (t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\")) set_data(t4, t4_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t}\n\t};\n}\n\nfunction create_fragment$x(ctx) {\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$d, create_if_block_5, create_else_block$3];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*client*/ ctx[0].game.ai && !/*client*/ ctx[0].multiplayer) return 0;\n\t\tif (/*client*/ ctx[0].multiplayer) return 1;\n\t\treturn 2;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[14]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$x($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tconst { secondaryPane } = getContext(\"secondaryPane\");\n\tconst bots = { \"MCTS\": MCTSBot, \"Random\": RandomBot };\n\tlet debug = false;\n\tlet progress = null;\n\tlet iterationCounter = 0;\n\tlet metadata = null;\n\n\tconst iterationCallback = ({ iterationCounter: c, numIterations, metadata: m }) => {\n\t\t$$invalidate(3, iterationCounter = c);\n\t\t$$invalidate(2, progress = c / numIterations);\n\t\tmetadata = m;\n\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t}\n\t};\n\n\tfunction OnDebug() {\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t} else {\n\t\t\tsecondaryPane.set(null);\n\t\t}\n\t}\n\n\tlet bot;\n\n\tif (client.game.ai) {\n\t\tbot = new MCTSBot({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t});\n\n\t\tbot.setOpt(\"async\", true);\n\t}\n\n\tlet selectedBot;\n\tlet botAction;\n\tlet botActionArgs;\n\n\tfunction ChangeBot() {\n\t\tconst botConstructor = bots[selectedBot];\n\n\t\t$$invalidate(7, bot = new botConstructor({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t}));\n\n\t\tbot.setOpt(\"async\", true);\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(3, iterationCounter = 0);\n\t}\n\n\tasync function Step$1() {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tconst t = await Step(client, bot);\n\n\t\tif (t) {\n\t\t\t$$invalidate(5, botAction = t.payload.type);\n\t\t\t$$invalidate(6, botActionArgs = t.payload.args);\n\t\t}\n\t}\n\n\tfunction Simulate(iterations = 10000, sleepTimeout = 100) {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\n\t\tconst step = async () => {\n\t\t\tfor (let i = 0; i < iterations; i++) {\n\t\t\t\tconst action = await Step(client, bot);\n\t\t\t\tif (!action) break;\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, sleepTimeout));\n\t\t\t}\n\t\t};\n\n\t\treturn step();\n\t}\n\n\tfunction Exit() {\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(1, debug = false);\n\t}\n\n\tfunction Reset() {\n\t\tclient.reset();\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tExit();\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tExit();\n\t\t}\n\t}\n\n\tonDestroy(Exit);\n\n\tfunction select_change_handler() {\n\t\tselectedBot = select_value(this);\n\t\t$$invalidate(4, selectedBot);\n\t\t$$invalidate(8, bots);\n\t}\n\n\tfunction input_change_handler() {\n\t\tdebug = this.checked;\n\t\t$$invalidate(1, debug);\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"client\" in $$props) $$invalidate(0, client = $$props.client);\n\t\tif (\"clientManager\" in $$props) $$invalidate(15, clientManager = $$props.clientManager);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tdebug,\n\t\tprogress,\n\t\titerationCounter,\n\t\tselectedBot,\n\t\tbotAction,\n\t\tbotActionArgs,\n\t\tbot,\n\t\tbots,\n\t\tOnDebug,\n\t\tChangeBot,\n\t\tStep$1,\n\t\tSimulate,\n\t\tReset,\n\t\tOnKeyDown,\n\t\tclientManager,\n\t\tselect_change_handler,\n\t\tinput_change_handler\n\t];\n}\n\nclass AI extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-lifdi8-style\")) add_css$p();\n\t\tinit(this, options, instance$x, create_fragment$x, safe_not_equal, { client: 0, clientManager: 15 });\n\t}\n}\n\n/* src/client/debug/Debug.svelte generated by Svelte v3.24.0 */\n\nfunction add_css$q() {\n\tvar style = element(\"style\");\n\tstyle.id = \"svelte-1dhkl71-style\";\n\tstyle.textContent = \".debug-panel.svelte-1dhkl71{position:fixed;color:#555;font-family:monospace;display:flex;flex-direction:row;text-align:left;right:0;top:0;height:100%;font-size:14px;box-sizing:border-box;opacity:0.9;z-index:99999}.pane.svelte-1dhkl71{flex-grow:2;overflow-x:hidden;overflow-y:scroll;background:#fefefe;padding:20px;border-left:1px solid #ccc;box-shadow:-1px 0 5px rgba(0, 0, 0, 0.2);box-sizing:border-box;width:280px}.secondary-pane.svelte-1dhkl71{background:#fefefe;overflow-y:scroll}.debug-panel.svelte-1dhkl71 button,.debug-panel.svelte-1dhkl71 select{cursor:pointer;font-size:14px;font-family:monospace}.debug-panel.svelte-1dhkl71 select{background:#eee;border:1px solid #bbb;color:#555;padding:3px;border-radius:3px}.debug-panel.svelte-1dhkl71 section{margin-bottom:20px}.debug-panel.svelte-1dhkl71 .screen-reader-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}\";\n\tappend(document.head, style);\n}\n\n// (118:0) {#if visible}\nfunction create_if_block$e(ctx) {\n\tlet section;\n\tlet menu;\n\tlet t0;\n\tlet div;\n\tlet switch_instance;\n\tlet t1;\n\tlet section_transition;\n\tlet current;\n\n\tmenu = new Menu({\n\t\t\tprops: {\n\t\t\t\tpanes: /*panes*/ ctx[6],\n\t\t\t\tpane: /*pane*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tmenu.$on(\"change\", /*MenuChange*/ ctx[8]);\n\tvar switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tclient: /*client*/ ctx[4],\n\t\t\t\tclientManager: /*clientManager*/ ctx[0]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\tlet if_block = /*$secondaryPane*/ ctx[5] && create_if_block_1$7(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(menu.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tdiv = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div, \"class\", \"pane svelte-1dhkl71\");\n\t\t\tattr(div, \"role\", \"region\");\n\t\t\tattr(div, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\tattr(div, \"tabindex\", \"-1\");\n\t\t\tattr(section, \"aria-label\", \"boardgame.io Debug Panel\");\n\t\t\tattr(section, \"class\", \"debug-panel svelte-1dhkl71\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(menu, section, null);\n\t\t\tappend(section, t0);\n\t\t\tappend(section, div);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t}\n\n\t\t\t/*div_binding*/ ctx[10](div);\n\t\t\tappend(section, t1);\n\t\t\tif (if_block) if_block.m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst menu_changes = {};\n\t\t\tif (dirty & /*pane*/ 4) menu_changes.pane = /*pane*/ ctx[2];\n\t\t\tmenu.$set(menu_changes);\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*client*/ 16) switch_instance_changes.client = /*client*/ ctx[4];\n\t\t\tif (dirty & /*clientManager*/ 1) switch_instance_changes.clientManager = /*clientManager*/ ctx[0];\n\n\t\t\tif (switch_value !== (switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*pane*/ 4) {\n\t\t\t\tattr(div, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (/*$secondaryPane*/ ctx[5]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*$secondaryPane*/ 32) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$7(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\ttransition_in(if_block);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (!section_transition) section_transition = create_bidirectional_transition(section, fly, { x: 400 }, true);\n\t\t\t\tsection_transition.run(1);\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tif (!section_transition) section_transition = create_bidirectional_transition(section, fly, { x: 400 }, false);\n\t\t\tsection_transition.run(0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(menu);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t\t/*div_binding*/ ctx[10](null);\n\t\t\tif (if_block) if_block.d();\n\t\t\tif (detaching && section_transition) section_transition.end();\n\t\t}\n\t};\n}\n\n// (130:4) {#if $secondaryPane}\nfunction create_if_block_1$7(ctx) {\n\tlet div;\n\tlet switch_instance;\n\tlet current;\n\tvar switch_value = /*$secondaryPane*/ ctx[5].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tmetadata: /*$secondaryPane*/ ctx[5].metadata\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tattr(div, \"class\", \"secondary-pane svelte-1dhkl71\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*$secondaryPane*/ 32) switch_instance_changes.metadata = /*$secondaryPane*/ ctx[5].metadata;\n\n\t\t\tif (switch_value !== (switch_value = /*$secondaryPane*/ ctx[5].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t}\n\t};\n}\n\nfunction create_fragment$y(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block = /*visible*/ ctx[3] && create_if_block$e(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keypress\", /*Keypress*/ ctx[9]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*visible*/ ctx[3]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*visible*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$e(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$y($$self, $$props, $$invalidate) {\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(11, $clientManager = $$value)), clientManager);\n\n\tlet $secondaryPane;\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst panes = {\n\t\tmain: {\n\t\t\tlabel: \"Main\",\n\t\t\tshortcut: \"m\",\n\t\t\tcomponent: Main\n\t\t},\n\t\tlog: {\n\t\t\tlabel: \"Log\",\n\t\t\tshortcut: \"l\",\n\t\t\tcomponent: Log\n\t\t},\n\t\tinfo: {\n\t\t\tlabel: \"Info\",\n\t\t\tshortcut: \"i\",\n\t\t\tcomponent: Info\n\t\t},\n\t\tai: {\n\t\t\tlabel: \"AI\",\n\t\t\tshortcut: \"a\",\n\t\t\tcomponent: AI\n\t\t}\n\t};\n\n\tconst disableHotkeys = writable(false);\n\tconst secondaryPane = writable(null);\n\tcomponent_subscribe($$self, secondaryPane, value => $$invalidate(5, $secondaryPane = value));\n\tsetContext(\"hotkeys\", { disableHotkeys });\n\tsetContext(\"secondaryPane\", { secondaryPane });\n\tlet paneDiv;\n\tlet pane = \"main\";\n\n\tfunction MenuChange(e) {\n\t\t$$invalidate(2, pane = e.detail);\n\t\tpaneDiv.focus();\n\t}\n\n\tlet visible = true;\n\n\tfunction Keypress(e) {\n\t\t// Toggle debugger visibilty\n\t\tif (e.key == \".\") {\n\t\t\t$$invalidate(3, visible = !visible);\n\t\t\treturn;\n\t\t}\n\n\t\t// Set displayed pane\n\t\tif (!visible) return;\n\n\t\tObject.entries(panes).forEach(([key, { shortcut }]) => {\n\t\t\tif (e.key == shortcut) {\n\t\t\t\t$$invalidate(2, pane = key);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction div_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tpaneDiv = $$value;\n\t\t\t$$invalidate(1, paneDiv);\n\t\t});\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"clientManager\" in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\tlet client;\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 2048) {\n\t\t\t$: $$invalidate(4, client = $clientManager.client);\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tpaneDiv,\n\t\tpane,\n\t\tvisible,\n\t\tclient,\n\t\t$secondaryPane,\n\t\tpanes,\n\t\tsecondaryPane,\n\t\tMenuChange,\n\t\tKeypress,\n\t\tdiv_binding\n\t];\n}\n\nclass Debug extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!document.getElementById(\"svelte-1dhkl71-style\")) add_css$q();\n\t\tinit(this, options, instance$y, create_fragment$y, safe_not_equal, { clientManager: 0 });\n\t}\n}\n\nexport { Debug as D, _inherits as _, _createSuper as a, _createClass as b, _defineProperty as c, _classCallCheck as d, _objectWithoutProperties as e, _objectSpread2 as f };\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","import { o as Setup, d as Enhance, E as EnhanceCtx, f as Flush } from './turn-order-5f1427df.js';\nimport { P as ProcessGameConfig } from './reducer-e68c7d84.js';\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Creates the initial game state.\r\n */\r\nfunction InitializeGame({ game, numPlayers, setupData, }) {\r\n    game = ProcessGameConfig(game);\r\n    if (!numPlayers) {\r\n        numPlayers = 2;\r\n    }\r\n    const ctx = game.flow.ctx(numPlayers);\r\n    let state = {\r\n        // User managed state.\r\n        G: {},\r\n        // Framework managed state.\r\n        ctx,\r\n        // Plugin related state.\r\n        plugins: {},\r\n    };\r\n    // Run plugins over initial state.\r\n    state = Setup(state, { game });\r\n    state = Enhance(state, { game, playerID: undefined });\r\n    const enhancedCtx = EnhanceCtx(state);\r\n    state.G = game.setup(enhancedCtx, setupData);\r\n    let initial = {\r\n        ...state,\r\n        // List of {G, ctx} pairs that can be undone.\r\n        _undo: [],\r\n        // List of {G, ctx} pairs that can be redone.\r\n        _redo: [],\r\n        // A monotonically non-decreasing ID to ensure that\r\n        // state updates are only allowed from clients that\r\n        // are at the same version that the server.\r\n        _stateID: 0,\r\n    };\r\n    initial = game.flow.init(initial);\r\n    initial = Flush(initial, { game });\r\n    // Initialize undo stack.\r\n    if (!game.disableUndo) {\r\n        initial._undo = [\r\n            {\r\n                G: initial.G,\r\n                ctx: initial.ctx,\r\n                plugins: initial.plugins,\r\n            },\r\n        ];\r\n    }\r\n    return initial;\r\n}\n\nexport { InitializeGame as I };\n","/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass Transport {\r\n    constructor({ store, gameName, playerID, matchID, credentials, numPlayers, }) {\r\n        this.store = store;\r\n        this.gameName = gameName || 'default';\r\n        this.playerID = playerID || null;\r\n        this.matchID = matchID || 'default';\r\n        this.credentials = credentials;\r\n        this.numPlayers = numPlayers || 2;\r\n    }\r\n}\n\nexport { Transport as T };\n","import { nanoid } from 'nanoid';\nimport { D as Debug } from './Debug-cf878fdc.js';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { A as ActionCreators, r as reset, u as undo, p as redo, q as PlayerView, M as MAKE_MOVE, G as GAME_EVENT, l as UNDO, m as REDO, R as RESET, j as UPDATE, k as SYNC } from './turn-order-5f1427df.js';\nimport { P as ProcessGameConfig, C as CreateGameReducer } from './reducer-e68c7d84.js';\nimport { I as InitializeGame } from './initialize-07bed2c0.js';\nimport { T as Transport } from './transport-0079de87.js';\n\n/**\r\n * This class doesn’t do anything, but simplifies the client class by providing\r\n * dummy functions to call, so we don’t need to mock them in the client.\r\n */\r\nclass DummyImpl extends Transport {\r\n    connect() { }\r\n    disconnect() { }\r\n    onAction() { }\r\n    onChatMessage() { }\r\n    subscribe() { }\r\n    subscribeChatMessage() { }\r\n    subscribeMatchData() { }\r\n    updateCredentials() { }\r\n    updateMatchID() { }\r\n    updatePlayerID() { }\r\n}\r\nconst DummyTransport = (opts) => new DummyImpl(opts);\n\n/**\r\n * Class to manage boardgame.io clients and limit debug panel rendering.\r\n */\r\nclass ClientManager {\r\n    constructor() {\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n        this.clients = new Map();\r\n        this.subscribers = new Map();\r\n    }\r\n    /**\r\n     * Register a client with the client manager.\r\n     */\r\n    register(client) {\r\n        // Add client to clients map.\r\n        this.clients.set(client, client);\r\n        // Mount debug for this client (no-op if another debug is already mounted).\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Unregister a client from the client manager.\r\n     */\r\n    unregister(client) {\r\n        // Remove client from clients map.\r\n        this.clients.delete(client);\r\n        if (this.currentClient === client) {\r\n            // If the removed client owned the debug panel, unmount it.\r\n            this.unmountDebug();\r\n            // Mount debug panel for next available client.\r\n            for (const [client] of this.clients) {\r\n                if (this.debugPanel)\r\n                    break;\r\n                this.mountDebug(client);\r\n            }\r\n        }\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Subscribe to the client manager state.\r\n     * Calls the passed callback each time the current client changes or a client\r\n     * registers/unregisters.\r\n     * Returns a function to unsubscribe from the state updates.\r\n     */\r\n    subscribe(callback) {\r\n        const id = Symbol();\r\n        this.subscribers.set(id, callback);\r\n        callback(this.getState());\r\n        return () => {\r\n            this.subscribers.delete(id);\r\n        };\r\n    }\r\n    /**\r\n     * Switch to a client with a matching playerID.\r\n     */\r\n    switchPlayerID(playerID) {\r\n        // For multiplayer clients, try switching control to a different client\r\n        // that is using the same transport layer.\r\n        if (this.currentClient.multiplayer) {\r\n            for (const [client] of this.clients) {\r\n                if (client.playerID === playerID &&\r\n                    client.debugOpt !== false &&\r\n                    client.multiplayer === this.currentClient.multiplayer) {\r\n                    this.switchToClient(client);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // If no client matches, update the playerID for the current client.\r\n        this.currentClient.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Set the passed client as the active client for debugging.\r\n     */\r\n    switchToClient(client) {\r\n        if (client === this.currentClient)\r\n            return;\r\n        this.unmountDebug();\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Notify all subscribers of changes to the client manager state.\r\n     */\r\n    notifySubscribers() {\r\n        const arg = this.getState();\r\n        this.subscribers.forEach((cb) => {\r\n            cb(arg);\r\n        });\r\n    }\r\n    /**\r\n     * Get the client manager state.\r\n     */\r\n    getState() {\r\n        return {\r\n            client: this.currentClient,\r\n            debuggableClients: this.getDebuggableClients(),\r\n        };\r\n    }\r\n    /**\r\n     * Get an array of the registered clients that haven’t disabled the debug panel.\r\n     */\r\n    getDebuggableClients() {\r\n        return [...this.clients.values()].filter((client) => client.debugOpt !== false);\r\n    }\r\n    /**\r\n     * Mount the debug panel using the passed client.\r\n     */\r\n    mountDebug(client) {\r\n        if (client.debugOpt === false ||\r\n            this.debugPanel !== null ||\r\n            typeof document === 'undefined') {\r\n            return;\r\n        }\r\n        let DebugImpl;\r\n        let target = document.body;\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            DebugImpl = Debug;\r\n        }\r\n        if (client.debugOpt && client.debugOpt !== true) {\r\n            DebugImpl = client.debugOpt.impl || DebugImpl;\r\n            target = client.debugOpt.target || target;\r\n        }\r\n        if (DebugImpl) {\r\n            this.currentClient = client;\r\n            this.debugPanel = new DebugImpl({\r\n                target,\r\n                props: { clientManager: this },\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Unmount the debug panel.\r\n     */\r\n    unmountDebug() {\r\n        this.debugPanel.$destroy();\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n    }\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Global client manager instance that all clients register with.\r\n */\r\nconst GlobalClientManager = new ClientManager();\r\n/**\r\n * Standardise the passed playerID, using currentPlayer if appropriate.\r\n */\r\nfunction assumedPlayerID(playerID, store, multiplayer) {\r\n    // In singleplayer mode, if the client does not have a playerID\r\n    // associated with it, we attach the currentPlayer as playerID.\r\n    if (!multiplayer && (playerID === null || playerID === undefined)) {\r\n        const state = store.getState();\r\n        playerID = state.ctx.currentPlayer;\r\n    }\r\n    return playerID;\r\n}\r\n/**\r\n * createDispatchers\r\n *\r\n * Create action dispatcher wrappers with bound playerID and credentials\r\n */\r\nfunction createDispatchers(storeActionType, innerActionNames, store, playerID, credentials, multiplayer) {\r\n    return innerActionNames.reduce((dispatchers, name) => {\r\n        dispatchers[name] = function (...args) {\r\n            store.dispatch(ActionCreators[storeActionType](name, args, assumedPlayerID(playerID, store, multiplayer), credentials));\r\n        };\r\n        return dispatchers;\r\n    }, {});\r\n}\r\n// Creates a set of dispatchers to make moves.\r\nconst createMoveDispatchers = createDispatchers.bind(null, 'makeMove');\r\n// Creates a set of dispatchers to dispatch game flow events.\r\nconst createEventDispatchers = createDispatchers.bind(null, 'gameEvent');\r\n// Creates a set of dispatchers to dispatch actions to plugins.\r\nconst createPluginDispatchers = createDispatchers.bind(null, 'plugin');\r\n/**\r\n * Implementation of Client (see below).\r\n */\r\nclass _ClientImpl {\r\n    constructor({ game, debug, numPlayers, multiplayer, matchID: matchID, playerID, credentials, enhancer, }) {\r\n        this.game = ProcessGameConfig(game);\r\n        this.playerID = playerID;\r\n        this.matchID = matchID;\r\n        this.credentials = credentials;\r\n        this.multiplayer = multiplayer;\r\n        this.debugOpt = debug;\r\n        this.manager = GlobalClientManager;\r\n        this.gameStateOverride = null;\r\n        this.subscribers = {};\r\n        this._running = false;\r\n        this.reducer = CreateGameReducer({\r\n            game: this.game,\r\n            isClient: multiplayer !== undefined,\r\n        });\r\n        this.initialState = null;\r\n        if (!multiplayer) {\r\n            this.initialState = InitializeGame({ game: this.game, numPlayers });\r\n        }\r\n        this.reset = () => {\r\n            this.store.dispatch(reset(this.initialState));\r\n        };\r\n        this.undo = () => {\r\n            const undo$1 = undo(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(undo$1);\r\n        };\r\n        this.redo = () => {\r\n            const redo$1 = redo(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(redo$1);\r\n        };\r\n        this.log = [];\r\n        /**\r\n         * Middleware that manages the log object.\r\n         * Reducers generate deltalogs, which are log events\r\n         * that are the result of application of a single action.\r\n         * The master may also send back a deltalog or the entire\r\n         * log depending on the type of request.\r\n         * The middleware below takes care of all these cases while\r\n         * managing the log object.\r\n         */\r\n        const LogMiddleware = (store) => (next) => (action) => {\r\n            const result = next(action);\r\n            const state = store.getState();\r\n            switch (action.type) {\r\n                case MAKE_MOVE:\r\n                case GAME_EVENT:\r\n                case UNDO:\r\n                case REDO: {\r\n                    const deltalog = state.deltalog;\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case RESET: {\r\n                    this.log = [];\r\n                    break;\r\n                }\r\n                case UPDATE: {\r\n                    let id = -1;\r\n                    if (this.log.length > 0) {\r\n                        id = this.log[this.log.length - 1]._stateID;\r\n                    }\r\n                    let deltalog = action.deltalog || [];\r\n                    // Filter out actions that are already present\r\n                    // in the current log. This may occur when the\r\n                    // client adds an entry to the log followed by\r\n                    // the update from the master here.\r\n                    deltalog = deltalog.filter((l) => l._stateID > id);\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case SYNC: {\r\n                    this.initialState = action.initialState;\r\n                    this.log = action.log || [];\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and sends them to the master,\r\n         * which keeps the authoritative version of the state.\r\n         */\r\n        const TransportMiddleware = (store) => (next) => (action) => {\r\n            const baseState = store.getState();\r\n            const result = next(action);\r\n            if (!('clientOnly' in action)) {\r\n                this.transport.onAction(baseState, action);\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and invokes the subscription callback.\r\n         */\r\n        const SubscriptionMiddleware = () => (next) => (action) => {\r\n            const result = next(action);\r\n            this.notifySubscribers();\r\n            return result;\r\n        };\r\n        const middleware = applyMiddleware(SubscriptionMiddleware, TransportMiddleware, LogMiddleware);\r\n        enhancer =\r\n            enhancer !== undefined ? compose(middleware, enhancer) : middleware;\r\n        this.store = createStore(this.reducer, this.initialState, enhancer);\r\n        if (!multiplayer)\r\n            multiplayer = DummyTransport;\r\n        this.transport = multiplayer({\r\n            gameKey: game,\r\n            game: this.game,\r\n            store: this.store,\r\n            matchID,\r\n            playerID,\r\n            credentials,\r\n            gameName: this.game.name,\r\n            numPlayers,\r\n        });\r\n        this.createDispatchers();\r\n        this.transport.subscribeMatchData((metadata) => {\r\n            this.matchData = metadata;\r\n            this.notifySubscribers();\r\n        });\r\n        this.chatMessages = [];\r\n        this.sendChatMessage = (payload) => {\r\n            this.transport.onChatMessage(this.matchID, {\r\n                id: nanoid(7),\r\n                sender: this.playerID,\r\n                payload: payload,\r\n            });\r\n        };\r\n        this.transport.subscribeChatMessage((message) => {\r\n            this.chatMessages = [...this.chatMessages, message];\r\n            this.notifySubscribers();\r\n        });\r\n    }\r\n    notifySubscribers() {\r\n        Object.values(this.subscribers).forEach((fn) => fn(this.getState()));\r\n    }\r\n    overrideGameState(state) {\r\n        this.gameStateOverride = state;\r\n        this.notifySubscribers();\r\n    }\r\n    start() {\r\n        this.transport.connect();\r\n        this._running = true;\r\n        this.manager.register(this);\r\n    }\r\n    stop() {\r\n        this.transport.disconnect();\r\n        this._running = false;\r\n        this.manager.unregister(this);\r\n    }\r\n    subscribe(fn) {\r\n        const id = Object.keys(this.subscribers).length;\r\n        this.subscribers[id] = fn;\r\n        this.transport.subscribe(() => this.notifySubscribers());\r\n        if (this._running || !this.multiplayer) {\r\n            fn(this.getState());\r\n        }\r\n        // Return a handle that allows the caller to unsubscribe.\r\n        return () => {\r\n            delete this.subscribers[id];\r\n        };\r\n    }\r\n    getInitialState() {\r\n        return this.initialState;\r\n    }\r\n    getState() {\r\n        let state = this.store.getState();\r\n        if (this.gameStateOverride !== null) {\r\n            state = this.gameStateOverride;\r\n        }\r\n        // This is the state before a sync with the game master.\r\n        if (state === null) {\r\n            return state;\r\n        }\r\n        // isActive.\r\n        let isActive = true;\r\n        const isPlayerActive = this.game.flow.isPlayerActive(state.G, state.ctx, this.playerID);\r\n        if (this.multiplayer && !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (!this.multiplayer &&\r\n            this.playerID !== null &&\r\n            this.playerID !== undefined &&\r\n            !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (state.ctx.gameover !== undefined) {\r\n            isActive = false;\r\n        }\r\n        // Secrets are normally stripped on the server,\r\n        // but we also strip them here so that game developers\r\n        // can see their effects while prototyping.\r\n        // Do not strip again if this is a multiplayer game\r\n        // since the server has already stripped secret info. (issue #818)\r\n        if (!this.multiplayer) {\r\n            state = {\r\n                ...state,\r\n                G: this.game.playerView(state.G, state.ctx, this.playerID),\r\n                plugins: PlayerView(state, this),\r\n            };\r\n        }\r\n        // Combine into return value.\r\n        return {\r\n            ...state,\r\n            log: this.log,\r\n            isActive,\r\n            isConnected: this.transport.isConnected,\r\n        };\r\n    }\r\n    createDispatchers() {\r\n        this.moves = createMoveDispatchers(this.game.moveNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.events = createEventDispatchers(this.game.flow.enabledEventNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.plugins = createPluginDispatchers(this.game.pluginNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n    }\r\n    updatePlayerID(playerID) {\r\n        this.playerID = playerID;\r\n        this.createDispatchers();\r\n        this.transport.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateMatchID(matchID) {\r\n        this.matchID = matchID;\r\n        this.createDispatchers();\r\n        this.transport.updateMatchID(matchID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.createDispatchers();\r\n        this.transport.updateCredentials(credentials);\r\n        this.notifySubscribers();\r\n    }\r\n}\r\n/**\r\n * Client\r\n *\r\n * boardgame.io JS client.\r\n *\r\n * @param {...object} game - The return value of `Game`.\r\n * @param {...object} numPlayers - The number of players.\r\n * @param {...object} multiplayer - Set to a falsy value or a transportFactory, e.g., SocketIO()\r\n * @param {...object} matchID - The matchID that you want to connect to.\r\n * @param {...object} playerID - The playerID associated with this client.\r\n * @param {...string} credentials - The authentication credentials associated with this client.\r\n *\r\n * Returns:\r\n *   A JS object that provides an API to interact with the\r\n *   game by dispatching moves and events.\r\n */\r\nfunction Client(opts) {\r\n    return new _ClientImpl(opts);\r\n}\n\nexport { Client as C };\n","const assertString = (str, label) => {\r\n    if (!str || typeof str !== 'string') {\r\n        throw new Error(`Expected ${label} string, got \"${str}\".`);\r\n    }\r\n};\r\nconst assertGameName = (name) => assertString(name, 'game name');\r\nconst assertMatchID = (id) => assertString(id, 'match ID');\r\nconst validateBody = (body, schema) => {\r\n    if (!body)\r\n        throw new Error(`Expected body, got “${body}”.`);\r\n    for (const key in schema) {\r\n        const type = schema[key];\r\n        const received = body[key];\r\n        if (typeof received !== type) {\r\n            throw new TypeError(`Expected body.${key} to be of type ${type}, got “${received}”.`);\r\n        }\r\n    }\r\n};\r\nclass LobbyClientError extends Error {\r\n    constructor(message, details) {\r\n        super(message);\r\n        this.details = details;\r\n    }\r\n}\r\n/**\r\n * Create a boardgame.io Lobby API client.\r\n * @param server The API’s base URL, e.g. `http://localhost:8000`.\r\n */\r\nclass LobbyClient {\r\n    constructor({ server = '' } = {}) {\r\n        // strip trailing slash if passed\r\n        this.server = server.replace(/\\/$/, '');\r\n    }\r\n    async request(route, init) {\r\n        const response = await fetch(this.server + route, init);\r\n        if (!response.ok) {\r\n            let details;\r\n            try {\r\n                details = await response.json();\r\n            }\r\n            catch {\r\n                try {\r\n                    details = await response.text();\r\n                }\r\n                catch (error) {\r\n                    details = error.message;\r\n                }\r\n            }\r\n            throw new LobbyClientError(`HTTP status ${response.status}`, details);\r\n        }\r\n        return response.json();\r\n    }\r\n    async post(route, opts) {\r\n        let init = {\r\n            method: 'post',\r\n            body: JSON.stringify(opts.body),\r\n            headers: { 'Content-Type': 'application/json' },\r\n        };\r\n        if (opts.init)\r\n            init = {\r\n                ...init,\r\n                ...opts.init,\r\n                headers: { ...init.headers, ...opts.init.headers },\r\n            };\r\n        return this.request(route, init);\r\n    }\r\n    /**\r\n     * Get a list of the game names available on this server.\r\n     * @param  init Optional RequestInit interface to override defaults.\r\n     * @return Array of game names.\r\n     *\r\n     * @example\r\n     * lobbyClient.listGames()\r\n     *   .then(console.log); // => ['chess', 'tic-tac-toe']\r\n     */\r\n    async listGames(init) {\r\n        return this.request('/games', init);\r\n    }\r\n    /**\r\n     * Get a list of the matches for a specific game type on the server.\r\n     * @param  gameName The game to list for, e.g. 'tic-tac-toe'.\r\n     * @param  where    Options to filter matches by update time or gameover state\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Array of match metadata objects.\r\n     *\r\n     * @example\r\n     * lobbyClient.listMatches('tic-tac-toe', where: { isGameover: false })\r\n     *   .then(data => console.log(data.matches));\r\n     * // => [\r\n     * //   {\r\n     * //     matchID: 'xyz',\r\n     * //     gameName: 'tic-tac-toe',\r\n     * //     players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * //   },\r\n     * //   ...\r\n     * // ]\r\n     */\r\n    async listMatches(gameName, where, init) {\r\n        assertGameName(gameName);\r\n        let query = '';\r\n        if (where) {\r\n            const queries = [];\r\n            const { isGameover, updatedBefore, updatedAfter } = where;\r\n            if (isGameover !== undefined)\r\n                queries.push(`isGameover=${isGameover}`);\r\n            if (updatedBefore)\r\n                queries.push(`updatedBefore=${updatedBefore}`);\r\n            if (updatedAfter)\r\n                queries.push(`updatedAfter=${updatedAfter}`);\r\n            if (queries.length > 0)\r\n                query = '?' + queries.join('&');\r\n        }\r\n        return this.request(`/games/${gameName}${query}`, init);\r\n    }\r\n    /**\r\n     * Get metadata for a specific match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to fetch.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return A match metadata object.\r\n     *\r\n     * @example\r\n     * lobbyClient.getMatch('tic-tac-toe', 'xyz').then(console.log);\r\n     * // => {\r\n     * //   matchID: 'xyz',\r\n     * //   gameName: 'tic-tac-toe',\r\n     * //   players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * // }\r\n     */\r\n    async getMatch(gameName, matchID, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        return this.request(`/games/${gameName}/${matchID}`, init);\r\n    }\r\n    /**\r\n     * Create a new match for a specific game type.\r\n     * @param  gameName The game to create a match for, e.g. 'tic-tac-toe'.\r\n     * @param  body     Options required to configure match creation.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return An object containing the created `matchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.createMatch('tic-tac-toe', { numPlayers: 2 })\r\n     *   .then(console.log);\r\n     * // => { matchID: 'xyz' }\r\n     */\r\n    async createMatch(gameName, body, init) {\r\n        assertGameName(gameName);\r\n        validateBody(body, { numPlayers: 'number' });\r\n        return this.post(`/games/${gameName}/create`, { body, init });\r\n    }\r\n    /**\r\n     * Join a match using its matchID.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to join.\r\n     * @param  body     Options required to join match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `playerCredentials` for the player who joined.\r\n     *\r\n     * @example\r\n     * lobbyClient.joinMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   playerName: 'Bob',\r\n     * }).then(console.log);\r\n     * // => { playerCredentials: 'random-string' }\r\n     */\r\n    async joinMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', playerName: 'string' });\r\n        return this.post(`/games/${gameName}/${matchID}/join`, { body, init });\r\n    }\r\n    /**\r\n     * Leave a previously joined match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to leave.\r\n     * @param  body     Options required to leave match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.leaveMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(() => console.log('Left match.'))\r\n     *   .catch(error => console.error('Error leaving match', error));\r\n     */\r\n    async leaveMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/leave`, { body, init });\r\n    }\r\n    /**\r\n     * Update a player’s name or custom metadata.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to update.\r\n     * @param  body     Options required to update player.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.updatePlayer('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     *   newName: 'Al',\r\n     * })\r\n     *   .then(() => console.log('Updated player data.'))\r\n     *   .catch(error => console.error('Error updating data', error));\r\n     */\r\n    async updatePlayer(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/update`, { body, init });\r\n    }\r\n    /**\r\n     * Create a new match based on the configuration of the current match.\r\n     * @param  gameName The match’s game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to play again.\r\n     * @param  body     Options required to configure match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `nextMatchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.playAgain('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(({ nextMatchID }) => {\r\n     *     return lobbyClient.joinMatch('tic-tac-toe', nextMatchID, {\r\n     *       playerID: '0',\r\n     *       playerName: 'Al',\r\n     *     })\r\n     *   })\r\n     *   .then({ playerCredentials } => {\r\n     *     console.log(playerCredentials);\r\n     *   })\r\n     *   .catch(console.error);\r\n     */\r\n    async playAgain(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        return this.post(`/games/${gameName}/${matchID}/playAgain`, { body, init });\r\n    }\r\n}\n\nexport { LobbyClient as L, LobbyClientError as a };\n","import 'nanoid';\nimport './Debug-cf878fdc.js';\nimport 'redux';\nimport './turn-order-5f1427df.js';\nimport 'immer';\nimport 'lodash.isplainobject';\nimport './reducer-e68c7d84.js';\nimport './initialize-07bed2c0.js';\nimport './transport-0079de87.js';\nexport { C as Client } from './client-deed9200.js';\nimport 'flatted';\nimport './ai-242cdcaf.js';\nexport { L as LobbyClient, a as LobbyClientError } from './client-99609c4d.js';\n","export { w as ActivePlayers, h as INVALID_MOVE, S as Stage, T as TurnOrder } from './turn-order-5f1427df.js';\nimport 'immer';\nimport 'lodash.isplainobject';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * PlayerView reducers.\r\n */\r\nconst PlayerView = {\r\n    /**\r\n     * STRIP_SECRETS\r\n     *\r\n     * Reducer which removes a key named `secret` and\r\n     * removes all the keys in `players`, except for the one\r\n     * corresponding to the current playerID.\r\n     */\r\n    STRIP_SECRETS: (G, ctx, playerID) => {\r\n        const r = { ...G };\r\n        if (r.secret !== undefined) {\r\n            delete r.secret;\r\n        }\r\n        if (r.players) {\r\n            r.players = {\r\n                [playerID]: r.players[playerID],\r\n            };\r\n        }\r\n        return r;\r\n    },\r\n};\n\nexport { PlayerView };\n","import { INVALID_MOVE } from 'boardgame.io/core';\n\nexport const TicTacToe = {\n  setup: () => ({ cells: Array(9).fill(null) }),\n\n  turn: {\n    moveLimit: 1,\n  },\n\n  moves: {\n    clickCell: (G, ctx, id) => {\n      if (G.cells[id] !== null) {\n        return INVALID_MOVE;\n      }\n      G.cells[id] = ctx.currentPlayer;\n    },\n  },\n\n  endIf: (G, ctx) => {\n  if (IsVictory(G.cells)) {\n    return { winner: ctx.currentPlayer };\n  }\n  if (IsDraw(G.cells)) {\n    return { draw: true };\n  }\n},\n};\n\n// Return true if `cells` is in a winning configuration.\nfunction IsVictory(cells) {\n  const positions = [\n    [0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6],\n    [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]\n  ];\n\n  const isRowComplete = row => {\n    const symbols = row.map(i => cells[i]);\n    return symbols.every(i => i !== null && i === symbols[0]);\n  };\n\n  return positions.map(isRowComplete).some(i => i === true);\n}\n\n// Return true if all `cells` are occupied.\nfunction IsDraw(cells) {\n  return cells.filter(c => c === null).length === 0;\n}\n","import { Client } from 'boardgame.io/client';\nimport { TicTacToe } from './Game';\n\nclass TicTacToeClient {\n  constructor(rootElement) {\n    this.client = Client({ game: TicTacToe });\n    this.client.start();\n    this.rootElement = rootElement;\n    this.createBoard();\n    this.attachListeners();\n    this.client.subscribe(state => this.update(state));\n  }\n\n  createBoard() {\n    // Create cells in rows for the Tic-Tac-Toe board.\n    const rows = [];\n    for (let i = 0; i < 3; i++) {\n      const cells = [];\n      for (let j = 0; j < 3; j++) {\n        const id = 3 * i + j;\n        cells.push(`<td class=\"cell\" data-id=\"${id}\"></td>`);\n      }\n      rows.push(`<tr>${cells.join('')}</tr>`);\n    }\n\n    // Add the HTML to our app <div>.\n    // We’ll use the empty <p> to display the game winner later.\n    this.rootElement.innerHTML = `\n      <table>${rows.join('')}</table>\n      <p class=\"winner\"></p>\n    `;\n  }\n\n  attachListeners() {\n    // This event handler will read the cell id from a cell’s\n    // `data-id` attribute and make the `clickCell` move.\n    const handleCellClick = event => {\n      const id = parseInt(event.target.dataset.id);\n      this.client.moves.clickCell(id);\n    };\n    // Attach the event listener to each of the board cells.\n    const cells = this.rootElement.querySelectorAll('.cell');\n    cells.forEach(cell => {\n      cell.onclick = handleCellClick;\n    });\n  }\n\n  update(state) {\n   // Get all the board cells.\n   const cells = this.rootElement.querySelectorAll('.cell');\n   // Update cells to display the values in game state.\n   cells.forEach(cell => {\n     const cellId = parseInt(cell.dataset.id);\n     const cellValue = state.G.cells[cellId];\n     cell.textContent = cellValue !== null ? cellValue : '';\n   });\n   // Get the gameover message element.\n    const messageEl = this.rootElement.querySelector('.winner');\n    // Update the element to show a winner if any.\n    if (state.ctx.gameover) {\n      messageEl.textContent =\n        state.ctx.gameover.winner !== undefined\n          ? 'Winner: ' + state.ctx.gameover.winner\n          : 'Draw!';\n    } else {\n      messageEl.textContent = '';\n    }\n  }\n  \n}\n\nconst appElement = document.getElementById('app');\nconst app = new TicTacToeClient(appElement);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}